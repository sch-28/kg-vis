var WE=Object.defineProperty;var VE=(n,t,e)=>t in n?WE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Qe=(n,t,e)=>(VE(n,typeof t!="symbol"?t+"":t,e),e);import{S as Le,i as xe,s as Ae,J as ye,K as It,e as $e,L as Ct,m as F,h as $,M as mr,b as x,H as D,N as pt,I as _e,O as nr,P as ot,Q as st,k as z,l as j,n as C,g as Fe,t as N,d as Be,f as M,R as yt,q as ve,r as pe,w as ae,a as te,x as le,c as re,y as oe,T as J,u as tt,z as se,U as Lr,V as UE,W as Mr,B as ov,X as N_,p as Ue,Y as Zo,v as vn,Z as vt,_ as Ze,C as ut,D as ft,E as ct,F as dt,o as Au,$ as GE,G as Jo,a0 as qE,a1 as Aa,a2 as Mu,a3 as KE,a4 as Pr,a5 as YE,a6 as F_,a7 as XE,a8 as ba,a9 as Rp,aa as al,ab as B_,ac as Bi,ad as Ma,ae as ke,af as Du,ag as Rr,ah as Nr,ai as ol}from"../../chunks/index-54072234.js";import{a as QE,d as $i}from"../../chunks/util-6573a4ec.js";/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.4
 * @date    2022-03-15T15:23:59.245Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function Ru(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L_={exports:{}},sl=function(n){return n&&n.Math==Math&&n},Ee=sl(typeof globalThis=="object"&&globalThis)||sl(typeof window=="object"&&window)||sl(typeof self=="object"&&self)||sl(typeof Np=="object"&&Np)||function(){return this}()||Function("return this")(),rt=function(n){try{return!!n()}catch{return!0}},ZE=rt,es=!ZE(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")}),JE=es,x_=Function.prototype,Fp=x_.apply,Bp=x_.call,Va=typeof Reflect=="object"&&Reflect.apply||(JE?Bp.bind(Fp):function(){return Bp.apply(Fp,arguments)}),z_=es,j_=Function.prototype,eS=j_.bind,jd=j_.call,tS=z_&&eS.bind(jd,jd),qe=z_?function(n){return n&&tS(n)}:function(n){return n&&function(){return jd.apply(n,arguments)}},Kt=function(n){return typeof n=="function"},ts={},rS=rt,jt=!rS(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),nS=es,ll=Function.prototype.call,pn=nS?ll.bind(ll):function(){return ll.apply(ll,arguments)},rs={},H_={}.propertyIsEnumerable,W_=Object.getOwnPropertyDescriptor,iS=W_&&!H_.call({1:2},1);rs.f=iS?function(t){var e=W_(this,t);return!!e&&e.enumerable}:H_;var ns=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}},V_=qe,aS=V_({}.toString),oS=V_("".slice),Yi=function(n){return oS(aS(n),8,-1)},sS=Ee,lS=qe,uS=rt,fS=Yi,Lf=sS.Object,cS=lS("".split),Nu=uS(function(){return!Lf("z").propertyIsEnumerable(0)})?function(n){return fS(n)=="String"?cS(n,""):Lf(n)}:Lf,dS=Ee,hS=dS.TypeError,is=function(n){if(n==null)throw hS("Can't call method on "+n);return n},vS=Nu,pS=is,Zr=function(n){return vS(pS(n))},gS=Kt,sr=function(n){return typeof n=="object"?n!==null:gS(n)},lt={},xf=lt,zf=Ee,mS=Kt,Lp=function(n){return mS(n)?n:void 0},Ln=function(n,t){return arguments.length<2?Lp(xf[n])||Lp(zf[n]):xf[n]&&xf[n][t]||zf[n]&&zf[n][t]},yS=qe,Ht=yS({}.isPrototypeOf),bS=Ln,as=bS("navigator","userAgent")||"",U_=Ee,jf=as,xp=U_.process,zp=U_.Deno,jp=xp&&xp.versions||zp&&zp.version,Hp=jp&&jp.v8,Wr,nu;Hp&&(Wr=Hp.split("."),nu=Wr[0]>0&&Wr[0]<4?1:+(Wr[0]+Wr[1]));!nu&&jf&&(Wr=jf.match(/Edge\/(\d+)/),(!Wr||Wr[1]>=74)&&(Wr=jf.match(/Chrome\/(\d+)/),Wr&&(nu=+Wr[1])));var os=nu,Wp=os,_S=rt,sv=!!Object.getOwnPropertySymbols&&!_S(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&Wp&&Wp<41}),$S=sv,G_=$S&&!Symbol.sham&&typeof Symbol.iterator=="symbol",wS=Ee,kS=Ln,ES=Kt,SS=Ht,OS=G_,TS=wS.Object,lv=OS?function(n){return typeof n=="symbol"}:function(n){var t=kS("Symbol");return ES(t)&&SS(t.prototype,TS(n))},IS=Ee,CS=IS.String,Fu=function(n){try{return CS(n)}catch{return"Object"}},PS=Ee,AS=Kt,MS=Fu,DS=PS.TypeError,Xi=function(n){if(AS(n))return n;throw DS(MS(n)+" is not a function")},RS=Xi,uv=function(n,t){var e=n[t];return e==null?void 0:RS(e)},NS=Ee,Hf=pn,Wf=Kt,Vf=sr,FS=NS.TypeError,BS=function(n,t){var e,r;if(t==="string"&&Wf(e=n.toString)&&!Vf(r=Hf(e,n))||Wf(e=n.valueOf)&&!Vf(r=Hf(e,n))||t!=="string"&&Wf(e=n.toString)&&!Vf(r=Hf(e,n)))return r;throw FS("Can't convert object to primitive value")},Bu={exports:{}},Vp=Ee,LS=Object.defineProperty,xS=function(n,t){try{LS(Vp,n,{value:t,configurable:!0,writable:!0})}catch{Vp[n]=t}return t},zS=Ee,jS=xS,Up="__core-js_shared__",HS=zS[Up]||jS(Up,{}),fv=HS,Gp=fv;(Bu.exports=function(n,t){return Gp[n]||(Gp[n]=t!==void 0?t:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var WS=Ee,VS=is,US=WS.Object,_r=function(n){return US(VS(n))},GS=qe,qS=_r,KS=GS({}.hasOwnProperty),Zt=Object.hasOwn||function(t,e){return KS(qS(t),e)},YS=qe,XS=0,QS=Math.random(),ZS=YS(1 .toString),Lu=function(n){return"Symbol("+(n===void 0?"":n)+")_"+ZS(++XS+QS,36)},JS=Ee,eO=Bu.exports,qp=Zt,tO=Lu,Kp=sv,q_=G_,sa=eO("wks"),Ci=JS.Symbol,Yp=Ci&&Ci.for,rO=q_?Ci:Ci&&Ci.withoutSetter||tO,Bt=function(n){if(!qp(sa,n)||!(Kp||typeof sa[n]=="string")){var t="Symbol."+n;Kp&&qp(Ci,n)?sa[n]=Ci[n]:q_&&Yp?sa[n]=Yp(t):sa[n]=rO(t)}return sa[n]},nO=Ee,iO=pn,Xp=sr,Qp=lv,aO=uv,oO=BS,sO=Bt,lO=nO.TypeError,uO=sO("toPrimitive"),fO=function(n,t){if(!Xp(n)||Qp(n))return n;var e=aO(n,uO),r;if(e){if(t===void 0&&(t="default"),r=iO(e,n,t),!Xp(r)||Qp(r))return r;throw lO("Can't convert object to primitive value")}return t===void 0&&(t="number"),oO(n,t)},cO=fO,dO=lv,xu=function(n){var t=cO(n,"string");return dO(t)?t:t+""},hO=Ee,Zp=sr,Hd=hO.document,vO=Zp(Hd)&&Zp(Hd.createElement),K_=function(n){return vO?Hd.createElement(n):{}},pO=jt,gO=rt,mO=K_,Y_=!pO&&!gO(function(){return Object.defineProperty(mO("div"),"a",{get:function(){return 7}}).a!=7}),yO=jt,bO=pn,_O=rs,$O=ns,wO=Zr,kO=xu,EO=Zt,SO=Y_,Jp=Object.getOwnPropertyDescriptor;ts.f=yO?Jp:function(t,e){if(t=wO(t),e=kO(e),SO)try{return Jp(t,e)}catch{}if(EO(t,e))return $O(!bO(_O.f,t,e),t[e])};var OO=rt,TO=Kt,IO=/#|\.prototype\./,ss=function(n,t){var e=PO[CO(n)];return e==MO?!0:e==AO?!1:TO(t)?OO(t):!!t},CO=ss.normalize=function(n){return String(n).replace(IO,".").toLowerCase()},PO=ss.data={},AO=ss.NATIVE="N",MO=ss.POLYFILL="P",DO=ss,eg=qe,RO=Xi,NO=es,FO=eg(eg.bind),Ua=function(n,t){return RO(n),t===void 0?n:NO?FO(n,t):function(){return n.apply(t,arguments)}},Er={},BO=jt,LO=rt,X_=BO&&LO(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Q_=Ee,xO=sr,zO=Q_.String,jO=Q_.TypeError,Jr=function(n){if(xO(n))return n;throw jO(zO(n)+" is not an object")},HO=Ee,WO=jt,VO=Y_,UO=X_,ul=Jr,tg=xu,GO=HO.TypeError,Uf=Object.defineProperty,qO=Object.getOwnPropertyDescriptor,Gf="enumerable",qf="configurable",Kf="writable";Er.f=WO?UO?function(t,e,r){if(ul(t),e=tg(e),ul(r),typeof t=="function"&&e==="prototype"&&"value"in r&&Kf in r&&!r[Kf]){var i=qO(t,e);i&&i[Kf]&&(t[e]=r.value,r={configurable:qf in r?r[qf]:i[qf],enumerable:Gf in r?r[Gf]:i[Gf],writable:!1})}return Uf(t,e,r)}:Uf:function(t,e,r){if(ul(t),e=tg(e),ul(r),VO)try{return Uf(t,e,r)}catch{}if("get"in r||"set"in r)throw GO("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var KO=jt,YO=Er,XO=ns,Ga=KO?function(n,t,e){return YO.f(n,t,XO(1,e))}:function(n,t,e){return n[t]=e,n},fl=Ee,QO=Va,ZO=qe,JO=Kt,eT=ts.f,tT=DO,la=lt,rT=Ua,ua=Ga,rg=Zt,nT=function(n){var t=function(e,r,i){if(this instanceof t){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,r)}return new n(e,r,i)}return QO(n,this,arguments)};return t.prototype=n.prototype,t},De=function(n,t){var e=n.target,r=n.global,i=n.stat,a=n.proto,o=r?fl:i?fl[e]:(fl[e]||{}).prototype,s=r?la:la[e]||ua(la,e,{})[e],l=s.prototype,u,f,c,d,h,v,p,y,g;for(d in t)u=tT(r?d:e+(i?".":"#")+d,n.forced),f=!u&&o&&rg(o,d),v=s[d],f&&(n.noTargetGet?(g=eT(o,d),p=g&&g.value):p=o[d]),h=f&&p?p:t[d],!(f&&typeof v==typeof h)&&(n.bind&&f?y=rT(h,fl):n.wrap&&f?y=nT(h):a&&JO(h)?y=ZO(h):y=h,(n.sham||h&&h.sham||v&&v.sham)&&ua(y,"sham",!0),ua(s,d,y),a&&(c=e+"Prototype",rg(la,c)||ua(la,c,{}),ua(la[c],d,h),n.real&&l&&!l[d]&&ua(l,d,h)))},iT=De,aT=jt,ng=Er.f;iT({target:"Object",stat:!0,forced:Object.defineProperty!==ng,sham:!aT},{defineProperty:ng});var oT=lt,Z_=oT.Object,sT=L_.exports=function(t,e,r){return Z_.defineProperty(t,e,r)};Z_.defineProperty.sham&&(sT.sham=!0);var lT=L_.exports,J_=lT,uT=J_,fT=uT,cT=fT,dT=cT,zu=dT;function ig(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),zu(n,r.key,r)}}function ju(n,t,e){return t&&ig(n.prototype,t),e&&ig(n,e),zu(n,"prototype",{writable:!1}),n}function wt(n,t,e){return t in n?zu(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var hT=qe,Hu=hT([].slice),vT=Ee,e$=qe,pT=Xi,gT=sr,mT=Zt,ag=Hu,yT=es,t$=vT.Function,bT=e$([].concat),_T=e$([].join),Yf={},$T=function(n,t,e){if(!mT(Yf,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";Yf[t]=t$("C,a","return new C("+_T(r,",")+")")}return Yf[t](n,e)},r$=yT?t$.bind:function(t){var e=pT(this),r=e.prototype,i=ag(arguments,1),a=function(){var s=bT(i,ag(arguments));return this instanceof a?$T(e,s.length,s):e.apply(t,s)};return gT(r)&&(a.prototype=r),a},wT=De,og=r$;wT({target:"Function",proto:!0,forced:Function.bind!==og},{bind:og});var kT=lt,Rt=function(n){return kT[n+"Prototype"]},ET=Rt,ST=ET("Function").bind,OT=Ht,TT=ST,Xf=Function.prototype,IT=function(n){var t=n.bind;return n===Xf||OT(Xf,n)&&t===Xf.bind?TT:t},CT=IT,PT=CT,n$=PT,AT=Math.ceil,MT=Math.floor,Wu=function(n){var t=+n;return t!==t||t===0?0:(t>0?MT:AT)(t)},DT=Wu,RT=Math.min,NT=function(n){return n>0?RT(DT(n),9007199254740991):0},FT=NT,Sr=function(n){return FT(n.length)},BT=Ee,LT=Xi,xT=_r,zT=Nu,jT=Sr,HT=BT.TypeError,sg=function(n){return function(t,e,r,i){LT(e);var a=xT(t),o=zT(a),s=jT(a),l=n?s-1:0,u=n?-1:1;if(r<2)for(;;){if(l in o){i=o[l],l+=u;break}if(l+=u,n?l<0:s<=l)throw HT("Reduce of empty array with no initial value")}for(;n?l>=0:s>l;l+=u)l in o&&(i=e(i,o[l],l,a));return i}},WT={left:sg(!1),right:sg(!0)},VT=rt,ls=function(n,t){var e=[][n];return!!e&&VT(function(){e.call(null,t||function(){return 1},1)})},UT=Yi,GT=Ee,qT=UT(GT.process)=="process",KT=De,YT=WT.left,XT=ls,lg=os,QT=qT,ZT=XT("reduce"),JT=!QT&&lg>79&&lg<83;KT({target:"Array",proto:!0,forced:!ZT||JT},{reduce:function(t){var e=arguments.length;return YT(this,t,e,e>1?arguments[1]:void 0)}});var eI=Rt,tI=eI("Array").reduce,rI=Ht,nI=tI,Qf=Array.prototype,iI=function(n){var t=n.reduce;return n===Qf||rI(Qf,n)&&t===Qf.reduce?nI:t},aI=iI,oI=aI,sI=oI,lI=Yi,Qi=Array.isArray||function(t){return lI(t)=="Array"},uI=Bt,fI=uI("toStringTag"),i$={};i$[fI]="z";var cv=String(i$)==="[object z]",cI=Ee,dI=cv,hI=Kt,xl=Yi,vI=Bt,pI=vI("toStringTag"),gI=cI.Object,mI=xl(function(){return arguments}())=="Arguments",yI=function(n,t){try{return n[t]}catch{}},xn=dI?xl:function(n){var t,e,r;return n===void 0?"Undefined":n===null?"Null":typeof(e=yI(t=gI(n),pI))=="string"?e:mI?xl(t):(r=xl(t))=="Object"&&hI(t.callee)?"Arguments":r},bI=qe,_I=Kt,Wd=fv,$I=bI(Function.toString);_I(Wd.inspectSource)||(Wd.inspectSource=function(n){return $I(n)});var a$=Wd.inspectSource,wI=qe,kI=rt,o$=Kt,EI=xn,SI=Ln,OI=a$,s$=function(){},TI=[],l$=SI("Reflect","construct"),dv=/^\s*(?:class|function)\b/,II=wI(dv.exec),CI=!dv.exec(s$),vo=function(t){if(!o$(t))return!1;try{return l$(s$,TI,t),!0}catch{return!1}},u$=function(t){if(!o$(t))return!1;switch(EI(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return CI||!!II(dv,OI(t))}catch{return!0}};u$.sham=!0;var Vu=!l$||kI(function(){var n;return vo(vo.call)||!vo(Object)||!vo(function(){n=!0})||n})?u$:vo,PI=Ee,ug=Qi,AI=Vu,MI=sr,DI=Bt,RI=DI("species"),fg=PI.Array,NI=function(n){var t;return ug(n)&&(t=n.constructor,AI(t)&&(t===fg||ug(t.prototype))?t=void 0:MI(t)&&(t=t[RI],t===null&&(t=void 0))),t===void 0?fg:t},FI=NI,Uu=function(n,t){return new(FI(n))(t===0?0:t)},BI=Ua,LI=qe,xI=Nu,zI=_r,jI=Sr,HI=Uu,cg=LI([].push),Vn=function(n){var t=n==1,e=n==2,r=n==3,i=n==4,a=n==6,o=n==7,s=n==5||a;return function(l,u,f,c){for(var d=zI(l),h=xI(d),v=BI(u,f),p=jI(h),y=0,g=c||HI,m=t?g(l,p):e||o?g(l,0):void 0,_,E;p>y;y++)if((s||y in h)&&(_=h[y],E=v(_,y,d),n))if(t)m[y]=E;else if(E)switch(n){case 3:return!0;case 5:return _;case 6:return y;case 2:cg(m,_)}else switch(n){case 4:return!1;case 7:cg(m,_)}return a?-1:r||i?i:m}},qa={forEach:Vn(0),map:Vn(1),filter:Vn(2),some:Vn(3),every:Vn(4),find:Vn(5),findIndex:Vn(6),filterReject:Vn(7)},WI=rt,VI=Bt,UI=os,GI=VI("species"),us=function(n){return UI>=51||!WI(function(){var t=[],e=t.constructor={};return e[GI]=function(){return{foo:1}},t[n](Boolean).foo!==1})},qI=De,KI=qa.filter,YI=us,XI=YI("filter");qI({target:"Array",proto:!0,forced:!XI},{filter:function(t){return KI(this,t,arguments.length>1?arguments[1]:void 0)}});var QI=Rt,ZI=QI("Array").filter,JI=Ht,eC=ZI,Zf=Array.prototype,tC=function(n){var t=n.filter;return n===Zf||JI(Zf,n)&&t===Zf.filter?eC:t},rC=tC,nC=rC,_a=nC,iC=De,aC=qa.map,oC=us,sC=oC("map");iC({target:"Array",proto:!0,forced:!sC},{map:function(t){return aC(this,t,arguments.length>1?arguments[1]:void 0)}});var lC=Rt,uC=lC("Array").map,fC=Ht,cC=uC,Jf=Array.prototype,dC=function(n){var t=n.map;return n===Jf||fC(Jf,n)&&t===Jf.map?cC:t},hC=dC,vC=hC,Vr=vC,pC=Ee,gC=Qi,mC=Sr,yC=Ua,bC=pC.TypeError,f$=function(n,t,e,r,i,a,o,s){for(var l=i,u=0,f=o?yC(o,s):!1,c,d;u<r;){if(u in e){if(c=f?f(e[u],u,t):e[u],a>0&&gC(c))d=mC(c),l=f$(n,t,c,d,l,a-1)-1;else{if(l>=9007199254740991)throw bC("Exceed the acceptable array length");n[l]=c}l++}u++}return l},_C=f$,$C=De,wC=_C,kC=Xi,EC=_r,SC=Sr,OC=Uu;$C({target:"Array",proto:!0},{flatMap:function(t){var e=EC(this),r=SC(e),i;return kC(t),i=OC(e,0),i.length=wC(i,e,e,r,0,1,t,arguments.length>1?arguments[1]:void 0),i}});var TC=Rt;TC("Array").flatMap;var IC=Ee,CC=xn,PC=IC.String,Zi=function(n){if(CC(n)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return PC(n)},hv=qe,AC=Wu,MC=Zi,DC=is,RC=hv("".charAt),dg=hv("".charCodeAt),NC=hv("".slice),hg=function(n){return function(t,e){var r=MC(DC(t)),i=AC(e),a=r.length,o,s;return i<0||i>=a?n?"":void 0:(o=dg(r,i),o<55296||o>56319||i+1===a||(s=dg(r,i+1))<56320||s>57343?n?RC(r,i):o:n?NC(r,i,i+2):(o-55296<<10)+(s-56320)+65536)}},FC={codeAt:hg(!1),charAt:hg(!0)},BC=Ee,LC=Kt,xC=a$,vg=BC.WeakMap,zC=LC(vg)&&/native code/.test(xC(vg)),jC=Bu.exports,HC=Lu,pg=jC("keys"),Gu=function(n){return pg[n]||(pg[n]=HC(n))},fs={},WC=zC,c$=Ee,ec=qe,VC=sr,UC=Ga,tc=Zt,rc=fv,GC=Gu,qC=fs,gg="Object already initialized",Vd=c$.TypeError,KC=c$.WeakMap,iu,Fo,au,YC=function(n){return au(n)?Fo(n):iu(n,{})},XC=function(n){return function(t){var e;if(!VC(t)||(e=Fo(t)).type!==n)throw Vd("Incompatible receiver, "+n+" required");return e}};if(WC||rc.state){var bi=rc.state||(rc.state=new KC),QC=ec(bi.get),mg=ec(bi.has),ZC=ec(bi.set);iu=function(n,t){if(mg(bi,n))throw new Vd(gg);return t.facade=n,ZC(bi,n,t),t},Fo=function(n){return QC(bi,n)||{}},au=function(n){return mg(bi,n)}}else{var fa=GC("state");qC[fa]=!0,iu=function(n,t){if(tc(n,fa))throw new Vd(gg);return t.facade=n,UC(n,fa,t),t},Fo=function(n){return tc(n,fa)?n[fa]:{}},au=function(n){return tc(n,fa)}}var cs={set:iu,get:Fo,has:au,enforce:YC,getterFor:XC},Ud=jt,JC=Zt,d$=Function.prototype,e3=Ud&&Object.getOwnPropertyDescriptor,vv=JC(d$,"name"),t3=vv&&function(){}.name==="something",r3=vv&&(!Ud||Ud&&e3(d$,"name").configurable),h$={EXISTS:vv,PROPER:t3,CONFIGURABLE:r3},qu={},n3=Wu,i3=Math.max,a3=Math.min,ds=function(n,t){var e=n3(n);return e<0?i3(e+t,0):a3(e,t)},o3=Zr,s3=ds,l3=Sr,yg=function(n){return function(t,e,r){var i=o3(t),a=l3(i),o=s3(r,a),s;if(n&&e!=e){for(;a>o;)if(s=i[o++],s!=s)return!0}else for(;a>o;o++)if((n||o in i)&&i[o]===e)return n||o||0;return!n&&-1}},pv={includes:yg(!0),indexOf:yg(!1)},u3=qe,nc=Zt,f3=Zr,c3=pv.indexOf,d3=fs,bg=u3([].push),v$=function(n,t){var e=f3(n),r=0,i=[],a;for(a in e)!nc(d3,a)&&nc(e,a)&&bg(i,a);for(;t.length>r;)nc(e,a=t[r++])&&(~c3(i,a)||bg(i,a));return i},gv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],h3=v$,v3=gv,hs=Object.keys||function(t){return h3(t,v3)},p3=jt,g3=X_,m3=Er,y3=Jr,b3=Zr,_3=hs;qu.f=p3&&!g3?Object.defineProperties:function(t,e){y3(t);for(var r=b3(e),i=_3(e),a=i.length,o=0,s;a>o;)m3.f(t,s=i[o++],r[s]);return t};var $3=Ln,w3=$3("document","documentElement"),k3=Jr,E3=qu,_g=gv,S3=fs,O3=w3,T3=K_,I3=Gu,$g=">",wg="<",Gd="prototype",qd="script",p$=I3("IE_PROTO"),ic=function(){},g$=function(n){return wg+qd+$g+n+wg+"/"+qd+$g},kg=function(n){n.write(g$("")),n.close();var t=n.parentWindow.Object;return n=null,t},C3=function(){var n=T3("iframe"),t="java"+qd+":",e;return n.style.display="none",O3.appendChild(n),n.src=String(t),e=n.contentWindow.document,e.open(),e.write(g$("document.F=Object")),e.close(),e.F},cl,zl=function(){try{cl=new ActiveXObject("htmlfile")}catch{}zl=typeof document<"u"?document.domain&&cl?kg(cl):C3():kg(cl);for(var n=_g.length;n--;)delete zl[Gd][_g[n]];return zl()};S3[p$]=!0;var Ka=Object.create||function(t,e){var r;return t!==null?(ic[Gd]=k3(t),r=new ic,ic[Gd]=null,r[p$]=t):r=zl(),e===void 0?r:E3.f(r,e)},P3=rt,m$=!P3(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),A3=Ee,M3=Zt,D3=Kt,R3=_r,N3=Gu,F3=m$,Eg=N3("IE_PROTO"),Kd=A3.Object,B3=Kd.prototype,mv=F3?Kd.getPrototypeOf:function(n){var t=R3(n);if(M3(t,Eg))return t[Eg];var e=t.constructor;return D3(e)&&t instanceof e?e.prototype:t instanceof Kd?B3:null},L3=Ga,Ku=function(n,t,e,r){r&&r.enumerable?n[t]=e:L3(n,t,e)},x3=rt,z3=Kt,j3=Ka,Sg=mv,H3=Ku,W3=Bt,Yd=W3("iterator"),y$=!1,wn,ac,oc;[].keys&&(oc=[].keys(),"next"in oc?(ac=Sg(Sg(oc)),ac!==Object.prototype&&(wn=ac)):y$=!0);var V3=wn==null||x3(function(){var n={};return wn[Yd].call(n)!==n});V3?wn={}:wn=j3(wn);z3(wn[Yd])||H3(wn,Yd,function(){return this});var b$={IteratorPrototype:wn,BUGGY_SAFARI_ITERATORS:y$},U3=cv,G3=xn,q3=U3?{}.toString:function(){return"[object "+G3(this)+"]"},K3=cv,Y3=Er.f,X3=Ga,Q3=Zt,Z3=q3,J3=Bt,Og=J3("toStringTag"),vs=function(n,t,e,r){if(n){var i=e?n:n.prototype;Q3(i,Og)||Y3(i,Og,{configurable:!0,value:t}),r&&!K3&&X3(i,"toString",Z3)}},Ya={},eP=b$.IteratorPrototype,tP=Ka,rP=ns,nP=vs,iP=Ya,aP=function(){return this},oP=function(n,t,e,r){var i=t+" Iterator";return n.prototype=tP(eP,{next:rP(+!r,e)}),nP(n,i,!1,!0),iP[i]=aP,n},_$=Ee,sP=Kt,lP=_$.String,uP=_$.TypeError,fP=function(n){if(typeof n=="object"||sP(n))return n;throw uP("Can't set "+lP(n)+" as a prototype")},cP=qe,dP=Jr,hP=fP,vP=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,t={},e;try{e=cP(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(t,[]),n=t instanceof Array}catch{}return function(i,a){return dP(i),hP(a),n?e(i,a):i.__proto__=a,i}}():void 0),pP=De,gP=pn,mP=h$,yP=oP,bP=mv,_P=vs,Tg=Ku,$P=Bt,Ig=Ya,wP=b$,kP=mP.PROPER,dl=wP.BUGGY_SAFARI_ITERATORS,sc=$P("iterator"),Cg="keys",hl="values",Pg="entries",EP=function(){return this},yv=function(n,t,e,r,i,a,o){yP(e,t,r);var s=function(g){if(g===i&&d)return d;if(!dl&&g in f)return f[g];switch(g){case Cg:return function(){return new e(this,g)};case hl:return function(){return new e(this,g)};case Pg:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=n.prototype,c=f[sc]||f["@@iterator"]||i&&f[i],d=!dl&&c||s(i),h=t=="Array"&&f.entries||c,v,p,y;if(h&&(v=bP(h.call(new n)),v!==Object.prototype&&v.next&&(_P(v,l,!0,!0),Ig[l]=EP)),kP&&i==hl&&c&&c.name!==hl&&(u=!0,d=function(){return gP(c,this)}),i)if(p={values:s(hl),keys:a?d:s(Cg),entries:s(Pg)},o)for(y in p)(dl||u||!(y in f))&&Tg(f,y,p[y]);else pP({target:t,proto:!0,forced:dl||u},p);return o&&f[sc]!==d&&Tg(f,sc,d,{name:i}),Ig[t]=d,p},SP=FC.charAt,OP=Zi,$$=cs,TP=yv,w$="String Iterator",IP=$$.set,CP=$$.getterFor(w$);TP(String,"String",function(n){IP(this,{type:w$,string:OP(n),index:0})},function(){var t=CP(this),e=t.string,r=t.index,i;return r>=e.length?{value:void 0,done:!0}:(i=SP(e,r),t.index+=i.length,{value:i,done:!1})});var PP=pn,Ag=Jr,AP=uv,k$=function(n,t,e){var r,i;Ag(n);try{if(r=AP(n,"return"),!r){if(t==="throw")throw e;return e}r=PP(r,n)}catch(a){i=!0,r=a}if(t==="throw")throw e;if(i)throw r;return Ag(r),e},MP=Jr,DP=k$,RP=function(n,t,e,r){try{return r?t(MP(e)[0],e[1]):t(e)}catch(i){DP(n,"throw",i)}},NP=Bt,FP=Ya,BP=NP("iterator"),LP=Array.prototype,E$=function(n){return n!==void 0&&(FP.Array===n||LP[BP]===n)},xP=xu,zP=Er,jP=ns,Xa=function(n,t,e){var r=xP(t);r in n?zP.f(n,r,jP(0,e)):n[r]=e},HP=xn,Mg=uv,WP=Ya,VP=Bt,UP=VP("iterator"),Yu=function(n){if(n!=null)return Mg(n,UP)||Mg(n,"@@iterator")||WP[HP(n)]},GP=Ee,qP=pn,KP=Xi,YP=Jr,XP=Fu,QP=Yu,ZP=GP.TypeError,bv=function(n,t){var e=arguments.length<2?QP(n):t;if(KP(e))return YP(qP(e,n));throw ZP(XP(n)+" is not iterable")},JP=Ee,e4=Ua,t4=pn,r4=_r,n4=RP,i4=E$,a4=Vu,o4=Sr,Dg=Xa,s4=bv,l4=Yu,Rg=JP.Array,u4=function(t){var e=r4(t),r=a4(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=e4(a,i>2?arguments[2]:void 0));var s=l4(e),l=0,u,f,c,d,h,v;if(s&&!(this==Rg&&i4(s)))for(d=s4(e,s),h=d.next,f=r?new this:[];!(c=t4(h,d)).done;l++)v=o?n4(d,a,[c.value,l],!0):c.value,Dg(f,l,v);else for(u=o4(e),f=r?new this(u):Rg(u);u>l;l++)v=o?a(e[l],l):e[l],Dg(f,l,v);return f.length=l,f},f4=Bt,S$=f4("iterator"),O$=!1;try{var c4=0,Ng={next:function(){return{done:!!c4++}},return:function(){O$=!0}};Ng[S$]=function(){return this},Array.from(Ng,function(){throw 2})}catch{}var d4=function(n,t){if(!t&&!O$)return!1;var e=!1;try{var r={};r[S$]=function(){return{next:function(){return{done:e=!0}}}},n(r)}catch{}return e},h4=De,v4=u4,p4=d4,g4=!p4(function(n){Array.from(n)});h4({target:"Array",stat:!0,forced:g4},{from:v4});var m4=lt,y4=m4.Array.from,b4=y4,T$=b4,_v=T$,_4=Zr,Fg=Ya,I$=cs;Er.f;var $4=yv,C$="Array Iterator",w4=I$.set,k4=I$.getterFor(C$);$4(Array,"Array",function(n,t){w4(this,{type:C$,target:_4(n),index:0,kind:t})},function(){var n=k4(this),t=n.target,e=n.kind,r=n.index++;return!t||r>=t.length?(n.target=void 0,{value:void 0,done:!0}):e=="keys"?{value:r,done:!1}:e=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");Fg.Arguments=Fg.Array;var E4=Yu,S4=E4,O4={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},T4=O4,I4=Ee,C4=xn,P4=Ga,Bg=Ya,A4=Bt,Lg=A4("toStringTag");for(var lc in T4){var xg=I4[lc],uc=xg&&xg.prototype;uc&&C4(uc)!==Lg&&P4(uc,Lg,lc),Bg[lc]=Bg.Array}var M4=S4,D4=M4,R4=D4,N4=R4,F4=N4,B4=F4,ps=B4,gs={},L4=v$,x4=gv,z4=x4.concat("length","prototype");gs.f=Object.getOwnPropertyNames||function(t){return L4(t,z4)};var $v={},j4=Ee,zg=ds,H4=Sr,W4=Xa,V4=j4.Array,U4=Math.max,P$=function(n,t,e){for(var r=H4(n),i=zg(t,r),a=zg(e===void 0?r:e,r),o=V4(U4(a-i,0)),s=0;i<a;i++,s++)W4(o,s,n[i]);return o.length=s,o},G4=Yi,q4=Zr,A$=gs.f,K4=P$,M$=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Y4=function(n){try{return A$(n)}catch{return K4(M$)}};$v.f=function(t){return M$&&G4(t)=="Window"?Y4(t):A$(q4(t))};var Xu={};Xu.f=Object.getOwnPropertySymbols;var Qu={},X4=Bt;Qu.f=X4;var jg=lt,Q4=Zt,Z4=Qu,J4=Er.f,Et=function(n){var t=jg.Symbol||(jg.Symbol={});Q4(t,n)||J4(t,n,{value:Z4.f(n)})},Qa=De,wv=Ee,eA=Ln,tA=Va,ms=pn,rA=qe,Da=jt,Li=sv,kv=rt,Ot=Zt,nA=Qi,iA=Kt,aA=sr,oA=Ht,Xd=lv,Qd=Jr,sA=_r,Zu=Zr,Ev=xu,D$=Zi,Zd=ns,Bo=Ka,R$=hs,lA=gs,N$=$v,Jd=Xu,F$=ts,B$=Er,uA=qu,L$=rs,fA=Hu,eh=Ku,ys=Bu.exports,cA=Gu,x$=fs,Hg=Lu,z$=Bt,dA=Qu,hA=Et,vA=vs,j$=cs,Ju=qa.forEach,dr=cA("hidden"),ef="Symbol",Lo="prototype",Wg=z$("toPrimitive"),pA=j$.set,Vg=j$.getterFor(ef),qr=Object[Lo],kn=wv.Symbol,ei=kn&&kn[Lo],H$=wv.TypeError,fc=wv.QObject,po=eA("JSON","stringify"),W$=F$.f,Qn=B$.f,V$=N$.f,gA=L$.f,U$=rA([].push),Dn=ys("symbols"),bs=ys("op-symbols"),cc=ys("string-to-symbol-registry"),dc=ys("symbol-to-string-registry"),mA=ys("wks"),th=!fc||!fc[Lo]||!fc[Lo].findChild,rh=Da&&kv(function(){return Bo(Qn({},"a",{get:function(){return Qn(this,"a",{value:7}).a}})).a!=7})?function(n,t,e){var r=W$(qr,t);r&&delete qr[t],Qn(n,t,e),r&&n!==qr&&Qn(qr,t,r)}:Qn,hc=function(n,t){var e=Dn[n]=Bo(ei);return pA(e,{type:ef,tag:n,description:t}),Da||(e.description=t),e},tf=function(t,e,r){t===qr&&tf(bs,e,r),Qd(t);var i=Ev(e);return Qd(r),Ot(Dn,i)?(r.enumerable?(Ot(t,dr)&&t[dr][i]&&(t[dr][i]=!1),r=Bo(r,{enumerable:Zd(0,!1)})):(Ot(t,dr)||Qn(t,dr,Zd(1,{})),t[dr][i]=!0),rh(t,i,r)):Qn(t,i,r)},Sv=function(t,e){Qd(t);var r=Zu(e),i=R$(r).concat(Ov(r));return Ju(i,function(a){(!Da||ms(G$,r,a))&&tf(t,a,r[a])}),t},yA=function(t,e){return e===void 0?Bo(t):Sv(Bo(t),e)},G$=function(t){var e=Ev(t),r=ms(gA,this,e);return this===qr&&Ot(Dn,e)&&!Ot(bs,e)?!1:r||!Ot(this,e)||!Ot(Dn,e)||Ot(this,dr)&&this[dr][e]?r:!0},q$=function(t,e){var r=Zu(t),i=Ev(e);if(!(r===qr&&Ot(Dn,i)&&!Ot(bs,i))){var a=W$(r,i);return a&&Ot(Dn,i)&&!(Ot(r,dr)&&r[dr][i])&&(a.enumerable=!0),a}},K$=function(t){var e=V$(Zu(t)),r=[];return Ju(e,function(i){!Ot(Dn,i)&&!Ot(x$,i)&&U$(r,i)}),r},Ov=function(t){var e=t===qr,r=V$(e?bs:Zu(t)),i=[];return Ju(r,function(a){Ot(Dn,a)&&(!e||Ot(qr,a))&&U$(i,Dn[a])}),i};Li||(kn=function(){if(oA(ei,this))throw H$("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:D$(arguments[0]),e=Hg(t),r=function(i){this===qr&&ms(r,bs,i),Ot(this,dr)&&Ot(this[dr],e)&&(this[dr][e]=!1),rh(this,e,Zd(1,i))};return Da&&th&&rh(qr,e,{configurable:!0,set:r}),hc(e,t)},ei=kn[Lo],eh(ei,"toString",function(){return Vg(this).tag}),eh(kn,"withoutSetter",function(n){return hc(Hg(n),n)}),L$.f=G$,B$.f=tf,uA.f=Sv,F$.f=q$,lA.f=N$.f=K$,Jd.f=Ov,dA.f=function(n){return hc(z$(n),n)},Da&&Qn(ei,"description",{configurable:!0,get:function(){return Vg(this).description}}));Qa({global:!0,wrap:!0,forced:!Li,sham:!Li},{Symbol:kn});Ju(R$(mA),function(n){hA(n)});Qa({target:ef,stat:!0,forced:!Li},{for:function(n){var t=D$(n);if(Ot(cc,t))return cc[t];var e=kn(t);return cc[t]=e,dc[e]=t,e},keyFor:function(t){if(!Xd(t))throw H$(t+" is not a symbol");if(Ot(dc,t))return dc[t]},useSetter:function(){th=!0},useSimple:function(){th=!1}});Qa({target:"Object",stat:!0,forced:!Li,sham:!Da},{create:yA,defineProperty:tf,defineProperties:Sv,getOwnPropertyDescriptor:q$});Qa({target:"Object",stat:!0,forced:!Li},{getOwnPropertyNames:K$,getOwnPropertySymbols:Ov});Qa({target:"Object",stat:!0,forced:kv(function(){Jd.f(1)})},{getOwnPropertySymbols:function(t){return Jd.f(sA(t))}});if(po){var bA=!Li||kv(function(){var n=kn();return po([n])!="[null]"||po({a:n})!="{}"||po(Object(n))!="{}"});Qa({target:"JSON",stat:!0,forced:bA},{stringify:function(t,e,r){var i=fA(arguments),a=e;if(!(!aA(e)&&t===void 0||Xd(t)))return nA(e)||(e=function(o,s){if(iA(a)&&(s=ms(a,this,o,s)),!Xd(s))return s}),i[1]=e,tA(po,null,i)}})}if(!ei[Wg]){var _A=ei.valueOf;eh(ei,Wg,function(n){return ms(_A,this)})}vA(kn,ef);x$[dr]=!0;var $A=lt,wA=$A.Object.getOwnPropertySymbols,kA=wA,EA=kA,Ug=EA,Y$={exports:{}},SA=De,OA=rt,TA=Zr,X$=ts.f,Q$=jt,IA=OA(function(){X$(1)}),CA=!Q$||IA;SA({target:"Object",stat:!0,forced:CA,sham:!Q$},{getOwnPropertyDescriptor:function(t,e){return X$(TA(t),e)}});var PA=lt,Z$=PA.Object,AA=Y$.exports=function(t,e){return Z$.getOwnPropertyDescriptor(t,e)};Z$.getOwnPropertyDescriptor.sham&&(AA.sham=!0);var MA=Y$.exports,DA=MA,J$=DA,RA=Ln,NA=qe,FA=gs,BA=Xu,LA=Jr,xA=NA([].concat),ew=RA("Reflect","ownKeys")||function(t){var e=FA.f(LA(t)),r=BA.f;return r?xA(e,r(t)):e},zA=De,jA=jt,HA=ew,WA=Zr,VA=ts,UA=Xa;zA({target:"Object",stat:!0,sham:!jA},{getOwnPropertyDescriptors:function(t){for(var e=WA(t),r=VA.f,i=HA(e),a={},o=0,s,l;i.length>o;)l=r(e,s=i[o++]),l!==void 0&&UA(a,s,l);return a}});var GA=lt,qA=GA.Object.getOwnPropertyDescriptors,KA=qA,YA=KA,Gg=YA,tw={exports:{}},XA=De,QA=jt,qg=qu.f;XA({target:"Object",stat:!0,forced:Object.defineProperties!==qg,sham:!QA},{defineProperties:qg});var ZA=lt,rw=ZA.Object,JA=tw.exports=function(t,e){return rw.defineProperties(t,e)};rw.defineProperties.sham&&(JA.sham=!0);var e7=tw.exports,t7=e7,r7=t7,n7=J_,i7=De,a7=Qi;i7({target:"Array",stat:!0},{isArray:a7});var o7=lt,s7=o7.Array.isArray,l7=s7,nw=l7,u7=nw,f7=u7,c7=f7,d7=c7,iw=d7;function h7(n){if(iw(n))return n}var v7=De,p7=Ee,g7=rt,m7=Qi,y7=sr,b7=_r,_7=Sr,Kg=Xa,$7=Uu,w7=us,k7=Bt,E7=os,aw=k7("isConcatSpreadable"),Yg=9007199254740991,Xg="Maximum allowed index exceeded",Qg=p7.TypeError,S7=E7>=51||!g7(function(){var n=[];return n[aw]=!1,n.concat()[0]!==n}),O7=w7("concat"),T7=function(n){if(!y7(n))return!1;var t=n[aw];return t!==void 0?!!t:m7(n)},I7=!S7||!O7;v7({target:"Array",proto:!0,forced:I7},{concat:function(t){var e=b7(this),r=$7(e,0),i=0,a,o,s,l,u;for(a=-1,s=arguments.length;a<s;a++)if(u=a===-1?e:arguments[a],T7(u)){if(l=_7(u),i+l>Yg)throw Qg(Xg);for(o=0;o<l;o++,i++)o in u&&Kg(r,i,u[o])}else{if(i>=Yg)throw Qg(Xg);Kg(r,i++,u)}return r.length=i,r}});var C7=Et;C7("asyncIterator");var P7=Et;P7("hasInstance");var A7=Et;A7("isConcatSpreadable");var M7=Et;M7("iterator");var D7=Et;D7("match");var R7=Et;R7("matchAll");var N7=Et;N7("replace");var F7=Et;F7("search");var B7=Et;B7("species");var L7=Et;L7("split");var x7=Et;x7("toPrimitive");var z7=Et;z7("toStringTag");var j7=Et;j7("unscopables");var H7=Ee,W7=vs;W7(H7.JSON,"JSON",!0);var V7=lt,U7=V7.Symbol,G7=U7,ow=G7,q7=ow,K7=q7,Y7=Et;Y7("asyncDispose");var X7=Et;X7("dispose");var Q7=Et;Q7("matcher");var Z7=Et;Z7("metadata");var J7=Et;J7("observable");var eM=Et;eM("patternMatch");var tM=Et;tM("replaceAll");var rM=K7,nM=rM,$a=nM;function iM(n,t){var e=n==null?null:typeof $a<"u"&&ps(n)||n["@@iterator"];if(e!=null){var r=[],i=!0,a=!1,o,s;try{for(e=e.call(n);!(i=(o=e.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&e.return!=null&&e.return()}finally{if(a)throw s}}return r}}var aM=De,oM=Ee,Zg=Qi,sM=Vu,lM=sr,Jg=ds,uM=Sr,fM=Zr,cM=Xa,dM=Bt,hM=us,vM=Hu,pM=hM("slice"),gM=dM("species"),vc=oM.Array,mM=Math.max;aM({target:"Array",proto:!0,forced:!pM},{slice:function(t,e){var r=fM(this),i=uM(r),a=Jg(t,i),o=Jg(e===void 0?i:e,i),s,l,u;if(Zg(r)&&(s=r.constructor,sM(s)&&(s===vc||Zg(s.prototype))?s=void 0:lM(s)&&(s=s[gM],s===null&&(s=void 0)),s===vc||s===void 0))return vM(r,a,o);for(l=new(s===void 0?vc:s)(mM(o-a,0)),u=0;a<o;a++,u++)a in r&&cM(l,u,r[a]);return l.length=u,l}});var yM=Rt,bM=yM("Array").slice,_M=Ht,$M=bM,pc=Array.prototype,wM=function(n){var t=n.slice;return n===pc||_M(pc,n)&&t===pc.slice?$M:t},kM=wM,sw=kM,EM=sw,SM=EM,OM=SM,TM=OM,IM=TM,CM=T$,PM=CM,AM=PM,MM=AM,lw=MM;function nh(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function uw(n,t){var e;if(n){if(typeof n=="string")return nh(n,t);var r=IM(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return lw(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nh(n,t)}}function DM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(n,t){return h7(n)||iM(n,t)||uw(n,t)||DM()}var RM=Qu,NM=RM.f("iterator"),FM=NM,fw=FM,BM=fw,LM=BM,xM=LM,zM=xM,jM=zM;function pr(n){return pr=typeof $a=="function"&&typeof jM=="symbol"?function(t){return typeof t}:function(t){return t&&typeof $a=="function"&&t.constructor===$a&&t!==$a.prototype?"symbol":typeof t},pr(n)}function HM(n){if(iw(n))return nh(n)}function WM(n){if(typeof $a<"u"&&ps(n)!=null||n["@@iterator"]!=null)return lw(n)}function VM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(n){return HM(n)||WM(n)||uw(n)||VM()}var rf=ow,UM=Rt,GM=UM("Array").concat,qM=Ht,KM=GM,gc=Array.prototype,YM=function(n){var t=n.concat;return n===gc||qM(gc,n)&&t===gc.concat?KM:t},XM=YM,QM=XM,nf=QM,af=sw,ZM=De,JM=ew;ZM({target:"Reflect",stat:!0},{ownKeys:JM});var eD=lt,tD=eD.Reflect.ownKeys,rD=tD,nD=rD,iD=nD,wr=nw,aD=De,oD=_r,cw=hs,sD=rt,lD=sD(function(){cw(1)});aD({target:"Object",stat:!0,forced:lD},{keys:function(t){return cw(oD(t))}});var uD=lt,fD=uD.Object.keys,cD=fD,dD=cD,Tv=dD,hD=De,vD=Ee,pD=qe,dw=vD.Date,gD=pD(dw.prototype.getTime);hD({target:"Date",stat:!0},{now:function(){return gD(new dw)}});var mD=lt;mD.Date.now;var yD=qa.forEach,bD=ls,_D=bD("forEach"),$D=_D?[].forEach:function(t){return yD(this,t,arguments.length>1?arguments[1]:void 0)},wD=De,em=$D;wD({target:"Array",proto:!0,forced:[].forEach!=em},{forEach:em});var kD=Rt,ED=kD("Array").forEach,SD=ED,OD=SD,TD=xn,ID=Zt,CD=Ht,PD=OD,mc=Array.prototype,AD={DOMTokenList:!0,NodeList:!0},MD=function(n){var t=n.forEach;return n===mc||CD(mc,n)&&t===mc.forEach||ID(AD,TD(n))?PD:t},xi=MD,DD=De,RD=qe,ND=Qi,FD=RD([].reverse),tm=[1,2];DD({target:"Array",proto:!0,forced:String(tm)===String(tm.reverse())},{reverse:function(){return ND(this)&&(this.length=this.length),FD(this)}});var BD=Rt,LD=BD("Array").reverse,xD=Ht,zD=LD,yc=Array.prototype,jD=function(n){var t=n.reverse;return n===yc||xD(yc,n)&&t===yc.reverse?zD:t},HD=jD,WD=HD,VD=WD,UD=De,GD=Ee,qD=ds,KD=Wu,YD=Sr,XD=_r,QD=Uu,ZD=Xa,JD=us,eR=JD("splice"),tR=GD.TypeError,rR=Math.max,nR=Math.min,iR=9007199254740991,aR="Maximum allowed length exceeded";UD({target:"Array",proto:!0,forced:!eR},{splice:function(t,e){var r=XD(this),i=YD(r),a=qD(t,i),o=arguments.length,s,l,u,f,c,d;if(o===0?s=l=0:o===1?(s=0,l=i-a):(s=o-2,l=nR(rR(KD(e),0),i-a)),i+s-l>iR)throw tR(aR);for(u=QD(r,l),f=0;f<l;f++)c=a+f,c in r&&ZD(u,f,r[c]);if(u.length=l,s<l){for(f=a;f<i-l;f++)c=f+l,d=f+s,c in r?r[d]=r[c]:delete r[d];for(f=i;f>i-l+s;f--)delete r[f-1]}else if(s>l)for(f=i-l;f>a;f--)c=f+l-1,d=f+s-1,c in r?r[d]=r[c]:delete r[d];for(f=0;f<s;f++)r[f+a]=arguments[f+2];return r.length=i-l+s,u}});var oR=Rt,sR=oR("Array").splice,lR=Ht,uR=sR,bc=Array.prototype,fR=function(n){var t=n.splice;return n===bc||lR(bc,n)&&t===bc.splice?uR:t},cR=fR,dR=cR,hw=dR,rm=jt,hR=qe,vR=pn,pR=rt,_c=hs,gR=Xu,mR=rs,yR=_r,bR=Nu,ca=Object.assign,nm=Object.defineProperty,_R=hR([].concat),$R=!ca||pR(function(){if(rm&&ca({b:1},ca(nm({},"a",{enumerable:!0,get:function(){nm(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var n={},t={},e=Symbol(),r="abcdefghijklmnopqrst";return n[e]=7,r.split("").forEach(function(i){t[i]=i}),ca({},n)[e]!=7||_c(ca({},t)).join("")!=r})?function(t,e){for(var r=yR(t),i=arguments.length,a=1,o=gR.f,s=mR.f;i>a;)for(var l=bR(arguments[a++]),u=o?_R(_c(l),o(l)):_c(l),f=u.length,c=0,d;f>c;)d=u[c++],(!rm||vR(s,l,d))&&(r[d]=l[d]);return r}:ca,wR=De,im=$R;wR({target:"Object",stat:!0,forced:Object.assign!==im},{assign:im});var kR=lt,ER=kR.Object.assign,SR=ER,OR=SR,TR=OR,IR=De,CR=pv.includes;IR({target:"Array",proto:!0},{includes:function(t){return CR(this,t,arguments.length>1?arguments[1]:void 0)}});var PR=Rt;PR("Array").includes;var AR=sr,MR=Yi,DR=Bt,RR=DR("match"),NR=function(n){var t;return AR(n)&&((t=n[RR])!==void 0?!!t:MR(n)=="RegExp")},FR=Ee,BR=NR,LR=FR.TypeError,xR=function(n){if(BR(n))throw LR("The method doesn't accept regular expressions");return n},zR=Bt,jR=zR("match"),HR=function(n){var t=/./;try{"/./"[n](t)}catch{try{return t[jR]=!1,"/./"[n](t)}catch{}}return!1},WR=De,VR=qe,UR=xR,GR=is,am=Zi,qR=HR,KR=VR("".indexOf);WR({target:"String",proto:!0,forced:!qR("includes")},{includes:function(t){return!!~KR(am(GR(this)),am(UR(t)),arguments.length>1?arguments[1]:void 0)}});var YR=Rt;YR("String").includes;var XR=De,QR=rt,ZR=_r,vw=mv,JR=m$,e8=QR(function(){vw(1)});XR({target:"Object",stat:!0,forced:e8,sham:!JR},{getPrototypeOf:function(t){return vw(ZR(t))}});var t8=lt,r8=t8.Object.getPrototypeOf,n8=r8,i8=n8,a8=jt,pw=qe,o8=hs,s8=Zr,l8=rs.f,u8=pw(l8),f8=pw([].push),om=function(n){return function(t){for(var e=s8(t),r=o8(e),i=r.length,a=0,o=[],s;i>a;)s=r[a++],(!a8||u8(e,s))&&f8(o,n?[s,e[s]]:e[s]);return o}},c8={entries:om(!0),values:om(!1)},d8=De,h8=c8.values;d8({target:"Object",stat:!0},{values:function(t){return h8(t)}});var v8=lt;v8.Object.values;var Iv=`	
\v\f\r                　\u2028\u2029\uFEFF`,p8=qe,g8=is,m8=Zi,y8=Iv,sm=p8("".replace),ou="["+y8+"]",b8=RegExp("^"+ou+ou+"*"),_8=RegExp(ou+ou+"*$"),$c=function(n){return function(t){var e=m8(g8(t));return n&1&&(e=sm(e,b8,"")),n&2&&(e=sm(e,_8,"")),e}},gw={start:$c(1),end:$c(2),trim:$c(3)},mw=Ee,$8=rt,w8=qe,k8=Zi,E8=gw.trim,lm=Iv,To=mw.parseInt,um=mw.Symbol,fm=um&&um.iterator,yw=/^[+-]?0x/i,S8=w8(yw.exec),O8=To(lm+"08")!==8||To(lm+"0x16")!==22||fm&&!$8(function(){To(Object(fm))}),T8=O8?function(t,e){var r=E8(k8(t));return To(r,e>>>0||(S8(yw,r)?16:10))}:To,I8=De,cm=T8;I8({global:!0,forced:parseInt!=cm},{parseInt:cm});var C8=lt;C8.parseInt;var P8=De,A8=qe,M8=pv.indexOf,D8=ls,ih=A8([].indexOf),dm=!!ih&&1/ih([1],1,-0)<0,R8=D8("indexOf");P8({target:"Array",proto:!0,forced:dm||!R8},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return dm?ih(this,t,e)||0:M8(this,t,e)}});var N8=Rt;N8("Array").indexOf;var F8=h$.PROPER,B8=rt,hm=Iv,vm="​᠎",L8=function(n){return B8(function(){return!!hm[n]()||vm[n]()!==vm||F8&&hm[n].name!==n})},x8=De,z8=gw.trim,j8=L8;x8({target:"String",proto:!0,forced:j8("trim")},{trim:function(){return z8(this)}});var H8=Rt;H8("String").trim;var W8=De,V8=jt,U8=Ka;W8({target:"Object",stat:!0,sham:!V8},{create:U8});var G8=lt,q8=G8.Object,K8=function(t,e){return q8.create(t,e)},Y8=K8,bw=Y8,X8=bw,Q8=De,Z8=Ee,J8=Ln,e6=Va,_s=qe,t6=rt,r6=Z8.Array,su=J8("JSON","stringify"),vl=_s(/./.exec),pm=_s("".charAt),n6=_s("".charCodeAt),i6=_s("".replace),a6=_s(1 .toString),o6=/[\uD800-\uDFFF]/g,gm=/^[\uD800-\uDBFF]$/,mm=/^[\uDC00-\uDFFF]$/,s6=function(n,t,e){var r=pm(e,t-1),i=pm(e,t+1);return vl(gm,n)&&!vl(mm,i)||vl(mm,n)&&!vl(gm,r)?"\\u"+a6(n6(n,0),16):n},l6=t6(function(){return su("\uDF06\uD834")!=='"\\udf06\\ud834"'||su("\uDEAD")!=='"\\udead"'});su&&Q8({target:"JSON",stat:!0,forced:l6},{stringify:function(t,e,r){for(var i=0,a=arguments.length,o=r6(a);i<a;i++)o[i]=arguments[i];var s=e6(su,null,o);return typeof s=="string"?i6(s,o6,s6):s}});var ah=lt,u6=Va;ah.JSON||(ah.JSON={stringify:JSON.stringify});var f6=function(t,e,r){return u6(ah.JSON.stringify,null,arguments)},c6=f6,d6=c6,h6=d6,v6=Ee,p6=v6.TypeError,g6=function(n,t){if(n<t)throw p6("Not enough arguments");return n},m6=De,oh=Ee,y6=Va,b6=Kt,_6=as,$6=Hu,w6=g6,k6=/MSIE .\./.test(_6),E6=oh.Function,ym=function(n){return function(t,e){var r=w6(arguments.length,1)>2,i=b6(t)?t:E6(t),a=r?$6(arguments,2):void 0;return n(r?function(){y6(i,this,a)}:i,e)}};m6({global:!0,bind:!0,forced:k6},{setTimeout:ym(oh.setTimeout),setInterval:ym(oh.setInterval)});var S6=lt,O6=S6.setTimeout,T6=O6,I6=_r,bm=ds,C6=Sr,P6=function(t){for(var e=I6(this),r=C6(e),i=arguments.length,a=bm(i>1?arguments[1]:void 0,r),o=i>2?arguments[2]:void 0,s=o===void 0?r:bm(o,r);s>a;)e[a++]=t;return e},A6=De,M6=P6;A6({target:"Array",proto:!0},{fill:M6});var D6=Rt;D6("Array").fill;var _w={exports:{}};(function(n){n.exports=t;function t(r){if(r)return e(r)}function e(r){for(var i in t.prototype)r[i]=t.prototype[i];return r}t.prototype.on=t.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},t.prototype.once=function(r,i){function a(){this.off(r,a),i.apply(this,arguments)}return a.fn=i,this.on(r,a),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+r];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,s=0;s<a.length;s++)if(o=a[s],o===i||o.fn===i){a.splice(s,1);break}return a.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),a=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(a){a=a.slice(0);for(var o=0,s=a.length;o<s;++o)a[o].apply(this,i)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(_w);var R6=_w.exports;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Xr(){return Xr=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Xr.apply(this,arguments)}function xr(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}function pl(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var sh;typeof Object.assign!="function"?sh=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e}:sh=Object.assign;var zi=sh,_m=["","webkit","Moz","MS","ms","o"],N6=typeof document>"u"?{style:{}}:document.createElement("div"),F6="function",wa=Math.round,ji=Math.abs,Cv=Date.now;function of(n,t){for(var e,r,i=t[0].toUpperCase()+t.slice(1),a=0;a<_m.length;){if(e=_m[a],r=e?e+i:t,r in n)return r;a++}}var En;typeof window>"u"?En={}:En=window;var $w=of(N6.style,"touchAction"),ww=$w!==void 0;function B6(){if(!ww)return!1;var n={},t=En.CSS&&En.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return n[e]=t?En.CSS.supports("touch-action",e):!0}),n}var kw="compute",Ew="auto",lh="manipulation",Pi="none",xo="pan-x",zo="pan-y",gl=B6(),L6=/mobile|tablet|ip(ad|hone|od)|android/i,Sw="ontouchstart"in En,x6=of(En,"PointerEvent")!==void 0,z6=Sw&&L6.test(navigator.userAgent),$s="touch",j6="pen",Pv="mouse",H6="kinect",W6=25,ar=1,Ji=2,Pt=4,yr=8,lu=1,ws=2,ks=4,Es=8,Ra=16,fn=ws|ks,Ai=Es|Ra,Ow=fn|Ai,Tw=["x","y"],uu=["clientX","clientY"];function Sn(n,t,e){var r;if(n)if(n.forEach)n.forEach(t,e);else if(n.length!==void 0)for(r=0;r<n.length;)t.call(e,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&t.call(e,n[r],r,n)}function sf(n,t){return typeof n===F6?n.apply(t&&t[0]||void 0,t):n}function Oi(n,t){return n.indexOf(t)>-1}function V6(n){if(Oi(n,Pi))return Pi;var t=Oi(n,xo),e=Oi(n,zo);return t&&e?Pi:t||e?t?xo:zo:Oi(n,lh)?lh:Ew}var Iw=function(){function n(e,r){this.manager=e,this.set(r)}var t=n.prototype;return t.set=function(r){r===kw&&(r=this.compute()),ww&&this.manager.element.style&&gl[r]&&(this.manager.element.style[$w]=r),this.actions=r.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var r=[];return Sn(this.manager.recognizers,function(i){sf(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),V6(r.join(" "))},t.preventDefaults=function(r){var i=r.srcEvent,a=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,s=Oi(o,Pi)&&!gl[Pi],l=Oi(o,zo)&&!gl[zo],u=Oi(o,xo)&&!gl[xo];if(s){var f=r.pointers.length===1,c=r.distance<2,d=r.deltaTime<250;if(f&&c&&d)return}if(!(u&&l)&&(s||l&&a&fn||u&&a&Ai))return this.preventSrc(i)},t.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n}();function Av(n,t){for(;n;){if(n===t)return!0;n=n.parentNode}return!1}function Cw(n){var t=n.length;if(t===1)return{x:wa(n[0].clientX),y:wa(n[0].clientY)};for(var e=0,r=0,i=0;i<t;)e+=n[i].clientX,r+=n[i].clientY,i++;return{x:wa(e/t),y:wa(r/t)}}function $m(n){for(var t=[],e=0;e<n.pointers.length;)t[e]={clientX:wa(n.pointers[e].clientX),clientY:wa(n.pointers[e].clientY)},e++;return{timeStamp:Cv(),pointers:t,center:Cw(t),deltaX:n.deltaX,deltaY:n.deltaY}}function fu(n,t,e){e||(e=Tw);var r=t[e[0]]-n[e[0]],i=t[e[1]]-n[e[1]];return Math.sqrt(r*r+i*i)}function uh(n,t,e){e||(e=Tw);var r=t[e[0]]-n[e[0]],i=t[e[1]]-n[e[1]];return Math.atan2(i,r)*180/Math.PI}function Pw(n,t){return n===t?lu:ji(n)>=ji(t)?n<0?ws:ks:t<0?Es:Ra}function U6(n,t){var e=t.center,r=n.offsetDelta||{},i=n.prevDelta||{},a=n.prevInput||{};(t.eventType===ar||a.eventType===Pt)&&(i=n.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=n.offsetDelta={x:e.x,y:e.y}),t.deltaX=i.x+(e.x-r.x),t.deltaY=i.y+(e.y-r.y)}function Aw(n,t,e){return{x:t/n||0,y:e/n||0}}function G6(n,t){return fu(t[0],t[1],uu)/fu(n[0],n[1],uu)}function q6(n,t){return uh(t[1],t[0],uu)+uh(n[1],n[0],uu)}function K6(n,t){var e=n.lastInterval||t,r=t.timeStamp-e.timeStamp,i,a,o,s;if(t.eventType!==yr&&(r>W6||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=Aw(r,l,u);a=f.x,o=f.y,i=ji(f.x)>ji(f.y)?f.x:f.y,s=Pw(l,u),n.lastInterval=t}else i=e.velocity,a=e.velocityX,o=e.velocityY,s=e.direction;t.velocity=i,t.velocityX=a,t.velocityY=o,t.direction=s}function Y6(n,t){var e=n.session,r=t.pointers,i=r.length;e.firstInput||(e.firstInput=$m(t)),i>1&&!e.firstMultiple?e.firstMultiple=$m(t):i===1&&(e.firstMultiple=!1);var a=e.firstInput,o=e.firstMultiple,s=o?o.center:a.center,l=t.center=Cw(r);t.timeStamp=Cv(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=uh(s,l),t.distance=fu(s,l),U6(e,t),t.offsetDirection=Pw(t.deltaX,t.deltaY);var u=Aw(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=ji(u.x)>ji(u.y)?u.x:u.y,t.scale=o?G6(o.pointers,r):1,t.rotation=o?q6(o.pointers,r):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,K6(e,t);var f=n.element,c=t.srcEvent,d;c.composedPath?d=c.composedPath()[0]:c.path?d=c.path[0]:d=c.target,Av(d,f)&&(f=d),t.target=f}function X6(n,t,e){var r=e.pointers.length,i=e.changedPointers.length,a=t&ar&&r-i===0,o=t&(Pt|yr)&&r-i===0;e.isFirst=!!a,e.isFinal=!!o,a&&(n.session={}),e.eventType=t,Y6(n,e),n.emit("hammer.input",e),n.recognize(e),n.session.prevInput=e}function jo(n){return n.trim().split(/\s+/g)}function Io(n,t,e){Sn(jo(t),function(r){n.addEventListener(r,e,!1)})}function Co(n,t,e){Sn(jo(t),function(r){n.removeEventListener(r,e,!1)})}function wm(n){var t=n.ownerDocument||n;return t.defaultView||t.parentWindow||window}var Za=function(){function n(e,r){var i=this;this.manager=e,this.callback=r,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){sf(e.options.enable,[e])&&i.handler(a)},this.init()}var t=n.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Io(this.element,this.evEl,this.domHandler),this.evTarget&&Io(this.target,this.evTarget,this.domHandler),this.evWin&&Io(wm(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Co(this.element,this.evEl,this.domHandler),this.evTarget&&Co(this.target,this.evTarget,this.domHandler),this.evWin&&Co(wm(this.element),this.evWin,this.domHandler)},n}();function Hi(n,t,e){if(n.indexOf&&!e)return n.indexOf(t);for(var r=0;r<n.length;){if(e&&n[r][e]==t||!e&&n[r]===t)return r;r++}return-1}var Q6={pointerdown:ar,pointermove:Ji,pointerup:Pt,pointercancel:yr,pointerout:yr},Z6={2:$s,3:j6,4:Pv,5:H6},Mw="pointerdown",Dw="pointermove pointerup pointercancel";En.MSPointerEvent&&!En.PointerEvent&&(Mw="MSPointerDown",Dw="MSPointerMove MSPointerUp MSPointerCancel");var Rw=function(n){xr(t,n);function t(){var r,i=t.prototype;return i.evEl=Mw,i.evWin=Dw,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var e=t.prototype;return e.handler=function(i){var a=this.store,o=!1,s=i.type.toLowerCase().replace("ms",""),l=Q6[s],u=Z6[i.pointerType]||i.pointerType,f=u===$s,c=Hi(a,i.pointerId,"pointerId");l&ar&&(i.button===0||f)?c<0&&(a.push(i),c=a.length-1):l&(Pt|yr)&&(o=!0),!(c<0)&&(a[c]=i,this.callback(this.manager,l,{pointers:a,changedPointers:[i],pointerType:u,srcEvent:i}),o&&a.splice(c,1))},t}(Za);function Ho(n){return Array.prototype.slice.call(n,0)}function Mv(n,t,e){for(var r=[],i=[],a=0;a<n.length;){var o=t?n[a][t]:n[a];Hi(i,o)<0&&r.push(n[a]),i[a]=o,a++}return e&&(t?r=r.sort(function(s,l){return s[t]>l[t]}):r=r.sort()),r}var J6={touchstart:ar,touchmove:Ji,touchend:Pt,touchcancel:yr},eN="touchstart touchmove touchend touchcancel",Dv=function(n){xr(t,n);function t(){var r;return t.prototype.evTarget=eN,r=n.apply(this,arguments)||this,r.targetIds={},r}var e=t.prototype;return e.handler=function(i){var a=J6[i.type],o=tN.call(this,i,a);o&&this.callback(this.manager,a,{pointers:o[0],changedPointers:o[1],pointerType:$s,srcEvent:i})},t}(Za);function tN(n,t){var e=Ho(n.touches),r=this.targetIds;if(t&(ar|Ji)&&e.length===1)return r[e[0].identifier]=!0,[e,e];var i,a,o=Ho(n.changedTouches),s=[],l=this.target;if(a=e.filter(function(u){return Av(u.target,l)}),t===ar)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),t&(Pt|yr)&&delete r[o[i].identifier],i++;if(s.length)return[Mv(a.concat(s),"identifier",!0),s]}var rN={mousedown:ar,mousemove:Ji,mouseup:Pt},nN="mousedown",iN="mousemove mouseup",Rv=function(n){xr(t,n);function t(){var r,i=t.prototype;return i.evEl=nN,i.evWin=iN,r=n.apply(this,arguments)||this,r.pressed=!1,r}var e=t.prototype;return e.handler=function(i){var a=rN[i.type];a&ar&&i.button===0&&(this.pressed=!0),a&Ji&&i.which!==1&&(a=Pt),this.pressed&&(a&Pt&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[i],changedPointers:[i],pointerType:Pv,srcEvent:i}))},t}(Za),aN=2500,km=25;function Em(n){var t=n.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(r);var a=function(){var s=i.indexOf(r);s>-1&&i.splice(s,1)};setTimeout(a,aN)}}function oN(n,t){n&ar?(this.primaryTouch=t.changedPointers[0].identifier,Em.call(this,t)):n&(Pt|yr)&&Em.call(this,t)}function sN(n){for(var t=n.srcEvent.clientX,e=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(t-i.x),o=Math.abs(e-i.y);if(a<=km&&o<=km)return!0}return!1}var Nw=function(){var n=function(t){xr(e,t);function e(i,a){var o;return o=t.call(this,i,a)||this,o.handler=function(s,l,u){var f=u.pointerType===$s,c=u.pointerType===Pv;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)oN.call(pl(pl(o)),l,u);else if(c&&sN.call(pl(pl(o)),u))return;o.callback(s,l,u)}},o.touch=new Dv(o.manager,o.handler),o.mouse=new Rv(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=e.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Za);return n}();function lN(n){var t,e=n.options.inputClass;return e?t=e:x6?t=Rw:z6?t=Dv:Sw?t=Nw:t=Rv,new t(n,X6)}function ka(n,t,e){return Array.isArray(n)?(Sn(n,e[t],e),!0):!1}var jl=1,Fr=2,Na=4,ai=8,On=ai,Wo=16,on=32,uN=1;function fN(){return uN++}function ml(n,t){var e=t.manager;return e?e.get(n):n}function Sm(n){return n&Wo?"cancel":n&ai?"end":n&Na?"move":n&Fr?"start":""}var Ss=function(){function n(e){e===void 0&&(e={}),this.options=Xr({enable:!0},e),this.id=fN(),this.manager=null,this.state=jl,this.simultaneous={},this.requireFail=[]}var t=n.prototype;return t.set=function(r){return zi(this.options,r),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(r){if(ka(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=ml(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},t.dropRecognizeWith=function(r){return ka(r,"dropRecognizeWith",this)?this:(r=ml(r,this),delete this.simultaneous[r.id],this)},t.requireFailure=function(r){if(ka(r,"requireFailure",this))return this;var i=this.requireFail;return r=ml(r,this),Hi(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},t.dropRequireFailure=function(r){if(ka(r,"dropRequireFailure",this))return this;r=ml(r,this);var i=Hi(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},t.emit=function(r){var i=this,a=this.state;function o(s){i.manager.emit(s,r)}a<ai&&o(i.options.event+Sm(a)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),a>=ai&&o(i.options.event+Sm(a))},t.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=on},t.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(on|jl)))return!1;r++}return!0},t.recognize=function(r){var i=zi({},r);if(!sf(this.options.enable,[this,i])){this.reset(),this.state=on;return}this.state&(On|Wo|on)&&(this.state=jl),this.state=this.process(i),this.state&(Fr|Na|ai|Wo)&&this.tryEmit(i)},t.process=function(r){},t.getTouchAction=function(){},t.reset=function(){},n}(),fh=function(n){xr(t,n);function t(r){var i;return r===void 0&&(r={}),i=n.call(this,Xr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var e=t.prototype;return e.getTouchAction=function(){return[lh]},e.process=function(i){var a=this,o=this.options,s=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&ar&&this.count===0)return this.failTimeout();if(l&&u&&s){if(i.eventType!==Pt)return this.failTimeout();var f=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||fu(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!f?this.count=1:this.count+=1,this._input=i;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=On,a.tryEmit()},o.interval),Fr):On}return on},e.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=on},this.options.interval),on},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===On&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Ss),Fa=function(n){xr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Xr({pointers:1},r))||this}var e=t.prototype;return e.attrTest=function(i){var a=this.options.pointers;return a===0||i.pointers.length===a},e.process=function(i){var a=this.state,o=i.eventType,s=a&(Fr|Na),l=this.attrTest(i);return s&&(o&yr||!l)?a|Wo:s||l?o&Pt?a|ai:a&Fr?a|Na:Fr:on},t}(Ss);function Fw(n){return n===Ra?"down":n===Es?"up":n===ws?"left":n===ks?"right":""}var Nv=function(n){xr(t,n);function t(r){var i;return r===void 0&&(r={}),i=n.call(this,Xr({event:"pan",threshold:10,pointers:1,direction:Ow},r))||this,i.pX=null,i.pY=null,i}var e=t.prototype;return e.getTouchAction=function(){var i=this.options.direction,a=[];return i&fn&&a.push(zo),i&Ai&&a.push(xo),a},e.directionTest=function(i){var a=this.options,o=!0,s=i.distance,l=i.direction,u=i.deltaX,f=i.deltaY;return l&a.direction||(a.direction&fn?(l=u===0?lu:u<0?ws:ks,o=u!==this.pX,s=Math.abs(i.deltaX)):(l=f===0?lu:f<0?Es:Ra,o=f!==this.pY,s=Math.abs(i.deltaY))),i.direction=l,o&&s>a.threshold&&l&a.direction},e.attrTest=function(i){return Fa.prototype.attrTest.call(this,i)&&(this.state&Fr||!(this.state&Fr)&&this.directionTest(i))},e.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var a=Fw(i.direction);a&&(i.additionalEvent=this.options.event+a),n.prototype.emit.call(this,i)},t}(Fa),Bw=function(n){xr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Xr({event:"swipe",threshold:10,velocity:.3,direction:fn|Ai,pointers:1},r))||this}var e=t.prototype;return e.getTouchAction=function(){return Nv.prototype.getTouchAction.call(this)},e.attrTest=function(i){var a=this.options.direction,o;return a&(fn|Ai)?o=i.overallVelocity:a&fn?o=i.overallVelocityX:a&Ai&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&a&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&ji(o)>this.options.velocity&&i.eventType&Pt},e.emit=function(i){var a=Fw(i.offsetDirection);a&&this.manager.emit(this.options.event+a,i),this.manager.emit(this.options.event,i)},t}(Fa),Lw=function(n){xr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Xr({event:"pinch",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[Pi]},e.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Fr)},e.emit=function(i){if(i.scale!==1){var a=i.scale<1?"in":"out";i.additionalEvent=this.options.event+a}n.prototype.emit.call(this,i)},t}(Fa),xw=function(n){xr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Xr({event:"rotate",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[Pi]},e.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Fr)},t}(Fa),zw=function(n){xr(t,n);function t(r){var i;return r===void 0&&(r={}),i=n.call(this,Xr({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var e=t.prototype;return e.getTouchAction=function(){return[Ew]},e.process=function(i){var a=this,o=this.options,s=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!s||i.eventType&(Pt|yr)&&!u)this.reset();else if(i.eventType&ar)this.reset(),this._timer=setTimeout(function(){a.state=On,a.tryEmit()},o.time);else if(i.eventType&Pt)return On;return on},e.reset=function(){clearTimeout(this._timer)},e.emit=function(i){this.state===On&&(i&&i.eventType&Pt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Cv(),this.manager.emit(this.options.event,this._input)))},t}(Ss),jw={domEvents:!1,touchAction:kw,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Om=[[xw,{enable:!1}],[Lw,{enable:!1},["rotate"]],[Bw,{direction:fn}],[Nv,{direction:fn},["swipe"]],[fh],[fh,{event:"doubletap",taps:2},["tap"]],[zw]],cN=1,Tm=2;function Im(n,t){var e=n.element;if(e.style){var r;Sn(n.options.cssProps,function(i,a){r=of(e.style,a),t?(n.oldCssProps[r]=e.style[r],e.style[r]=i):e.style[r]=n.oldCssProps[r]||""}),t||(n.oldCssProps={})}}function dN(n,t){var e=document.createEvent("Event");e.initEvent(n,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var Cm=function(){function n(e,r){var i=this;this.options=zi({},jw,r||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=lN(this),this.touchAction=new Iw(this,this.options.touchAction),Im(this,!0),Sn(this.options.recognizers,function(a){var o=i.add(new a[0](a[1]));a[2]&&o.recognizeWith(a[2]),a[3]&&o.requireFailure(a[3])},this)}var t=n.prototype;return t.set=function(r){return zi(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},t.stop=function(r){this.session.stopped=r?Tm:cN},t.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var a,o=this.recognizers,s=i.curRecognizer;(!s||s&&s.state&On)&&(i.curRecognizer=null,s=null);for(var l=0;l<o.length;)a=o[l],i.stopped!==Tm&&(!s||a===s||a.canRecognizeWith(s))?a.recognize(r):a.reset(),!s&&a.state&(Fr|Na|ai)&&(i.curRecognizer=a,s=a),l++}},t.get=function(r){if(r instanceof Ss)return r;for(var i=this.recognizers,a=0;a<i.length;a++)if(i[a].options.event===r)return i[a];return null},t.add=function(r){if(ka(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},t.remove=function(r){if(ka(r,"remove",this))return this;var i=this.get(r);if(r){var a=this.recognizers,o=Hi(a,i);o!==-1&&(a.splice(o,1),this.touchAction.update())}return this},t.on=function(r,i){if(r===void 0||i===void 0)return this;var a=this.handlers;return Sn(jo(r),function(o){a[o]=a[o]||[],a[o].push(i)}),this},t.off=function(r,i){if(r===void 0)return this;var a=this.handlers;return Sn(jo(r),function(o){i?a[o]&&a[o].splice(Hi(a[o],i),1):delete a[o]}),this},t.emit=function(r,i){this.options.domEvents&&dN(r,i);var a=this.handlers[r]&&this.handlers[r].slice();if(!(!a||!a.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<a.length;)a[o](i),o++}},t.destroy=function(){this.element&&Im(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),hN={touchstart:ar,touchmove:Ji,touchend:Pt,touchcancel:yr},vN="touchstart",pN="touchstart touchmove touchend touchcancel",gN=function(n){xr(t,n);function t(){var r,i=t.prototype;return i.evTarget=vN,i.evWin=pN,r=n.apply(this,arguments)||this,r.started=!1,r}var e=t.prototype;return e.handler=function(i){var a=hN[i.type];if(a===ar&&(this.started=!0),!!this.started){var o=mN.call(this,i,a);a&(Pt|yr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:o[0],changedPointers:o[1],pointerType:$s,srcEvent:i})}},t}(Za);function mN(n,t){var e=Ho(n.touches),r=Ho(n.changedTouches);return t&(Pt|yr)&&(e=Mv(e.concat(r),"identifier",!0)),[e,r]}function Hw(n,t,e){var r="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var i=new Error("get-stack-trace"),a=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,a),n.apply(this,arguments)}}var Ww=Hw(function(n,t,e){for(var r=Object.keys(t),i=0;i<r.length;)(!e||e&&n[r[i]]===void 0)&&(n[r[i]]=t[r[i]]),i++;return n},"extend","Use `assign`."),yN=Hw(function(n,t){return Ww(n,t,!0)},"merge","Use `assign`.");function bN(n,t,e){var r=t.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,e&&zi(i,e)}function Pm(n,t){return function(){return n.apply(t,arguments)}}var _N=function(){var n=function(e,r){return r===void 0&&(r={}),new Cm(e,Xr({recognizers:Om.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=Ow,n.DIRECTION_DOWN=Ra,n.DIRECTION_LEFT=ws,n.DIRECTION_RIGHT=ks,n.DIRECTION_UP=Es,n.DIRECTION_HORIZONTAL=fn,n.DIRECTION_VERTICAL=Ai,n.DIRECTION_NONE=lu,n.DIRECTION_DOWN=Ra,n.INPUT_START=ar,n.INPUT_MOVE=Ji,n.INPUT_END=Pt,n.INPUT_CANCEL=yr,n.STATE_POSSIBLE=jl,n.STATE_BEGAN=Fr,n.STATE_CHANGED=Na,n.STATE_ENDED=ai,n.STATE_RECOGNIZED=On,n.STATE_CANCELLED=Wo,n.STATE_FAILED=on,n.Manager=Cm,n.Input=Za,n.TouchAction=Iw,n.TouchInput=Dv,n.MouseInput=Rv,n.PointerEventInput=Rw,n.TouchMouseInput=Nw,n.SingleTouchInput=gN,n.Recognizer=Ss,n.AttrRecognizer=Fa,n.Tap=fh,n.Pan=Nv,n.Swipe=Bw,n.Pinch=Lw,n.Rotate=xw,n.Press=zw,n.on=Io,n.off=Co,n.each=Sn,n.merge=yN,n.extend=Ww,n.bindFn=Pm,n.assign=zi,n.inherit=bN,n.bindFn=Pm,n.prefixed=of,n.toArray=Ho,n.inArray=Hi,n.uniqueArray=Mv,n.splitStr=jo,n.boolOrFn=sf,n.hasParent=Av,n.addEventListeners=Io,n.removeEventListeners=Co,n.defaults=zi({},jw,{preset:Om}),n}(),$N=_N;function Vw(n,t){var e=typeof rf<"u"&&ps(n)||n["@@iterator"];if(!e){if(wr(n)||(e=wN(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function wN(n,t){var e;if(n){if(typeof n=="string")return Am(n,t);var r=af(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return _v(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Am(n,t)}}function Am(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var Uw=rf("DELETE");function kN(n){for(var t,e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Gw.apply(void 0,nf(t=[{},n]).call(t,r))}function Gw(){var n=cu.apply(void 0,arguments);return Kw(n),n}function cu(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];if(t.length<2)return t[0];if(t.length>2){var r;return cu.apply(void 0,nf(r=[Gw(t[0],t[1])]).call(r,hr(af(t).call(t,2))))}var i=t[0],a=t[1],o=Vw(iD(a)),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;Object.prototype.propertyIsEnumerable.call(a,l)&&(a[l]===Uw?delete i[l]:i[l]!==null&&a[l]!==null&&pr(i[l])==="object"&&pr(a[l])==="object"&&!wr(i[l])&&!wr(a[l])?i[l]=cu(i[l],a[l]):i[l]=qw(a[l]))}}catch(u){o.e(u)}finally{o.f()}return i}function qw(n){return wr(n)?Vr(n).call(n,function(t){return qw(t)}):pr(n)==="object"&&n!==null?cu({},n):n}function Kw(n){for(var t=0,e=Tv(n);t<e.length;t++){var r=e[t];n[r]===Uw?delete n[r]:pr(n[r])==="object"&&n[r]!==null&&Kw(n[r])}}function EN(){var n=function(){};return{on:n,off:n,destroy:n,emit:n,get:function(){return{set:n}}}}var SN=typeof window<"u"?window.Hammer||$N:function(){return EN()};function $n(n){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=SN(this._dom.overlay);r.on("tap",n$(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];xi(i).call(i,function(a){r.on(a,function(o){o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){ON(a.target,n)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}R6($n.prototype);$n.current=null;$n.prototype.destroy=function(){var n,t;this.deactivate();var e=Vw(VD(n=hw(t=this._cleanupQueue).call(t,0)).call(n)),r;try{for(e.s();!(r=e.n()).done;){var i=r.value;i()}}catch(a){e.e(a)}finally{e.f()}};$n.prototype.activate=function(){$n.current&&$n.current.deactivate(),$n.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};$n.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};$n.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function ON(n,t){for(;n;){if(n===t)return!0;n=n.parentNode}return!1}var TN=Ee,IN=Vu,CN=Fu,PN=TN.TypeError,AN=function(n){if(IN(n))return n;throw PN(CN(n)+" is not a constructor")},MN=De,DN=Ln,wc=Va,RN=r$,Mm=AN,NN=Jr,Dm=sr,FN=Ka,Yw=rt,Fv=DN("Reflect","construct"),BN=Object.prototype,LN=[].push,Xw=Yw(function(){function n(){}return!(Fv(function(){},[],n)instanceof n)}),Qw=!Yw(function(){Fv(function(){})}),Rm=Xw||Qw;MN({target:"Reflect",stat:!0,forced:Rm,sham:Rm},{construct:function(t,e){Mm(t),NN(e);var r=arguments.length<3?t:Mm(arguments[2]);if(Qw&&!Xw)return Fv(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return wc(LN,i,e),new(wc(RN,t,i))}var a=r.prototype,o=FN(Dm(a)?a:BN),s=wc(t,o,e);return Dm(s)?s:o}});var xN=lt,zN=xN.Reflect.construct,jN=zN,HN=jN,Hl=HN;function wi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var WN=bw,VN=WN,UN=VN,GN=UN,qN=GN,KN=De,YN=vP;KN({target:"Object",stat:!0},{setPrototypeOf:YN});var XN=lt,QN=XN.Object.setPrototypeOf,ZN=QN,JN=ZN,eF=JN,tF=eF,rF=tF,nF=rF,Zw=nF;function ch(n,t){return ch=Zw||function(r,i){return r.__proto__=i,r},ch(n,t)}function iF(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=qN(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),zu(n,"prototype",{writable:!1}),t&&ch(n,t)}function aF(n,t){if(t&&(pr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wi(n)}var oF=i8,sF=oF,lF=sF,uF=lF,Nm=uF;function du(n){return du=Zw?Nm:function(e){return e.__proto__||Nm(e)},du(n)}var Jw={exports:{}};(function(n){var t=function(e){var r=Object.prototype,i=r.hasOwnProperty,a,o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(L,W,Y){return Object.defineProperty(L,W,{value:Y,enumerable:!0,configurable:!0,writable:!0}),L[W]}try{f({},"")}catch{f=function(W,Y,B){return W[Y]=B}}function c(L,W,Y,B){var H=W&&W.prototype instanceof m?W:m,G=Object.create(H.prototype),me=new K(B||[]);return G._invoke=R(L,Y,me),G}e.wrap=c;function d(L,W,Y){try{return{type:"normal",arg:L.call(W,Y)}}catch(B){return{type:"throw",arg:B}}}var h="suspendedStart",v="suspendedYield",p="executing",y="completed",g={};function m(){}function _(){}function E(){}var b={};f(b,s,function(){return this});var S=Object.getPrototypeOf,O=S&&S(S(U([])));O&&O!==r&&i.call(O,s)&&(b=O);var I=E.prototype=m.prototype=Object.create(b);_.prototype=E,f(I,"constructor",E),f(E,"constructor",_),_.displayName=f(E,u,"GeneratorFunction");function w(L){["next","throw","return"].forEach(function(W){f(L,W,function(Y){return this._invoke(W,Y)})})}e.isGeneratorFunction=function(L){var W=typeof L=="function"&&L.constructor;return W?W===_||(W.displayName||W.name)==="GeneratorFunction":!1},e.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,E):(L.__proto__=E,f(L,u,"GeneratorFunction")),L.prototype=Object.create(I),L},e.awrap=function(L){return{__await:L}};function k(L,W){function Y(G,me,ge,Pe){var Re=d(L[G],L,me);if(Re.type==="throw")Pe(Re.arg);else{var ze=Re.arg,ue=ze.value;return ue&&typeof ue=="object"&&i.call(ue,"__await")?W.resolve(ue.__await).then(function(Se){Y("next",Se,ge,Pe)},function(Se){Y("throw",Se,ge,Pe)}):W.resolve(ue).then(function(Se){ze.value=Se,ge(ze)},function(Se){return Y("throw",Se,ge,Pe)})}}var B;function H(G,me){function ge(){return new W(function(Pe,Re){Y(G,me,Pe,Re)})}return B=B?B.then(ge,ge):ge()}this._invoke=H}w(k.prototype),f(k.prototype,l,function(){return this}),e.AsyncIterator=k,e.async=function(L,W,Y,B,H){H===void 0&&(H=Promise);var G=new k(c(L,W,Y,B),H);return e.isGeneratorFunction(W)?G:G.next().then(function(me){return me.done?me.value:G.next()})};function R(L,W,Y){var B=h;return function(G,me){if(B===p)throw new Error("Generator is already running");if(B===y){if(G==="throw")throw me;return fe()}for(Y.method=G,Y.arg=me;;){var ge=Y.delegate;if(ge){var Pe=T(ge,Y);if(Pe){if(Pe===g)continue;return Pe}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(B===h)throw B=y,Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);B=p;var Re=d(L,W,Y);if(Re.type==="normal"){if(B=Y.done?y:v,Re.arg===g)continue;return{value:Re.arg,done:Y.done}}else Re.type==="throw"&&(B=y,Y.method="throw",Y.arg=Re.arg)}}}function T(L,W){var Y=L.iterator[W.method];if(Y===a){if(W.delegate=null,W.method==="throw"){if(L.iterator.return&&(W.method="return",W.arg=a,T(L,W),W.method==="throw"))return g;W.method="throw",W.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var B=d(Y,L.iterator,W.arg);if(B.type==="throw")return W.method="throw",W.arg=B.arg,W.delegate=null,g;var H=B.arg;if(!H)return W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,g;if(H.done)W[L.resultName]=H.value,W.next=L.nextLoc,W.method!=="return"&&(W.method="next",W.arg=a);else return H;return W.delegate=null,g}w(I),f(I,u,"Generator"),f(I,s,function(){return this}),f(I,"toString",function(){return"[object Generator]"});function P(L){var W={tryLoc:L[0]};1 in L&&(W.catchLoc=L[1]),2 in L&&(W.finallyLoc=L[2],W.afterLoc=L[3]),this.tryEntries.push(W)}function A(L){var W=L.completion||{};W.type="normal",delete W.arg,L.completion=W}function K(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(P,this),this.reset(!0)}e.keys=function(L){var W=[];for(var Y in L)W.push(Y);return W.reverse(),function B(){for(;W.length;){var H=W.pop();if(H in L)return B.value=H,B.done=!1,B}return B.done=!0,B}};function U(L){if(L){var W=L[s];if(W)return W.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var Y=-1,B=function H(){for(;++Y<L.length;)if(i.call(L,Y))return H.value=L[Y],H.done=!1,H;return H.value=a,H.done=!0,H};return B.next=B}}return{next:fe}}e.values=U;function fe(){return{value:a,done:!0}}return K.prototype={constructor:K,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(A),!L)for(var W in this)W.charAt(0)==="t"&&i.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=a)},stop:function(){this.done=!0;var L=this.tryEntries[0],W=L.completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var W=this;function Y(Pe,Re){return G.type="throw",G.arg=L,W.next=Pe,Re&&(W.method="next",W.arg=a),!!Re}for(var B=this.tryEntries.length-1;B>=0;--B){var H=this.tryEntries[B],G=H.completion;if(H.tryLoc==="root")return Y("end");if(H.tryLoc<=this.prev){var me=i.call(H,"catchLoc"),ge=i.call(H,"finallyLoc");if(me&&ge){if(this.prev<H.catchLoc)return Y(H.catchLoc,!0);if(this.prev<H.finallyLoc)return Y(H.finallyLoc)}else if(me){if(this.prev<H.catchLoc)return Y(H.catchLoc,!0)}else if(ge){if(this.prev<H.finallyLoc)return Y(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(L,W){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var B=this.tryEntries[Y];if(B.tryLoc<=this.prev&&i.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var H=B;break}}H&&(L==="break"||L==="continue")&&H.tryLoc<=W&&W<=H.finallyLoc&&(H=null);var G=H?H.completion:{};return G.type=L,G.arg=W,H?(this.method="next",this.next=H.finallyLoc,g):this.complete(G)},complete:function(L,W){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&W&&(this.next=W),g},finish:function(L){for(var W=this.tryEntries.length-1;W>=0;--W){var Y=this.tryEntries[W];if(Y.finallyLoc===L)return this.complete(Y.completion,Y.afterLoc),A(Y),g}},catch:function(L){for(var W=this.tryEntries.length-1;W>=0;--W){var Y=this.tryEntries[W];if(Y.tryLoc===L){var B=Y.completion;if(B.type==="throw"){var H=B.arg;A(Y)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(L,W,Y){return this.delegate={iterator:U(L),resultName:W,nextLoc:Y},this.method==="next"&&(this.arg=a),g}},e}(n.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Jw);var fr=Jw.exports,Bv={exports:{}},fF=rt,cF=fF(function(){if(typeof ArrayBuffer=="function"){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}),dF=rt,hF=sr,vF=Yi,Fm=cF,Wl=Object.isExtensible,pF=dF(function(){Wl(1)}),gF=pF||Fm?function(t){return!hF(t)||Fm&&vF(t)=="ArrayBuffer"?!1:Wl?Wl(t):!0}:Wl,mF=rt,yF=!mF(function(){return Object.isExtensible(Object.preventExtensions({}))}),bF=De,_F=qe,$F=fs,wF=sr,Lv=Zt,kF=Er.f,Bm=gs,EF=$v,xv=gF,SF=Lu,OF=yF,e2=!1,Rn=SF("meta"),TF=0,zv=function(n){kF(n,Rn,{value:{objectID:"O"+TF++,weakData:{}}})},IF=function(n,t){if(!wF(n))return typeof n=="symbol"?n:(typeof n=="string"?"S":"P")+n;if(!Lv(n,Rn)){if(!xv(n))return"F";if(!t)return"E";zv(n)}return n[Rn].objectID},CF=function(n,t){if(!Lv(n,Rn)){if(!xv(n))return!0;if(!t)return!1;zv(n)}return n[Rn].weakData},PF=function(n){return OF&&e2&&xv(n)&&!Lv(n,Rn)&&zv(n),n},AF=function(){MF.enable=function(){},e2=!0;var n=Bm.f,t=_F([].splice),e={};e[Rn]=1,n(e).length&&(Bm.f=function(r){for(var i=n(r),a=0,o=i.length;a<o;a++)if(i[a]===Rn){t(i,a,1);break}return i},bF({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:EF.f}))},MF=Bv.exports={enable:AF,fastKey:IF,getWeakData:CF,onFreeze:PF};$F[Rn]=!0;var DF=Ee,RF=Ua,NF=pn,FF=Jr,BF=Fu,LF=E$,xF=Sr,Lm=Ht,zF=bv,jF=Yu,xm=k$,HF=DF.TypeError,Vl=function(n,t){this.stopped=n,this.result=t},zm=Vl.prototype,t2=function(n,t,e){var r=e&&e.that,i=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),s=RF(t,r),l,u,f,c,d,h,v,p=function(g){return l&&xm(l,"normal",g),new Vl(!0,g)},y=function(g){return i?(FF(g),o?s(g[0],g[1],p):s(g[0],g[1])):o?s(g,p):s(g)};if(a)l=n;else{if(u=jF(n),!u)throw HF(BF(n)+" is not iterable");if(LF(u)){for(f=0,c=xF(n);c>f;f++)if(d=y(n[f]),d&&Lm(zm,d))return d;return new Vl(!1)}l=zF(n,u)}for(h=l.next;!(v=NF(h,l)).done;){try{d=y(v.value)}catch(g){xm(l,"throw",g)}if(typeof d=="object"&&d&&Lm(zm,d))return d}return new Vl(!1)},WF=Ee,VF=Ht,UF=WF.TypeError,r2=function(n,t){if(VF(t,n))return n;throw UF("Incorrect invocation")},GF=De,qF=Ee,KF=Bv.exports,YF=rt,XF=Ga,QF=t2,ZF=r2,JF=Kt,eB=sr,tB=vs,rB=Er.f,nB=qa.forEach,iB=jt,n2=cs,aB=n2.set,oB=n2.getterFor,i2=function(n,t,e){var r=n.indexOf("Map")!==-1,i=n.indexOf("Weak")!==-1,a=r?"set":"add",o=qF[n],s=o&&o.prototype,l={},u;if(!iB||!JF(o)||!(i||s.forEach&&!YF(function(){new o().entries().next()})))u=e.getConstructor(t,n,r,a),KF.enable();else{u=t(function(d,h){aB(ZF(d,f),{type:n,collection:new o}),h!=null&&QF(h,d[a],{that:d,AS_ENTRIES:r})});var f=u.prototype,c=oB(n);nB(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(d){var h=d=="add"||d=="set";d in s&&!(i&&d=="clear")&&XF(f,d,function(v,p){var y=c(this).collection;if(!h&&i&&!eB(v))return d=="get"?void 0:!1;var g=y[d](v===0?0:v,p);return h?this:g})}),i||rB(f,"size",{configurable:!0,get:function(){return c(this).collection.size}})}return tB(u,n,!1,!0),l[n]=u,GF({global:!0,forced:!0},l),i||e.setStrong(u,n,r),u},sB=Ku,lB=function(n,t,e){for(var r in t)e&&e.unsafe&&n[r]?n[r]=t[r]:sB(n,r,t[r],e);return n},uB=Ln,fB=Er,cB=Bt,dB=jt,jm=cB("species"),hB=function(n){var t=uB(n),e=fB.f;dB&&t&&!t[jm]&&e(t,jm,{configurable:!0,get:function(){return this}})},vB=Er.f,pB=Ka,Hm=lB,gB=Ua,mB=r2,yB=t2,bB=yv,_B=hB,go=jt,Wm=Bv.exports.fastKey,a2=cs,Vm=a2.set,kc=a2.getterFor,o2={getConstructor:function(n,t,e,r){var i=n(function(u,f){mB(u,a),Vm(u,{type:t,index:pB(null),first:void 0,last:void 0,size:0}),go||(u.size=0),f!=null&&yB(f,u[r],{that:u,AS_ENTRIES:e})}),a=i.prototype,o=kc(t),s=function(u,f,c){var d=o(u),h=l(u,f),v,p;return h?h.value=c:(d.last=h={index:p=Wm(f,!0),key:f,value:c,previous:v=d.last,next:void 0,removed:!1},d.first||(d.first=h),v&&(v.next=h),go?d.size++:u.size++,p!=="F"&&(d.index[p]=h)),u},l=function(u,f){var c=o(u),d=Wm(f),h;if(d!=="F")return c.index[d];for(h=c.first;h;h=h.next)if(h.key==f)return h};return Hm(a,{clear:function(){for(var f=this,c=o(f),d=c.index,h=c.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;c.first=c.last=void 0,go?c.size=0:f.size=0},delete:function(u){var f=this,c=o(f),d=l(f,u);if(d){var h=d.next,v=d.previous;delete c.index[d.index],d.removed=!0,v&&(v.next=h),h&&(h.previous=v),c.first==d&&(c.first=h),c.last==d&&(c.last=v),go?c.size--:f.size--}return!!d},forEach:function(f){for(var c=o(this),d=gB(f,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:c.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(f){return!!l(this,f)}}),Hm(a,e?{get:function(f){var c=l(this,f);return c&&c.value},set:function(f,c){return s(this,f===0?0:f,c)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),go&&vB(a,"size",{get:function(){return o(this).size}}),i},setStrong:function(n,t,e){var r=t+" Iterator",i=kc(t),a=kc(r);bB(n,t,function(o,s){Vm(this,{type:r,target:o,state:i(o),kind:s,last:void 0})},function(){for(var o=a(this),s=o.kind,l=o.last;l&&l.removed;)l=l.previous;return!o.target||!(o.last=l=l?l.next:o.state.first)?(o.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l.key,done:!1}:s=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},e?"entries":"values",!e,!0),_B(t)}},$B=i2,wB=o2;$B("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},wB);var kB=lt,EB=kB.Map,SB=EB,OB=SB,s2=OB,TB=De,IB=qa.some,CB=ls,PB=CB("some");TB({target:"Array",proto:!0,forced:!PB},{some:function(t){return IB(this,t,arguments.length>1?arguments[1]:void 0)}});var AB=Rt,MB=AB("Array").some,DB=Ht,RB=MB,Ec=Array.prototype,NB=function(n){var t=n.some;return n===Ec||DB(Ec,n)&&t===Ec.some?RB:t},FB=NB,BB=FB,LB=BB,xB=Rt,zB=xB("Array").keys,jB=zB,HB=jB,WB=xn,VB=Zt,UB=Ht,GB=HB,Sc=Array.prototype,qB={DOMTokenList:!0,NodeList:!0},KB=function(n){var t=n.keys;return n===Sc||UB(Sc,n)&&t===Sc.keys||VB(qB,WB(n))?GB:t},da=KB,Um=P$,YB=Math.floor,dh=function(n,t){var e=n.length,r=YB(e/2);return e<8?XB(n,t):QB(n,dh(Um(n,0,r),t),dh(Um(n,r),t),t)},XB=function(n,t){for(var e=n.length,r=1,i,a;r<e;){for(a=r,i=n[r];a&&t(n[a-1],i)>0;)n[a]=n[--a];a!==r++&&(n[a]=i)}return n},QB=function(n,t,e,r){for(var i=t.length,a=e.length,o=0,s=0;o<i||s<a;)n[o+s]=o<i&&s<a?r(t[o],e[s])<=0?t[o++]:e[s++]:o<i?t[o++]:e[s++];return n},ZB=dh,JB=as,Gm=JB.match(/firefox\/(\d+)/i),eL=!!Gm&&+Gm[1],tL=as,rL=/MSIE|Trident/.test(tL),nL=as,qm=nL.match(/AppleWebKit\/(\d+)\./),iL=!!qm&&+qm[1],aL=De,l2=qe,oL=Xi,sL=_r,lL=Sr,Km=Zi,jv=rt,uL=ZB,fL=ls,Ym=eL,cL=rL,Xm=os,Qm=iL,ti=[],Zm=l2(ti.sort),dL=l2(ti.push),hL=jv(function(){ti.sort(void 0)}),vL=jv(function(){ti.sort(null)}),pL=fL("sort"),u2=!jv(function(){if(Xm)return Xm<70;if(!(Ym&&Ym>3)){if(cL)return!0;if(Qm)return Qm<603;var n="",t,e,r,i;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)ti.push({k:e+i,v:r})}for(ti.sort(function(a,o){return o.v-a.v}),i=0;i<ti.length;i++)e=ti[i].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return n!=="DGBEFHACIJK"}}),gL=hL||!vL||!pL||!u2,mL=function(n){return function(t,e){return e===void 0?-1:t===void 0?1:n!==void 0?+n(t,e)||0:Km(t)>Km(e)?1:-1}};aL({target:"Array",proto:!0,forced:gL},{sort:function(t){t!==void 0&&oL(t);var e=sL(this);if(u2)return t===void 0?Zm(e):Zm(e,t);var r=[],i=lL(e),a,o;for(o=0;o<i;o++)o in e&&dL(r,e[o]);for(uL(r,mL(t)),a=r.length,o=0;o<a;)e[o]=r[o++];for(;o<i;)delete e[o++];return e}});var yL=Rt,bL=yL("Array").sort,_L=Ht,$L=bL,Oc=Array.prototype,wL=function(n){var t=n.sort;return n===Oc||_L(Oc,n)&&t===Oc.sort?$L:t},kL=wL,EL=kL,hh=EL,SL=Rt,OL=SL("Array").values,TL=OL,IL=TL,CL=xn,PL=Zt,AL=Ht,ML=IL,Tc=Array.prototype,DL={DOMTokenList:!0,NodeList:!0},RL=function(n){var t=n.values;return n===Tc||AL(Tc,n)&&t===Tc.values||PL(DL,CL(n))?ML:t},Jm=RL,Ta=fw,NL=Rt,FL=NL("Array").entries,BL=FL,LL=BL,xL=xn,zL=Zt,jL=Ht,HL=LL,Ic=Array.prototype,WL={DOMTokenList:!0,NodeList:!0},VL=function(n){var t=n.entries;return n===Ic||jL(Ic,n)&&t===Ic.entries||zL(WL,xL(n))?HL:t},UL=VL,yl,GL=new Uint8Array(16);function qL(){if(!yl&&(yl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!yl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yl(GL)}var KL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function YL(n){return typeof n=="string"&&KL.test(n)}var Gt=[];for(var Cc=0;Cc<256;++Cc)Gt.push((Cc+256).toString(16).substr(1));function XL(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Gt[n[t+0]]+Gt[n[t+1]]+Gt[n[t+2]]+Gt[n[t+3]]+"-"+Gt[n[t+4]]+Gt[n[t+5]]+"-"+Gt[n[t+6]]+Gt[n[t+7]]+"-"+Gt[n[t+8]]+Gt[n[t+9]]+"-"+Gt[n[t+10]]+Gt[n[t+11]]+Gt[n[t+12]]+Gt[n[t+13]]+Gt[n[t+14]]+Gt[n[t+15]]).toLowerCase();if(!YL(e))throw TypeError("Stringified UUID is invalid");return e}function QL(n,t,e){n=n||{};var r=n.random||(n.rng||qL)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=r[i];return t}return XL(r)}function ey(n){return typeof n=="string"||typeof n=="number"}var ZL=function(){function n(t){Ru(this,n),wt(this,"delay",void 0),wt(this,"max",void 0),wt(this,"_queue",[]),wt(this,"_timeout",null),wt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return ju(n,[{key:"setOptions",value:function(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,r=this._extended.methods,i=0;i<r.length;i++){var a=r[i];a.original?e[a.name]=a.original:delete e[a.name]}this._extended=null}}},{key:"replace",value:function(e,r){var i=this,a=e[r];if(!a)throw new Error("Method "+r+" undefined");e[r]=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];i.queue({args:s,fn:a,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=T6(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,r;xi(e=hw(r=this._queue).call(r,0)).call(e,function(i){i.fn.apply(i.context||i.fn,i.args||[])})}}],[{key:"extend",value:function(e,r){var i=new n(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var a=[{name:"flush",original:void 0}];if(r&&r.replace)for(var o=0;o<r.replace.length;o++){var s=r.replace[o];a.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:a},i}}]),n}(),JL=function(){function n(){Ru(this,n),wt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),wt(this,"subscribe",n.prototype.on),wt(this,"unsubscribe",n.prototype.off)}return ju(n,[{key:"_trigger",value:function(e,r,i){var a,o;if(e==="*")throw new Error("Cannot trigger event *");xi(a=nf(o=[]).call(o,hr(this._subscribers[e]),hr(this._subscribers["*"]))).call(a,function(s){s(e,r,i??null)})}},{key:"on",value:function(e,r){typeof r=="function"&&this._subscribers[e].push(r)}},{key:"off",value:function(e,r){var i;this._subscribers[e]=_a(i=this._subscribers[e]).call(i,function(a){return a!==r})}}]),n}(),e9=i2,t9=o2;e9("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},t9);var r9=lt,n9=r9.Set,i9=n9,a9=i9,Pc=a9,o9=bv,s9=o9,l9=s9,u9=l9,f9=u9,c9=f9,d9=c9,h9=d9,Ac=h9,f2;function nn(n,t){var e=typeof rf<"u"&&ps(n)||n["@@iterator"];if(!e){if(wr(n)||(e=v9(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function v9(n,t){var e;if(n){if(typeof n=="string")return ty(n,t);var r=af(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return _v(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(n,t)}}function ty(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}f2=Ta;var ry=function(){function n(t){Ru(this,n),wt(this,"_pairs",void 0),this._pairs=t}return ju(n,[{key:f2,value:fr.mark(function t(){var e,r,i,a,o;return fr.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=nn(this._pairs),l.prev=1,e.s();case 3:if((r=e.n()).done){l.next=9;break}return i=ur(r.value,2),a=i[0],o=i[1],l.next=7,[a,o];case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),e.e(l.t0);case 14:return l.prev=14,e.f(),l.finish(14);case 17:case"end":return l.stop()}},t,this,[[1,11,14,17]])})},{key:"entries",value:fr.mark(function t(){var e,r,i,a,o;return fr.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=nn(this._pairs),l.prev=1,e.s();case 3:if((r=e.n()).done){l.next=9;break}return i=ur(r.value,2),a=i[0],o=i[1],l.next=7,[a,o];case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),e.e(l.t0);case 14:return l.prev=14,e.f(),l.finish(14);case 17:case"end":return l.stop()}},t,this,[[1,11,14,17]])})},{key:"keys",value:fr.mark(function t(){var e,r,i,a;return fr.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=nn(this._pairs),s.prev=1,e.s();case 3:if((r=e.n()).done){s.next=9;break}return i=ur(r.value,1),a=i[0],s.next=7,a;case 7:s.next=3;break;case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(1),e.e(s.t0);case 14:return s.prev=14,e.f(),s.finish(14);case 17:case"end":return s.stop()}},t,this,[[1,11,14,17]])})},{key:"values",value:fr.mark(function t(){var e,r,i,a;return fr.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=nn(this._pairs),s.prev=1,e.s();case 3:if((r=e.n()).done){s.next=9;break}return i=ur(r.value,2),a=i[1],s.next=7,a;case 7:s.next=3;break;case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(1),e.e(s.t0);case 14:return s.prev=14,e.f(),s.finish(14);case 17:case"end":return s.stop()}},t,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var e;return Vr(e=hr(this._pairs)).call(e,function(r){return r[0]})}},{key:"toItemArray",value:function(){var e;return Vr(e=hr(this._pairs)).call(e,function(r){return r[1]})}},{key:"toEntryArray",value:function(){return hr(this._pairs)}},{key:"toObjectMap",value:function(){var e=X8(null),r=nn(this._pairs),i;try{for(r.s();!(i=r.n()).done;){var a=ur(i.value,2),o=a[0],s=a[1];e[o]=s}}catch(l){r.e(l)}finally{r.f()}return e}},{key:"toMap",value:function(){return new s2(this._pairs)}},{key:"toIdSet",value:function(){return new Pc(this.toIdArray())}},{key:"toItemSet",value:function(){return new Pc(this.toItemArray())}},{key:"cache",value:function(){return new n(hr(this._pairs))}},{key:"distinct",value:function(e){var r=new Pc,i=nn(this._pairs),a;try{for(i.s();!(a=i.n()).done;){var o=ur(a.value,2),s=o[0],l=o[1];r.add(e(l,s))}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"filter",value:function(e){var r=this._pairs;return new n(wt({},Ta,fr.mark(function i(){var a,o,s,l,u;return fr.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=nn(r),c.prev=1,a.s();case 3:if((o=a.n()).done){c.next=10;break}if(s=ur(o.value,2),l=s[0],u=s[1],!e(u,l)){c.next=8;break}return c.next=8,[l,u];case 8:c.next=3;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),a.e(c.t0);case 15:return c.prev=15,a.f(),c.finish(15);case 18:case"end":return c.stop()}},i,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(e){var r=nn(this._pairs),i;try{for(r.s();!(i=r.n()).done;){var a=ur(i.value,2),o=a[0],s=a[1];e(s,o)}}catch(l){r.e(l)}finally{r.f()}}},{key:"map",value:function(e){var r=this._pairs;return new n(wt({},Ta,fr.mark(function i(){var a,o,s,l,u;return fr.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=nn(r),c.prev=1,a.s();case 3:if((o=a.n()).done){c.next=9;break}return s=ur(o.value,2),l=s[0],u=s[1],c.next=7,[l,e(u,l)];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),a.e(c.t0);case 14:return c.prev=14,a.f(),c.finish(14);case 17:case"end":return c.stop()}},i,null,[[1,11,14,17]])})))}},{key:"max",value:function(e){var r=Ac(this._pairs),i=r.next();if(i.done)return null;for(var a=i.value[1],o=e(i.value[1],i.value[0]);!(i=r.next()).done;){var s=ur(i.value,2),l=s[0],u=s[1],f=e(u,l);f>o&&(o=f,a=u)}return a}},{key:"min",value:function(e){var r=Ac(this._pairs),i=r.next();if(i.done)return null;for(var a=i.value[1],o=e(i.value[1],i.value[0]);!(i=r.next()).done;){var s=ur(i.value,2),l=s[0],u=s[1],f=e(u,l);f<o&&(o=f,a=u)}return a}},{key:"reduce",value:function(e,r){var i=nn(this._pairs),a;try{for(i.s();!(a=i.n()).done;){var o=ur(a.value,2),s=o[0],l=o[1];r=e(r,l,s)}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"sort",value:function(e){var r=this;return new n(wt({},Ta,function(){var i;return Ac(hh(i=hr(r._pairs)).call(i,function(a,o){var s=ur(a,2),l=s[0],u=s[1],f=ur(o,2),c=f[0],d=f[1];return e(u,d,l,c)}))}))}}]),n}();function ny(n,t){var e=Tv(n);if(Ug){var r=Ug(n);t&&(r=_a(r).call(r,function(i){return J$(n,i).enumerable})),e.push.apply(e,r)}return e}function iy(n){for(var t=1;t<arguments.length;t++){var e,r,i=arguments[t]!=null?arguments[t]:{};t%2?xi(e=ny(Object(i),!0)).call(e,function(a){wt(n,a,i[a])}):Gg?r7(n,Gg(i)):xi(r=ny(Object(i))).call(r,function(a){n7(n,a,J$(i,a))})}return n}function Mc(n,t){var e=typeof rf<"u"&&ps(n)||n["@@iterator"];if(!e){if(wr(n)||(e=p9(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function p9(n,t){var e;if(n){if(typeof n=="string")return ay(n,t);var r=af(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return _v(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ay(n,t)}}function ay(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function g9(n){var t=m9();return function(){var r=du(n),i;if(t){var a=du(this).constructor;i=Hl(r,arguments,a)}else i=r.apply(this,arguments);return aF(this,i)}}function m9(){if(typeof Reflect>"u"||!Hl||Hl.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Hl(Boolean,[],function(){})),!0}catch{return!1}}function y9(n,t){return n[t]==null&&(n[t]=QL()),n}var Ba=function(n){iF(e,n);var t=g9(e);function e(r,i){var a;return Ru(this,e),a=t.call(this),wt(wi(a),"flush",void 0),wt(wi(a),"length",void 0),wt(wi(a),"_options",void 0),wt(wi(a),"_data",void 0),wt(wi(a),"_idProp",void 0),wt(wi(a),"_queue",null),r&&!wr(r)&&(i=r,r=[]),a._options=i||{},a._data=new s2,a.length=0,a._idProp=a._options.fieldId||"id",r&&r.length&&a.add(r),a.setOptions(i),a}return ju(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(i){i&&i.queue!==void 0&&(i.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=ZL.extend(this,{replace:["add","update","remove"]})),i.queue&&pr(i.queue)==="object"&&this._queue.setOptions(i.queue)))}},{key:"add",value:function(i,a){var o=this,s=[],l;if(wr(i)){var u=Vr(i).call(i,function(d){return d[o._idProp]});if(LB(u).call(u,function(d){return o._data.has(d)}))throw new Error("A duplicate id was found in the parameter array.");for(var f=0,c=i.length;f<c;f++)l=this._addItem(i[f]),s.push(l)}else if(i&&pr(i)==="object")l=this._addItem(i),s.push(l);else throw new Error("Unknown dataType");return s.length&&this._trigger("add",{items:s},a),s}},{key:"update",value:function(i,a){var o=this,s=[],l=[],u=[],f=[],c=this._idProp,d=function(g){var m=g[c];if(m!=null&&o._data.has(m)){var _=g,E=TR({},o._data.get(m)),b=o._updateItem(_);l.push(b),f.push(_),u.push(E)}else{var S=o._addItem(g);s.push(S)}};if(wr(i))for(var h=0,v=i.length;h<v;h++)i[h]&&pr(i[h])==="object"?d(i[h]):console.warn("Ignoring input item, which is not an object at index "+h);else if(i&&pr(i)==="object")d(i);else throw new Error("Unknown dataType");if(s.length&&this._trigger("add",{items:s},a),l.length){var p={items:l,oldData:u,data:f};this._trigger("update",p,a)}return nf(s).call(s,l)}},{key:"updateOnly",value:function(i,a){var o,s=this;wr(i)||(i=[i]);var l=Vr(o=Vr(i).call(i,function(f){var c=s._data.get(f[s._idProp]);if(c==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:c,update:f}})).call(o,function(f){var c=f.oldData,d=f.update,h=c[s._idProp],v=kN(c,d);return s._data.set(h,v),{id:h,oldData:c,updatedData:v}});if(l.length){var u={items:Vr(l).call(l,function(f){return f.id}),oldData:Vr(l).call(l,function(f){return f.oldData}),data:Vr(l).call(l,function(f){return f.updatedData})};return this._trigger("update",u,a),u.items}else return[]}},{key:"get",value:function(i,a){var o=void 0,s=void 0,l=void 0;ey(i)?(o=i,l=a):wr(i)?(s=i,l=a):l=i;var u=l&&l.returnType==="Object"?"Object":"Array",f=l&&_a(l),c=[],d=void 0,h=void 0,v=void 0;if(o!=null)d=this._data.get(o),d&&f&&!f(d)&&(d=void 0);else if(s!=null)for(var p=0,y=s.length;p<y;p++)d=this._data.get(s[p]),d!=null&&(!f||f(d))&&c.push(d);else{var g;h=hr(da(g=this._data).call(g));for(var m=0,_=h.length;m<_;m++)v=h[m],d=this._data.get(v),d!=null&&(!f||f(d))&&c.push(d)}if(l&&l.order&&o==null&&this._sort(c,l.order),l&&l.fields){var E=l.fields;if(o!=null&&d!=null)d=this._filterFields(d,E);else for(var b=0,S=c.length;b<S;b++)c[b]=this._filterFields(c[b],E)}if(u=="Object"){for(var O={},I=0,w=c.length;I<w;I++){var k=c[I],R=k[this._idProp];O[R]=k}return O}else if(o!=null){var T;return(T=d)!==null&&T!==void 0?T:null}else return c}},{key:"getIds",value:function(i){var a=this._data,o=i&&_a(i),s=i&&i.order,l=hr(da(a).call(a)),u=[];if(o)if(s){for(var f=[],c=0,d=l.length;c<d;c++){var h=l[c],v=this._data.get(h);v!=null&&o(v)&&f.push(v)}this._sort(f,s);for(var p=0,y=f.length;p<y;p++)u.push(f[p][this._idProp])}else for(var g=0,m=l.length;g<m;g++){var _=l[g],E=this._data.get(_);E!=null&&o(E)&&u.push(E[this._idProp])}else if(s){for(var b=[],S=0,O=l.length;S<O;S++){var I=l[S];b.push(a.get(I))}this._sort(b,s);for(var w=0,k=b.length;w<k;w++)u.push(b[w][this._idProp])}else for(var R=0,T=l.length;R<T;R++){var P=l[R],A=a.get(P);A!=null&&u.push(A[this._idProp])}return u}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(i,a){var o=a&&_a(a),s=this._data,l=hr(da(s).call(s));if(a&&a.order)for(var u=this.get(a),f=0,c=u.length;f<c;f++){var d=u[f],h=d[this._idProp];i(d,h)}else for(var v=0,p=l.length;v<p;v++){var y=l[v],g=this._data.get(y);g!=null&&(!o||o(g))&&i(g,y)}}},{key:"map",value:function(i,a){for(var o=a&&_a(a),s=[],l=this._data,u=hr(da(l).call(l)),f=0,c=u.length;f<c;f++){var d=u[f],h=this._data.get(d);h!=null&&(!o||o(h))&&s.push(i(h,d))}return a&&a.order&&this._sort(s,a.order),s}},{key:"_filterFields",value:function(i,a){var o;return i&&sI(o=wr(a)?a:Tv(a)).call(o,function(s,l){return s[l]=i[l],s},{})}},{key:"_sort",value:function(i,a){if(typeof a=="string"){var o=a;hh(i).call(i,function(s,l){var u=s[o],f=l[o];return u>f?1:u<f?-1:0})}else if(typeof a=="function")hh(i).call(i,a);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(i,a){for(var o=[],s=[],l=wr(i)?i:[i],u=0,f=l.length;u<f;u++){var c=this._remove(l[u]);if(c){var d=c[this._idProp];d!=null&&(o.push(d),s.push(c))}}return o.length&&this._trigger("remove",{items:o,oldData:s},a),o}},{key:"_remove",value:function(i){var a;if(ey(i)?a=i:i&&pr(i)==="object"&&(a=i[this._idProp]),a!=null&&this._data.has(a)){var o=this._data.get(a)||null;return this._data.delete(a),--this.length,o}return null}},{key:"clear",value:function(i){for(var a,o=hr(da(a=this._data).call(a)),s=[],l=0,u=o.length;l<u;l++)s.push(this._data.get(o[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:o,oldData:s},i),o}},{key:"max",value:function(i){var a,o=null,s=null,l=Mc(Jm(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,c=f[i];typeof c=="number"&&(s==null||c>s)&&(o=f,s=c)}}catch(d){l.e(d)}finally{l.f()}return o||null}},{key:"min",value:function(i){var a,o=null,s=null,l=Mc(Jm(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,c=f[i];typeof c=="number"&&(s==null||c<s)&&(o=f,s=c)}}catch(d){l.e(d)}finally{l.f()}return o||null}},{key:"distinct",value:function(i){for(var a=this._data,o=hr(da(a).call(a)),s=[],l=0,u=0,f=o.length;u<f;u++){for(var c=o[u],d=a.get(c),h=d[i],v=!1,p=0;p<l;p++)if(s[p]==h){v=!0;break}!v&&h!==void 0&&(s[l]=h,l++)}return s}},{key:"_addItem",value:function(i){var a=y9(i,this._idProp),o=a[this._idProp];if(this._data.has(o))throw new Error("Cannot add item: item with id "+o+" already exists");return this._data.set(o,a),++this.length,o}},{key:"_updateItem",value:function(i){var a=i[this._idProp];if(a==null)throw new Error("Cannot update item: item has no id (item: "+h6(i)+")");var o=this._data.get(a);if(!o)throw new Error("Cannot update item: no item with id "+a+" found");return this._data.set(a,iy(iy({},o),i)),a}},{key:"stream",value:function(i){if(i){var a=this._data;return new ry(wt({},Ta,fr.mark(function s(){var l,u,f,c;return fr.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:l=Mc(i),h.prev=1,l.s();case 3:if((u=l.n()).done){h.next=11;break}if(f=u.value,c=a.get(f),c==null){h.next=9;break}return h.next=9,[f,c];case 9:h.next=3;break;case 11:h.next=16;break;case 13:h.prev=13,h.t0=h.catch(1),l.e(h.t0);case 16:return h.prev=16,l.f(),h.finish(16);case 19:case"end":return h.stop()}},s,null,[[1,13,16,19]])})))}else{var o;return new ry(wt({},Ta,n$(o=UL(this._data)).call(o,this._data)))}}}]),e}(JL);function b9(n,t){return pr(t)==="object"&&t!==null&&n===t.idProp&&typeof t.add=="function"&&typeof t.clear=="function"&&typeof t.distinct=="function"&&typeof xi(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof Vr(t)=="function"&&typeof t.max=="function"&&typeof t.min=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.remove=="function"&&typeof t.setOptions=="function"&&typeof t.stream=="function"&&typeof t.update=="function"&&typeof t.updateOnly=="function"}function c2(n,t){return pr(t)==="object"&&t!==null&&n===t.idProp&&typeof xi(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof Vr(t)=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.stream=="function"&&b9(n,t.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.2
 * @date    2022-03-28T20:13:51.046Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bl=function(n){return n&&n.Math==Math&&n},we=bl(typeof globalThis=="object"&&globalThis)||bl(typeof window=="object"&&window)||bl(typeof self=="object"&&self)||bl(typeof vh=="object"&&vh)||function(){return this}()||Function("return this")(),Ke=function(n){try{return!!n()}catch{return!0}},_9=Ke,Os=!_9(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")}),$9=Os,d2=Function.prototype,oy=d2.apply,sy=d2.call,Ja=typeof Reflect=="object"&&Reflect.apply||($9?sy.bind(oy):function(){return sy.apply(oy,arguments)}),h2=Os,v2=Function.prototype,w9=v2.bind,ph=v2.call,k9=h2&&w9.bind(ph,ph),We=h2?function(n){return n&&k9(n)}:function(n){return n&&function(){return ph.apply(n,arguments)}},Yt=function(n){return typeof n=="function"},eo={},E9=Ke,Wt=!E9(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),S9=Os,_l=Function.prototype.call,en=S9?_l.bind(_l):function(){return _l.apply(_l,arguments)},Ts={},p2={}.propertyIsEnumerable,g2=Object.getOwnPropertyDescriptor,O9=g2&&!p2.call({1:2},1);Ts.f=O9?function(t){var e=g2(this,t);return!!e&&e.enumerable}:p2;var Is=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}},m2=We,T9=m2({}.toString),I9=m2("".slice),ea=function(n){return I9(T9(n),8,-1)},C9=we,P9=We,A9=Ke,M9=ea,Dc=C9.Object,D9=P9("".split),lf=A9(function(){return!Dc("z").propertyIsEnumerable(0)})?function(n){return M9(n)=="String"?D9(n,""):Dc(n)}:Dc,R9=we,N9=R9.TypeError,Cs=function(n){if(n==null)throw N9("Can't call method on "+n);return n},F9=lf,B9=Cs,tn=function(n){return F9(B9(n))},L9=Yt,Vt=function(n){return typeof n=="object"?n!==null:L9(n)},je={},Rc=je,Nc=we,x9=Yt,ly=function(n){return x9(n)?n:void 0},zn=function(n,t){return arguments.length<2?ly(Rc[n])||ly(Nc[n]):Rc[n]&&Rc[n][t]||Nc[n]&&Nc[n][t]},z9=We,Nt=z9({}.isPrototypeOf),j9=zn,Ps=j9("navigator","userAgent")||"",y2=we,Fc=Ps,uy=y2.process,fy=y2.Deno,cy=uy&&uy.versions||fy&&fy.version,dy=cy&&cy.v8,Ur,hu;dy&&(Ur=dy.split("."),hu=Ur[0]>0&&Ur[0]<4?1:+(Ur[0]+Ur[1]));!hu&&Fc&&(Ur=Fc.match(/Edge\/(\d+)/),(!Ur||Ur[1]>=74)&&(Ur=Fc.match(/Chrome\/(\d+)/),Ur&&(hu=+Ur[1])));var As=hu,hy=As,H9=Ke,Hv=!!Object.getOwnPropertySymbols&&!H9(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&hy&&hy<41}),W9=Hv,b2=W9&&!Symbol.sham&&typeof Symbol.iterator=="symbol",V9=we,U9=zn,G9=Yt,q9=Nt,K9=b2,Y9=V9.Object,Wv=K9?function(n){return typeof n=="symbol"}:function(n){var t=U9("Symbol");return G9(t)&&q9(t.prototype,Y9(n))},X9=we,Q9=X9.String,uf=function(n){try{return Q9(n)}catch{return"Object"}},Z9=we,J9=Yt,ex=uf,tx=Z9.TypeError,to=function(n){if(J9(n))return n;throw tx(ex(n)+" is not a function")},rx=to,Vv=function(n,t){var e=n[t];return e==null?void 0:rx(e)},nx=we,Bc=en,Lc=Yt,xc=Vt,ix=nx.TypeError,ax=function(n,t){var e,r;if(t==="string"&&Lc(e=n.toString)&&!xc(r=Bc(e,n))||Lc(e=n.valueOf)&&!xc(r=Bc(e,n))||t!=="string"&&Lc(e=n.toString)&&!xc(r=Bc(e,n)))return r;throw ix("Can't convert object to primitive value")},ff={exports:{}},vy=we,ox=Object.defineProperty,sx=function(n,t){try{ox(vy,n,{value:t,configurable:!0,writable:!0})}catch{vy[n]=t}return t},lx=we,ux=sx,py="__core-js_shared__",fx=lx[py]||ux(py,{}),Uv=fx,gy=Uv;(ff.exports=function(n,t){return gy[n]||(gy[n]=t!==void 0?t:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var cx=we,dx=Cs,hx=cx.Object,Or=function(n){return hx(dx(n))},vx=We,px=Or,gx=vx({}.hasOwnProperty),Jt=Object.hasOwn||function(t,e){return gx(px(t),e)},mx=We,yx=0,bx=Math.random(),_x=mx(1 .toString),cf=function(n){return"Symbol("+(n===void 0?"":n)+")_"+_x(++yx+bx,36)},$x=we,wx=ff.exports,my=Jt,kx=cf,yy=Hv,_2=b2,ha=wx("wks"),Mi=$x.Symbol,by=Mi&&Mi.for,Ex=_2?Mi:Mi&&Mi.withoutSetter||kx,Lt=function(n){if(!my(ha,n)||!(yy||typeof ha[n]=="string")){var t="Symbol."+n;yy&&my(Mi,n)?ha[n]=Mi[n]:_2&&by?ha[n]=by(t):ha[n]=Ex(t)}return ha[n]},Sx=we,Ox=en,_y=Vt,$y=Wv,Tx=Vv,Ix=ax,Cx=Lt,Px=Sx.TypeError,Ax=Cx("toPrimitive"),Mx=function(n,t){if(!_y(n)||$y(n))return n;var e=Tx(n,Ax),r;if(e){if(t===void 0&&(t="default"),r=Ox(e,n,t),!_y(r)||$y(r))return r;throw Px("Can't convert object to primitive value")}return t===void 0&&(t="number"),Ix(n,t)},Dx=Mx,Rx=Wv,df=function(n){var t=Dx(n,"string");return Rx(t)?t:t+""},Nx=we,wy=Vt,gh=Nx.document,Fx=wy(gh)&&wy(gh.createElement),$2=function(n){return Fx?gh.createElement(n):{}},Bx=Wt,Lx=Ke,xx=$2,w2=!Bx&&!Lx(function(){return Object.defineProperty(xx("div"),"a",{get:function(){return 7}}).a!=7}),zx=Wt,jx=en,Hx=Ts,Wx=Is,Vx=tn,Ux=df,Gx=Jt,qx=w2,ky=Object.getOwnPropertyDescriptor;eo.f=zx?ky:function(t,e){if(t=Vx(t),e=Ux(e),qx)try{return ky(t,e)}catch{}if(Gx(t,e))return Wx(!jx(Hx.f,t,e),t[e])};var Kx=Ke,Yx=Yt,Xx=/#|\.prototype\./,Ms=function(n,t){var e=Zx[Qx(n)];return e==ez?!0:e==Jx?!1:Yx(t)?Kx(t):!!t},Qx=Ms.normalize=function(n){return String(n).replace(Xx,".").toLowerCase()},Zx=Ms.data={},Jx=Ms.NATIVE="N",ez=Ms.POLYFILL="P",tz=Ms,Ey=We,rz=to,nz=Os,iz=Ey(Ey.bind),Ds=function(n,t){return rz(n),t===void 0?n:nz?iz(n,t):function(){return n.apply(t,arguments)}},Tr={},az=Wt,oz=Ke,k2=az&&oz(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),E2=we,sz=Vt,lz=E2.String,uz=E2.TypeError,Ir=function(n){if(sz(n))return n;throw uz(lz(n)+" is not an object")},fz=we,cz=Wt,dz=w2,hz=k2,$l=Ir,Sy=df,vz=fz.TypeError,zc=Object.defineProperty,pz=Object.getOwnPropertyDescriptor,jc="enumerable",Hc="configurable",Wc="writable";Tr.f=cz?hz?function(t,e,r){if($l(t),e=Sy(e),$l(r),typeof t=="function"&&e==="prototype"&&"value"in r&&Wc in r&&!r[Wc]){var i=pz(t,e);i&&i[Wc]&&(t[e]=r.value,r={configurable:Hc in r?r[Hc]:i[Hc],enumerable:jc in r?r[jc]:i[jc],writable:!1})}return zc(t,e,r)}:zc:function(t,e,r){if($l(t),e=Sy(e),$l(r),dz)try{return zc(t,e,r)}catch{}if("get"in r||"set"in r)throw vz("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var gz=Wt,mz=Tr,yz=Is,ro=gz?function(n,t,e){return mz.f(n,t,yz(1,e))}:function(n,t,e){return n[t]=e,n},wl=we,bz=Ja,_z=We,$z=Yt,wz=eo.f,kz=tz,va=je,Ez=Ds,pa=ro,Oy=Jt,Sz=function(n){var t=function(e,r,i){if(this instanceof t){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,r)}return new n(e,r,i)}return bz(n,this,arguments)};return t.prototype=n.prototype,t},Te=function(n,t){var e=n.target,r=n.global,i=n.stat,a=n.proto,o=r?wl:i?wl[e]:(wl[e]||{}).prototype,s=r?va:va[e]||pa(va,e,{})[e],l=s.prototype,u,f,c,d,h,v,p,y,g;for(d in t)u=kz(r?d:e+(i?".":"#")+d,n.forced),f=!u&&o&&Oy(o,d),v=s[d],f&&(n.noTargetGet?(g=wz(o,d),p=g&&g.value):p=o[d]),h=f&&p?p:t[d],!(f&&typeof v==typeof h)&&(n.bind&&f?y=Ez(h,wl):n.wrap&&f?y=Sz(h):a&&$z(h)?y=_z(h):y=h,(n.sham||h&&h.sham||v&&v.sham)&&pa(y,"sham",!0),pa(s,d,y),a&&(c=e+"Prototype",Oy(va,c)||pa(va,c,{}),pa(va[c],d,h),n.real&&l&&!l[d]&&pa(l,d,h)))},Oz=Math.ceil,Tz=Math.floor,hf=function(n){var t=+n;return t!==t||t===0?0:(t>0?Tz:Oz)(t)},Iz=hf,Cz=Math.max,Pz=Math.min,Rs=function(n,t){var e=Iz(n);return e<0?Cz(e+t,0):Pz(e,t)},Az=hf,Mz=Math.min,Dz=function(n){return n>0?Mz(Az(n),9007199254740991):0},Rz=Dz,rn=function(n){return Rz(n.length)},Nz=tn,Fz=Rs,Bz=rn,Ty=function(n){return function(t,e,r){var i=Nz(t),a=Bz(i),o=Fz(r,a),s;if(n&&e!=e){for(;a>o;)if(s=i[o++],s!=s)return!0}else for(;a>o;o++)if((n||o in i)&&i[o]===e)return n||o||0;return!n&&-1}},Gv={includes:Ty(!0),indexOf:Ty(!1)},Ns={},Lz=We,Vc=Jt,xz=tn,zz=Gv.indexOf,jz=Ns,Iy=Lz([].push),S2=function(n,t){var e=xz(n),r=0,i=[],a;for(a in e)!Vc(jz,a)&&Vc(e,a)&&Iy(i,a);for(;t.length>r;)Vc(e,a=t[r++])&&(~zz(i,a)||Iy(i,a));return i},qv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Hz=S2,Wz=qv,Fs=Object.keys||function(t){return Hz(t,Wz)},vf={};vf.f=Object.getOwnPropertySymbols;var Cy=Wt,Vz=We,Uz=en,Gz=Ke,Uc=Fs,qz=vf,Kz=Ts,Yz=Or,Xz=lf,ga=Object.assign,Py=Object.defineProperty,Qz=Vz([].concat),Zz=!ga||Gz(function(){if(Cy&&ga({b:1},ga(Py({},"a",{enumerable:!0,get:function(){Py(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var n={},t={},e=Symbol(),r="abcdefghijklmnopqrst";return n[e]=7,r.split("").forEach(function(i){t[i]=i}),ga({},n)[e]!=7||Uc(ga({},t)).join("")!=r})?function(t,e){for(var r=Yz(t),i=arguments.length,a=1,o=qz.f,s=Kz.f;i>a;)for(var l=Xz(arguments[a++]),u=o?Qz(Uc(l),o(l)):Uc(l),f=u.length,c=0,d;f>c;)d=u[c++],(!Cy||Uz(s,l,d))&&(r[d]=l[d]);return r}:ga,Jz=Te,Ay=Zz;Jz({target:"Object",stat:!0,forced:Object.assign!==Ay},{assign:Ay});var ej=je,tj=ej.Object.assign,rj=tj,nj=rj,At=nj,ij=We,pf=ij([].slice),aj=we,O2=We,oj=to,sj=Vt,lj=Jt,My=pf,uj=Os,T2=aj.Function,fj=O2([].concat),cj=O2([].join),Gc={},dj=function(n,t,e){if(!lj(Gc,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";Gc[t]=T2("C,a","return new C("+cj(r,",")+")")}return Gc[t](n,e)},I2=uj?T2.bind:function(t){var e=oj(this),r=e.prototype,i=My(arguments,1),a=function(){var s=fj(i,My(arguments));return this instanceof a?dj(e,s.length,s):e.apply(t,s)};return sj(r)&&(a.prototype=r),a},hj=Te,Dy=I2;hj({target:"Function",proto:!0,forced:Function.bind!==Dy},{bind:Dy});var vj=je,Ut=function(n){return vj[n+"Prototype"]},pj=Ut,gj=pj("Function").bind,mj=Nt,yj=gj,qc=Function.prototype,bj=function(n){var t=n.bind;return n===qc||mj(qc,n)&&t===qc.bind?yj:t},_j=bj,$j=_j,Z=$j;function Kv(n,t,e,r){n.beginPath(),n.arc(t,e,r,0,2*Math.PI,!1),n.closePath()}function wj(n,t,e,r){n.beginPath(),n.rect(t-r,e-r,r*2,r*2),n.closePath()}function kj(n,t,e,r){n.beginPath(),r*=1.15,e+=.275*r;var i=r*2,a=i/2,o=Math.sqrt(3)/6*i,s=Math.sqrt(i*i-a*a);n.moveTo(t,e-(s-o)),n.lineTo(t+a,e+o),n.lineTo(t-a,e+o),n.lineTo(t,e-(s-o)),n.closePath()}function Ej(n,t,e,r){n.beginPath(),r*=1.15,e-=.275*r;var i=r*2,a=i/2,o=Math.sqrt(3)/6*i,s=Math.sqrt(i*i-a*a);n.moveTo(t,e+(s-o)),n.lineTo(t+a,e-o),n.lineTo(t-a,e-o),n.lineTo(t,e+(s-o)),n.closePath()}function Sj(n,t,e,r){n.beginPath(),r*=.82,e+=.1*r;for(var i=0;i<10;i++){var a=i%2===0?r*1.3:r*.5;n.lineTo(t+a*Math.sin(i*2*Math.PI/10),e-a*Math.cos(i*2*Math.PI/10))}n.closePath()}function Oj(n,t,e,r){n.beginPath(),n.lineTo(t,e+r),n.lineTo(t+r,e),n.lineTo(t,e-r),n.lineTo(t-r,e),n.closePath()}function C2(n,t,e,r,i,a){var o=Math.PI/180;r-2*a<0&&(a=r/2),i-2*a<0&&(a=i/2),n.beginPath(),n.moveTo(t+a,e),n.lineTo(t+r-a,e),n.arc(t+r-a,e+a,a,o*270,o*360,!1),n.lineTo(t+r,e+i-a),n.arc(t+r-a,e+i-a,a,0,o*90,!1),n.lineTo(t+a,e+i),n.arc(t+a,e+i-a,a,o*90,o*180,!1),n.lineTo(t,e+a),n.arc(t+a,e+a,a,o*180,o*270,!1),n.closePath()}function mh(n,t,e,r,i){var a=.5522848,o=r/2*a,s=i/2*a,l=t+r,u=e+i,f=t+r/2,c=e+i/2;n.beginPath(),n.moveTo(t,c),n.bezierCurveTo(t,c-s,f-o,e,f,e),n.bezierCurveTo(f+o,e,l,c-s,l,c),n.bezierCurveTo(l,c+s,f+o,u,f,u),n.bezierCurveTo(f-o,u,t,c+s,t,c),n.closePath()}function P2(n,t,e,r,i){var a=.3333333333333333,o=r,s=i*a,l=.5522848,u=o/2*l,f=s/2*l,c=t+o,d=e+s,h=t+o/2,v=e+s/2,p=e+(i-s/2),y=e+i;n.beginPath(),n.moveTo(c,v),n.bezierCurveTo(c,v+f,h+u,d,h,d),n.bezierCurveTo(h-u,d,t,v+f,t,v),n.bezierCurveTo(t,v-f,h-u,e,h,e),n.bezierCurveTo(h+u,e,c,v-f,c,v),n.lineTo(c,p),n.bezierCurveTo(c,p+f,h+u,y,h,y),n.bezierCurveTo(h-u,y,t,p+f,t,p),n.lineTo(t,v)}function A2(n,t,e,r,i,a){n.beginPath(),n.moveTo(t,e);for(var o=a.length,s=r-t,l=i-e,u=l/s,f=Math.sqrt(s*s+l*l),c=0,d=!0,h=0,v=+a[0];f>=.1;)v=+a[c++%o],v>f&&(v=f),h=Math.sqrt(v*v/(1+u*u)),h=s<0?-h:h,t+=h,e+=u*h,d===!0?n.lineTo(t,e):n.moveTo(t,e),f-=v,d=!d}function Tj(n,t,e,r){n.beginPath();var i=6,a=Math.PI*2/i;n.moveTo(t+r,e);for(var o=1;o<i;o++)n.lineTo(t+r*Math.cos(a*o),e+r*Math.sin(a*o));n.closePath()}var Ry={circle:Kv,dashedLine:A2,database:P2,diamond:Oj,ellipse:mh,ellipse_vis:mh,hexagon:Tj,roundRect:C2,square:wj,star:Sj,triangle:kj,triangleDown:Ej};function Ij(n){return Object.prototype.hasOwnProperty.call(Ry,n)?Ry[n]:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];CanvasRenderingContext2D.prototype[n].call(t,r)}}var M2={exports:{}};(function(n){n.exports=t;function t(r){if(r)return e(r)}function e(r){for(var i in t.prototype)r[i]=t.prototype[i];return r}t.prototype.on=t.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},t.prototype.once=function(r,i){function a(){this.off(r,a),i.apply(this,arguments)}return a.fn=i,this.on(r,a),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+r];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,s=0;s<a.length;s++)if(o=a[s],o===i||o.fn===i){a.splice(s,1);break}return a.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),a=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(a){a=a.slice(0);for(var o=0,s=a.length;o<s;++o)a[o].apply(this,i)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(M2);var D2=M2.exports,Cj=Lt,Pj=Cj("toStringTag"),R2={};R2[Pj]="z";var Yv=String(R2)==="[object z]",Aj=we,Mj=Yv,Dj=Yt,Ul=ea,Rj=Lt,Nj=Rj("toStringTag"),Fj=Aj.Object,Bj=Ul(function(){return arguments}())=="Arguments",Lj=function(n,t){try{return n[t]}catch{}},ta=Mj?Ul:function(n){var t,e,r;return n===void 0?"Undefined":n===null?"Null":typeof(e=Lj(t=Fj(n),Nj))=="string"?e:Bj?Ul(t):(r=Ul(t))=="Object"&&Dj(t.callee)?"Arguments":r},xj=we,zj=ta,jj=xj.String,ci=function(n){if(zj(n)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return jj(n)},Xv=We,Hj=hf,Wj=ci,Vj=Cs,Uj=Xv("".charAt),Ny=Xv("".charCodeAt),Gj=Xv("".slice),Fy=function(n){return function(t,e){var r=Wj(Vj(t)),i=Hj(e),a=r.length,o,s;return i<0||i>=a?n?"":void 0:(o=Ny(r,i),o<55296||o>56319||i+1===a||(s=Ny(r,i+1))<56320||s>57343?n?Uj(r,i):o:n?Gj(r,i,i+2):(o-55296<<10)+(s-56320)+65536)}},qj={codeAt:Fy(!1),charAt:Fy(!0)},Kj=We,Yj=Yt,yh=Uv,Xj=Kj(Function.toString);Yj(yh.inspectSource)||(yh.inspectSource=function(n){return Xj(n)});var N2=yh.inspectSource,Qj=we,Zj=Yt,Jj=N2,By=Qj.WeakMap,F2=Zj(By)&&/native code/.test(Jj(By)),eH=ff.exports,tH=cf,Ly=eH("keys"),gf=function(n){return Ly[n]||(Ly[n]=tH(n))},rH=F2,B2=we,Kc=We,nH=Vt,iH=ro,Yc=Jt,Xc=Uv,aH=gf,oH=Ns,xy="Object already initialized",bh=B2.TypeError,sH=B2.WeakMap,vu,Vo,pu,lH=function(n){return pu(n)?Vo(n):vu(n,{})},uH=function(n){return function(t){var e;if(!nH(t)||(e=Vo(t)).type!==n)throw bh("Incompatible receiver, "+n+" required");return e}};if(rH||Xc.state){var _i=Xc.state||(Xc.state=new sH),fH=Kc(_i.get),zy=Kc(_i.has),cH=Kc(_i.set);vu=function(n,t){if(zy(_i,n))throw new bh(xy);return t.facade=n,cH(_i,n,t),t},Vo=function(n){return fH(_i,n)||{}},pu=function(n){return zy(_i,n)}}else{var ma=aH("state");oH[ma]=!0,vu=function(n,t){if(Yc(n,ma))throw new bh(xy);return t.facade=n,iH(n,ma,t),t},Vo=function(n){return Yc(n,ma)?n[ma]:{}},pu=function(n){return Yc(n,ma)}}var ra={set:vu,get:Vo,has:pu,enforce:lH,getterFor:uH},_h=Wt,dH=Jt,L2=Function.prototype,hH=_h&&Object.getOwnPropertyDescriptor,Qv=dH(L2,"name"),vH=Qv&&function(){}.name==="something",pH=Qv&&(!_h||_h&&hH(L2,"name").configurable),x2={EXISTS:Qv,PROPER:vH,CONFIGURABLE:pH},mf={},gH=Wt,mH=k2,yH=Tr,bH=Ir,_H=tn,$H=Fs;mf.f=gH&&!mH?Object.defineProperties:function(t,e){bH(t);for(var r=_H(e),i=$H(e),a=i.length,o=0,s;a>o;)yH.f(t,s=i[o++],r[s]);return t};var wH=zn,kH=wH("document","documentElement"),EH=Ir,SH=mf,jy=qv,OH=Ns,TH=kH,IH=$2,CH=gf,Hy=">",Wy="<",$h="prototype",wh="script",z2=CH("IE_PROTO"),Qc=function(){},j2=function(n){return Wy+wh+Hy+n+Wy+"/"+wh+Hy},Vy=function(n){n.write(j2("")),n.close();var t=n.parentWindow.Object;return n=null,t},PH=function(){var n=IH("iframe"),t="java"+wh+":",e;return n.style.display="none",TH.appendChild(n),n.src=String(t),e=n.contentWindow.document,e.open(),e.write(j2("document.F=Object")),e.close(),e.F},kl,Gl=function(){try{kl=new ActiveXObject("htmlfile")}catch{}Gl=typeof document<"u"?document.domain&&kl?Vy(kl):PH():Vy(kl);for(var n=jy.length;n--;)delete Gl[$h][jy[n]];return Gl()};OH[z2]=!0;var no=Object.create||function(t,e){var r;return t!==null?(Qc[$h]=EH(t),r=new Qc,Qc[$h]=null,r[z2]=t):r=Gl(),e===void 0?r:SH.f(r,e)},AH=Ke,H2=!AH(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),MH=we,DH=Jt,RH=Yt,NH=Or,FH=gf,BH=H2,Uy=FH("IE_PROTO"),kh=MH.Object,LH=kh.prototype,yf=BH?kh.getPrototypeOf:function(n){var t=NH(n);if(DH(t,Uy))return t[Uy];var e=t.constructor;return RH(e)&&t instanceof e?e.prototype:t instanceof kh?LH:null},xH=ro,bf=function(n,t,e,r){r&&r.enumerable?n[t]=e:xH(n,t,e)},zH=Ke,jH=Yt,HH=no,Gy=yf,WH=bf,VH=Lt,Eh=VH("iterator"),W2=!1,Tn,Zc,Jc;[].keys&&(Jc=[].keys(),"next"in Jc?(Zc=Gy(Gy(Jc)),Zc!==Object.prototype&&(Tn=Zc)):W2=!0);var UH=Tn==null||zH(function(){var n={};return Tn[Eh].call(n)!==n});UH?Tn={}:Tn=HH(Tn);jH(Tn[Eh])||WH(Tn,Eh,function(){return this});var V2={IteratorPrototype:Tn,BUGGY_SAFARI_ITERATORS:W2},GH=Yv,qH=ta,KH=GH?{}.toString:function(){return"[object "+qH(this)+"]"},YH=Yv,XH=Tr.f,QH=ro,ZH=Jt,JH=KH,eW=Lt,qy=eW("toStringTag"),Bs=function(n,t,e,r){if(n){var i=e?n:n.prototype;ZH(i,qy)||XH(i,qy,{configurable:!0,value:t}),r&&!YH&&QH(i,"toString",JH)}},io={},tW=V2.IteratorPrototype,rW=no,nW=Is,iW=Bs,aW=io,oW=function(){return this},sW=function(n,t,e,r){var i=t+" Iterator";return n.prototype=rW(tW,{next:nW(+!r,e)}),iW(n,i,!1,!0),aW[i]=oW,n},U2=we,lW=Yt,uW=U2.String,fW=U2.TypeError,cW=function(n){if(typeof n=="object"||lW(n))return n;throw fW("Can't set "+uW(n)+" as a prototype")},dW=We,hW=Ir,vW=cW,pW=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,t={},e;try{e=dW(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(t,[]),n=t instanceof Array}catch{}return function(i,a){return hW(i),vW(a),n?e(i,a):i.__proto__=a,i}}():void 0),gW=Te,mW=en,yW=x2,bW=sW,_W=yf,$W=Bs,Ky=bf,wW=Lt,Yy=io,kW=V2,EW=yW.PROPER,El=kW.BUGGY_SAFARI_ITERATORS,ed=wW("iterator"),Xy="keys",Sl="values",Qy="entries",SW=function(){return this},Zv=function(n,t,e,r,i,a,o){bW(e,t,r);var s=function(g){if(g===i&&d)return d;if(!El&&g in f)return f[g];switch(g){case Xy:return function(){return new e(this,g)};case Sl:return function(){return new e(this,g)};case Qy:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=n.prototype,c=f[ed]||f["@@iterator"]||i&&f[i],d=!El&&c||s(i),h=t=="Array"&&f.entries||c,v,p,y;if(h&&(v=_W(h.call(new n)),v!==Object.prototype&&v.next&&($W(v,l,!0,!0),Yy[l]=SW)),EW&&i==Sl&&c&&c.name!==Sl&&(u=!0,d=function(){return mW(c,this)}),i)if(p={values:s(Sl),keys:a?d:s(Xy),entries:s(Qy)},o)for(y in p)(El||u||!(y in f))&&Ky(f,y,p[y]);else gW({target:t,proto:!0,forced:El||u},p);return o&&f[ed]!==d&&Ky(f,ed,d,{name:i}),Yy[t]=d,p},OW=qj.charAt,TW=ci,G2=ra,IW=Zv,q2="String Iterator",CW=G2.set,PW=G2.getterFor(q2);IW(String,"String",function(n){CW(this,{type:q2,string:TW(n),index:0})},function(){var t=PW(this),e=t.string,r=t.index,i;return r>=e.length?{value:void 0,done:!0}:(i=OW(e,r),t.index+=i.length,{value:i,done:!1})});var AW=en,Zy=Ir,MW=Vv,K2=function(n,t,e){var r,i;Zy(n);try{if(r=MW(n,"return"),!r){if(t==="throw")throw e;return e}r=AW(r,n)}catch(a){i=!0,r=a}if(t==="throw")throw e;if(i)throw r;return Zy(r),e},DW=Ir,RW=K2,NW=function(n,t,e,r){try{return r?t(DW(e)[0],e[1]):t(e)}catch(i){RW(n,"throw",i)}},FW=Lt,BW=io,LW=FW("iterator"),xW=Array.prototype,Y2=function(n){return n!==void 0&&(BW.Array===n||xW[LW]===n)},zW=We,jW=Ke,X2=Yt,HW=ta,WW=zn,VW=N2,Q2=function(){},UW=[],Z2=WW("Reflect","construct"),Jv=/^\s*(?:class|function)\b/,GW=zW(Jv.exec),qW=!Jv.exec(Q2),mo=function(t){if(!X2(t))return!1;try{return Z2(Q2,UW,t),!0}catch{return!1}},J2=function(t){if(!X2(t))return!1;switch(HW(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return qW||!!GW(Jv,VW(t))}catch{return!0}};J2.sham=!0;var _f=!Z2||jW(function(){var n;return mo(mo.call)||!mo(Object)||!mo(function(){n=!0})||n})?J2:mo,KW=df,YW=Tr,XW=Is,ao=function(n,t,e){var r=KW(t);r in n?YW.f(n,r,XW(0,e)):n[r]=e},QW=ta,Jy=Vv,ZW=io,JW=Lt,eV=JW("iterator"),$f=function(n){if(n!=null)return Jy(n,eV)||Jy(n,"@@iterator")||ZW[QW(n)]},tV=we,rV=en,nV=to,iV=Ir,aV=uf,oV=$f,sV=tV.TypeError,e5=function(n,t){var e=arguments.length<2?oV(n):t;if(nV(e))return iV(rV(e,n));throw sV(aV(n)+" is not iterable")},lV=we,uV=Ds,fV=en,cV=Or,dV=NW,hV=Y2,vV=_f,pV=rn,e1=ao,gV=e5,mV=$f,t1=lV.Array,yV=function(t){var e=cV(t),r=vV(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=uV(a,i>2?arguments[2]:void 0));var s=mV(e),l=0,u,f,c,d,h,v;if(s&&!(this==t1&&hV(s)))for(d=gV(e,s),h=d.next,f=r?new this:[];!(c=fV(h,d)).done;l++)v=o?dV(d,a,[c.value,l],!0):c.value,e1(f,l,v);else for(u=pV(e),f=r?new this(u):t1(u);u>l;l++)v=o?a(e[l],l):e[l],e1(f,l,v);return f.length=l,f},bV=Lt,t5=bV("iterator"),r5=!1;try{var _V=0,r1={next:function(){return{done:!!_V++}},return:function(){r5=!0}};r1[t5]=function(){return this},Array.from(r1,function(){throw 2})}catch{}var $V=function(n,t){if(!t&&!r5)return!1;var e=!1;try{var r={};r[t5]=function(){return{next:function(){return{done:e=!0}}}},n(r)}catch{}return e},wV=Te,kV=yV,EV=$V,SV=!EV(function(n){Array.from(n)});wV({target:"Array",stat:!0,forced:SV},{from:kV});var OV=je,TV=OV.Array.from,IV=TV,n5=IV,di=n5,CV=tn,n1=io,i5=ra;Tr.f;var PV=Zv,a5="Array Iterator",AV=i5.set,MV=i5.getterFor(a5);PV(Array,"Array",function(n,t){AV(this,{type:a5,target:CV(n),index:0,kind:t})},function(){var n=MV(this),t=n.target,e=n.kind,r=n.index++;return!t||r>=t.length?(n.target=void 0,{value:void 0,done:!0}):e=="keys"?{value:r,done:!1}:e=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");n1.Arguments=n1.Array;var DV=$f,RV=DV,NV={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},FV=NV,BV=we,LV=ta,xV=ro,i1=io,zV=Lt,a1=zV("toStringTag");for(var td in FV){var o1=BV[td],rd=o1&&o1.prototype;rd&&LV(rd)!==a1&&xV(rd,a1,td),i1[td]=i1.Array}var jV=RV,HV=jV,WV=HV,VV=WV,UV=VV,GV=UV,gn=GV,qV=ea,oo=Array.isArray||function(t){return qV(t)=="Array"},Ls={},KV=S2,YV=qv,XV=YV.concat("length","prototype");Ls.f=Object.getOwnPropertyNames||function(t){return KV(t,XV)};var wf={},QV=we,s1=Rs,ZV=rn,JV=ao,eU=QV.Array,tU=Math.max,o5=function(n,t,e){for(var r=ZV(n),i=s1(t,r),a=s1(e===void 0?r:e,r),o=eU(tU(a-i,0)),s=0;i<a;i++,s++)JV(o,s,n[i]);return o.length=s,o},rU=ea,nU=tn,s5=Ls.f,iU=o5,l5=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],aU=function(n){try{return s5(n)}catch{return iU(l5)}};wf.f=function(t){return l5&&rU(t)=="Window"?aU(t):s5(nU(t))};var kf={},oU=Lt;kf.f=oU;var l1=je,sU=Jt,lU=kf,uU=Tr.f,St=function(n){var t=l1.Symbol||(l1.Symbol={});sU(t,n)||uU(t,n,{value:lU.f(n)})},fU=we,u1=oo,cU=_f,dU=Vt,hU=Lt,vU=hU("species"),f1=fU.Array,pU=function(n){var t;return u1(n)&&(t=n.constructor,cU(t)&&(t===f1||u1(t.prototype))?t=void 0:dU(t)&&(t=t[vU],t===null&&(t=void 0))),t===void 0?f1:t},gU=pU,ep=function(n,t){return new(gU(n))(t===0?0:t)},mU=Ds,yU=We,bU=lf,_U=Or,$U=rn,wU=ep,c1=yU([].push),Un=function(n){var t=n==1,e=n==2,r=n==3,i=n==4,a=n==6,o=n==7,s=n==5||a;return function(l,u,f,c){for(var d=_U(l),h=bU(d),v=mU(u,f),p=$U(h),y=0,g=c||wU,m=t?g(l,p):e||o?g(l,0):void 0,_,E;p>y;y++)if((s||y in h)&&(_=h[y],E=v(_,y,d),n))if(t)m[y]=E;else if(E)switch(n){case 3:return!0;case 5:return _;case 6:return y;case 2:c1(m,_)}else switch(n){case 4:return!1;case 7:c1(m,_)}return a?-1:r||i?i:m}},hi={forEach:Un(0),map:Un(1),filter:Un(2),some:Un(3),every:Un(4),find:Un(5),findIndex:Un(6),filterReject:Un(7)},so=Te,tp=we,kU=zn,EU=Ja,xs=en,SU=We,La=Wt,Wi=Hv,rp=Ke,Tt=Jt,OU=oo,TU=Yt,IU=Vt,CU=Nt,Sh=Wv,Oh=Ir,PU=Or,Ef=tn,np=df,u5=ci,Th=Is,Uo=no,f5=Fs,AU=Ls,c5=wf,Ih=vf,d5=eo,h5=Tr,MU=mf,v5=Ts,DU=pf,Ch=bf,zs=ff.exports,RU=gf,p5=Ns,d1=cf,g5=Lt,NU=kf,FU=St,BU=Bs,m5=ra,Sf=hi.forEach,vr=RU("hidden"),Of="Symbol",Go="prototype",h1=g5("toPrimitive"),LU=m5.set,v1=m5.getterFor(Of),Kr=Object[Go],In=tp.Symbol,ri=In&&In[Go],y5=tp.TypeError,nd=tp.QObject,yo=kU("JSON","stringify"),b5=d5.f,Zn=h5.f,_5=c5.f,xU=v5.f,$5=SU([].push),Nn=zs("symbols"),js=zs("op-symbols"),id=zs("string-to-symbol-registry"),ad=zs("symbol-to-string-registry"),zU=zs("wks"),Ph=!nd||!nd[Go]||!nd[Go].findChild,Ah=La&&rp(function(){return Uo(Zn({},"a",{get:function(){return Zn(this,"a",{value:7}).a}})).a!=7})?function(n,t,e){var r=b5(Kr,t);r&&delete Kr[t],Zn(n,t,e),r&&n!==Kr&&Zn(Kr,t,r)}:Zn,od=function(n,t){var e=Nn[n]=Uo(ri);return LU(e,{type:Of,tag:n,description:t}),La||(e.description=t),e},Tf=function(t,e,r){t===Kr&&Tf(js,e,r),Oh(t);var i=np(e);return Oh(r),Tt(Nn,i)?(r.enumerable?(Tt(t,vr)&&t[vr][i]&&(t[vr][i]=!1),r=Uo(r,{enumerable:Th(0,!1)})):(Tt(t,vr)||Zn(t,vr,Th(1,{})),t[vr][i]=!0),Ah(t,i,r)):Zn(t,i,r)},ip=function(t,e){Oh(t);var r=Ef(e),i=f5(r).concat(ap(r));return Sf(i,function(a){(!La||xs(w5,r,a))&&Tf(t,a,r[a])}),t},jU=function(t,e){return e===void 0?Uo(t):ip(Uo(t),e)},w5=function(t){var e=np(t),r=xs(xU,this,e);return this===Kr&&Tt(Nn,e)&&!Tt(js,e)?!1:r||!Tt(this,e)||!Tt(Nn,e)||Tt(this,vr)&&this[vr][e]?r:!0},k5=function(t,e){var r=Ef(t),i=np(e);if(!(r===Kr&&Tt(Nn,i)&&!Tt(js,i))){var a=b5(r,i);return a&&Tt(Nn,i)&&!(Tt(r,vr)&&r[vr][i])&&(a.enumerable=!0),a}},E5=function(t){var e=_5(Ef(t)),r=[];return Sf(e,function(i){!Tt(Nn,i)&&!Tt(p5,i)&&$5(r,i)}),r},ap=function(t){var e=t===Kr,r=_5(e?js:Ef(t)),i=[];return Sf(r,function(a){Tt(Nn,a)&&(!e||Tt(Kr,a))&&$5(i,Nn[a])}),i};Wi||(In=function(){if(CU(ri,this))throw y5("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:u5(arguments[0]),e=d1(t),r=function(i){this===Kr&&xs(r,js,i),Tt(this,vr)&&Tt(this[vr],e)&&(this[vr][e]=!1),Ah(this,e,Th(1,i))};return La&&Ph&&Ah(Kr,e,{configurable:!0,set:r}),od(e,t)},ri=In[Go],Ch(ri,"toString",function(){return v1(this).tag}),Ch(In,"withoutSetter",function(n){return od(d1(n),n)}),v5.f=w5,h5.f=Tf,MU.f=ip,d5.f=k5,AU.f=c5.f=E5,Ih.f=ap,NU.f=function(n){return od(g5(n),n)},La&&Zn(ri,"description",{configurable:!0,get:function(){return v1(this).description}}));so({global:!0,wrap:!0,forced:!Wi,sham:!Wi},{Symbol:In});Sf(f5(zU),function(n){FU(n)});so({target:Of,stat:!0,forced:!Wi},{for:function(n){var t=u5(n);if(Tt(id,t))return id[t];var e=In(t);return id[t]=e,ad[e]=t,e},keyFor:function(t){if(!Sh(t))throw y5(t+" is not a symbol");if(Tt(ad,t))return ad[t]},useSetter:function(){Ph=!0},useSimple:function(){Ph=!1}});so({target:"Object",stat:!0,forced:!Wi,sham:!La},{create:jU,defineProperty:Tf,defineProperties:ip,getOwnPropertyDescriptor:k5});so({target:"Object",stat:!0,forced:!Wi},{getOwnPropertyNames:E5,getOwnPropertySymbols:ap});so({target:"Object",stat:!0,forced:rp(function(){Ih.f(1)})},{getOwnPropertySymbols:function(t){return Ih.f(PU(t))}});if(yo){var HU=!Wi||rp(function(){var n=In();return yo([n])!="[null]"||yo({a:n})!="{}"||yo(Object(n))!="{}"});so({target:"JSON",stat:!0,forced:HU},{stringify:function(t,e,r){var i=DU(arguments),a=e;if(!(!IU(e)&&t===void 0||Sh(t)))return OU(e)||(e=function(o,s){if(TU(a)&&(s=xs(a,this,o,s)),!Sh(s))return s}),i[1]=e,EU(yo,null,i)}})}if(!ri[h1]){var WU=ri.valueOf;Ch(ri,h1,function(n){return xs(WU,this)})}BU(In,Of);p5[vr]=!0;var VU=je,UU=VU.Object.getOwnPropertySymbols,GU=UU,qU=GU,li=qU,S5={exports:{}},KU=Te,YU=Ke,XU=tn,O5=eo.f,T5=Wt,QU=YU(function(){O5(1)}),ZU=!T5||QU;KU({target:"Object",stat:!0,forced:ZU,sham:!T5},{getOwnPropertyDescriptor:function(t,e){return O5(XU(t),e)}});var JU=je,I5=JU.Object,eG=S5.exports=function(t,e){return I5.getOwnPropertyDescriptor(t,e)};I5.getOwnPropertyDescriptor.sham&&(eG.sham=!0);var tG=S5.exports,C5=tG,vi=C5,rG=zn,nG=We,iG=Ls,aG=vf,oG=Ir,sG=nG([].concat),P5=rG("Reflect","ownKeys")||function(t){var e=iG.f(oG(t)),r=aG.f;return r?sG(e,r(t)):e},lG=Te,uG=Wt,fG=P5,cG=tn,dG=eo,hG=ao;lG({target:"Object",stat:!0,sham:!uG},{getOwnPropertyDescriptors:function(t){for(var e=cG(t),r=dG.f,i=fG(e),a={},o=0,s,l;i.length>o;)l=r(e,s=i[o++]),l!==void 0&&hG(a,s,l);return a}});var vG=je,pG=vG.Object.getOwnPropertyDescriptors,gG=pG,mG=gG,ui=mG,A5={exports:{}},yG=Te,bG=Wt,p1=mf.f;yG({target:"Object",stat:!0,forced:Object.defineProperties!==p1,sham:!bG},{defineProperties:p1});var _G=je,M5=_G.Object,$G=A5.exports=function(t,e){return M5.defineProperties(t,e)};M5.defineProperties.sham&&($G.sham=!0);var wG=A5.exports,kG=wG,If=kG,D5={exports:{}},EG=Te,SG=Wt,g1=Tr.f;EG({target:"Object",stat:!0,forced:Object.defineProperty!==g1,sham:!SG},{defineProperty:g1});var OG=je,R5=OG.Object,TG=D5.exports=function(t,e,r){return R5.defineProperty(t,e,r)};R5.defineProperty.sham&&(TG.sham=!0);var IG=D5.exports,N5=IG,Cf=N5;function ne(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var CG=N5,PG=CG,AG=PG,MG=AG,Pf=MG;function m1(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Pf(n,r.key,r)}}function ie(n,t,e){return t&&m1(n.prototype,t),e&&m1(n,e),Pf(n,"prototype",{writable:!1}),n}function Af(n,t,e){return t in n?Pf(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var DG=Te,RG=oo;DG({target:"Array",stat:!0},{isArray:RG});var NG=je,FG=NG.Array.isArray,BG=FG,F5=BG,LG=F5,xG=LG,zG=xG,jG=zG,B5=jG;function HG(n){if(B5(n))return n}var WG=Ke,VG=Lt,UG=As,GG=VG("species"),Hs=function(n){return UG>=51||!WG(function(){var t=[],e=t.constructor={};return e[GG]=function(){return{foo:1}},t[n](Boolean).foo!==1})},qG=Te,KG=we,YG=Ke,XG=oo,QG=Vt,ZG=Or,JG=rn,y1=ao,eq=ep,tq=Hs,rq=Lt,nq=As,L5=rq("isConcatSpreadable"),b1=9007199254740991,_1="Maximum allowed index exceeded",$1=KG.TypeError,iq=nq>=51||!YG(function(){var n=[];return n[L5]=!1,n.concat()[0]!==n}),aq=tq("concat"),oq=function(n){if(!QG(n))return!1;var t=n[L5];return t!==void 0?!!t:XG(n)},sq=!iq||!aq;qG({target:"Array",proto:!0,forced:sq},{concat:function(t){var e=ZG(this),r=eq(e,0),i=0,a,o,s,l,u;for(a=-1,s=arguments.length;a<s;a++)if(u=a===-1?e:arguments[a],oq(u)){if(l=JG(u),i+l>b1)throw $1(_1);for(o=0;o<l;o++,i++)o in u&&y1(r,i,u[o])}else{if(i>=b1)throw $1(_1);y1(r,i++,u)}return r.length=i,r}});var lq=St;lq("asyncIterator");var uq=St;uq("hasInstance");var fq=St;fq("isConcatSpreadable");var cq=St;cq("iterator");var dq=St;dq("match");var hq=St;hq("matchAll");var vq=St;vq("replace");var pq=St;pq("search");var gq=St;gq("species");var mq=St;mq("split");var yq=St;yq("toPrimitive");var bq=St;bq("toStringTag");var _q=St;_q("unscopables");var $q=we,wq=Bs;wq($q.JSON,"JSON",!0);var kq=je,Eq=kq.Symbol,Sq=Eq,x5=Sq,Oq=x5,Tq=Oq,Iq=St;Iq("asyncDispose");var Cq=St;Cq("dispose");var Pq=St;Pq("matcher");var Aq=St;Aq("metadata");var Mq=St;Mq("observable");var Dq=St;Dq("patternMatch");var Rq=St;Rq("replaceAll");var Nq=Tq,Fq=Nq,Ea=Fq;function Bq(n,t){var e=n==null?null:typeof Ea<"u"&&gn(n)||n["@@iterator"];if(e!=null){var r=[],i=!0,a=!1,o,s;try{for(e=e.call(n);!(i=(o=e.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&e.return!=null&&e.return()}finally{if(a)throw s}}return r}}var Lq=Te,xq=we,w1=oo,zq=_f,jq=Vt,k1=Rs,Hq=rn,Wq=tn,Vq=ao,Uq=Lt,Gq=Hs,qq=pf,Kq=Gq("slice"),Yq=Uq("species"),sd=xq.Array,Xq=Math.max;Lq({target:"Array",proto:!0,forced:!Kq},{slice:function(t,e){var r=Wq(this),i=Hq(r),a=k1(t,i),o=k1(e===void 0?i:e,i),s,l,u;if(w1(r)&&(s=r.constructor,zq(s)&&(s===sd||w1(s.prototype))?s=void 0:jq(s)&&(s=s[Yq],s===null&&(s=void 0)),s===sd||s===void 0))return qq(r,a,o);for(l=new(s===void 0?sd:s)(Xq(o-a,0)),u=0;a<o;a++,u++)a in r&&Vq(l,u,r[a]);return l.length=u,l}});var Qq=Ut,Zq=Qq("Array").slice,Jq=Nt,eK=Zq,ld=Array.prototype,tK=function(n){var t=n.slice;return n===ld||Jq(ld,n)&&t===ld.slice?eK:t},rK=tK,z5=rK,nK=z5,iK=nK,aK=iK,oK=aK,sK=oK,lK=n5,uK=lK,fK=uK,cK=fK,j5=cK;function Mh(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function H5(n,t){var e;if(n){if(typeof n=="string")return Mh(n,t);var r=sK(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return j5(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mh(n,t)}}function dK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(n,t){return HG(n)||Bq(n,t)||H5(n,t)||dK()}var hK=kf,vK=hK.f("iterator"),pK=vK,gK=pK,mK=gK,yK=mK,bK=yK,_K=bK,$K=_K;function Je(n){return Je=typeof Ea=="function"&&typeof $K=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Ea=="function"&&t.constructor===Ea&&t!==Ea.prototype?"symbol":typeof t},Je(n)}function wK(n){if(B5(n))return Mh(n)}function kK(n){if(typeof Ea<"u"&&gn(n)!=null||n["@@iterator"]!=null)return j5(n)}function EK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(n){return wK(n)||kK(n)||H5(n)||EK()}var jn=x5,SK=Ut,OK=SK("Array").concat,TK=Nt,IK=OK,ud=Array.prototype,CK=function(n){var t=n.concat;return n===ud||TK(ud,n)&&t===ud.concat?IK:t},PK=CK,AK=PK,op=AK,zt=z5,MK=Te,DK=P5;MK({target:"Reflect",stat:!0},{ownKeys:DK});var RK=je;RK.Reflect.ownKeys;var Ge=F5,NK=Te,FK=hi.map,BK=Hs,LK=BK("map");NK({target:"Array",proto:!0,forced:!LK},{map:function(t){return FK(this,t,arguments.length>1?arguments[1]:void 0)}});var xK=Ut,zK=xK("Array").map,jK=Nt,HK=zK,fd=Array.prototype,WK=function(n){var t=n.map;return n===fd||jK(fd,n)&&t===fd.map?HK:t},VK=WK,UK=VK,xa=UK,GK=Te,qK=Or,W5=Fs,KK=Ke,YK=KK(function(){W5(1)});GK({target:"Object",stat:!0,forced:YK},{keys:function(t){return W5(qK(t))}});var XK=je,QK=XK.Object.keys,ZK=QK,JK=ZK,bt=JK,eY=Te,tY=we,rY=We,V5=tY.Date,nY=rY(V5.prototype.getTime);eY({target:"Date",stat:!0},{now:function(){return nY(new V5)}});var iY=je,aY=iY.Date.now,oY=aY,sY=oY,gu=sY,lY=Ke,lo=function(n,t){var e=[][n];return!!e&&lY(function(){e.call(null,t||function(){return 1},1)})},uY=hi.forEach,fY=lo,cY=fY("forEach"),dY=cY?[].forEach:function(t){return uY(this,t,arguments.length>1?arguments[1]:void 0)},hY=Te,E1=dY;hY({target:"Array",proto:!0,forced:[].forEach!=E1},{forEach:E1});var vY=Ut,pY=vY("Array").forEach,gY=pY,mY=gY,yY=ta,bY=Jt,_Y=Nt,$Y=mY,cd=Array.prototype,wY={DOMTokenList:!0,NodeList:!0},kY=function(n){var t=n.forEach;return n===cd||_Y(cd,n)&&t===cd.forEach||bY(wY,yY(n))?$Y:t},et=kY,EY=Te,SY=We,OY=oo,TY=SY([].reverse),S1=[1,2];EY({target:"Array",proto:!0,forced:String(S1)===String(S1.reverse())},{reverse:function(){return OY(this)&&(this.length=this.length),TY(this)}});var IY=Ut,CY=IY("Array").reverse,PY=Nt,AY=CY,dd=Array.prototype,MY=function(n){var t=n.reverse;return n===dd||PY(dd,n)&&t===dd.reverse?AY:t},DY=MY,RY=DY,Di=RY,NY=Te,FY=we,BY=Rs,LY=hf,xY=rn,zY=Or,jY=ep,HY=ao,WY=Hs,VY=WY("splice"),UY=FY.TypeError,GY=Math.max,qY=Math.min,KY=9007199254740991,YY="Maximum allowed length exceeded";NY({target:"Array",proto:!0,forced:!VY},{splice:function(t,e){var r=zY(this),i=xY(r),a=BY(t,i),o=arguments.length,s,l,u,f,c,d;if(o===0?s=l=0:o===1?(s=0,l=i-a):(s=o-2,l=qY(GY(LY(e),0),i-a)),i+s-l>KY)throw UY(YY);for(u=jY(r,l),f=0;f<l;f++)c=a+f,c in r&&HY(u,f,r[c]);if(u.length=l,s<l){for(f=a;f<i-l;f++)c=f+l,d=f+s,c in r?r[d]=r[c]:delete r[d];for(f=i;f>i-l+s;f--)delete r[f-1]}else if(s>l)for(f=i-l;f>a;f--)c=f+l-1,d=f+s-1,c in r?r[d]=r[c]:delete r[d];for(f=0;f<s;f++)r[f+a]=arguments[f+2];return r.length=i-l+s,u}});var XY=Ut,QY=XY("Array").splice,ZY=Nt,JY=QY,hd=Array.prototype,eX=function(n){var t=n.splice;return n===hd||ZY(hd,n)&&t===hd.splice?JY:t},tX=eX,rX=tX,Cn=rX,nX=Te,iX=Gv.includes;nX({target:"Array",proto:!0},{includes:function(t){return iX(this,t,arguments.length>1?arguments[1]:void 0)}});var aX=Ut,oX=aX("Array").includes,sX=Vt,lX=ea,uX=Lt,fX=uX("match"),cX=function(n){var t;return sX(n)&&((t=n[fX])!==void 0?!!t:lX(n)=="RegExp")},dX=we,hX=cX,vX=dX.TypeError,pX=function(n){if(hX(n))throw vX("The method doesn't accept regular expressions");return n},gX=Lt,mX=gX("match"),yX=function(n){var t=/./;try{"/./"[n](t)}catch{try{return t[mX]=!1,"/./"[n](t)}catch{}}return!1},bX=Te,_X=We,$X=pX,wX=Cs,O1=ci,kX=yX,EX=_X("".indexOf);bX({target:"String",proto:!0,forced:!kX("includes")},{includes:function(t){return!!~EX(O1(wX(this)),O1($X(t)),arguments.length>1?arguments[1]:void 0)}});var SX=Ut,OX=SX("String").includes,T1=Nt,TX=oX,IX=OX,vd=Array.prototype,pd=String.prototype,CX=function(n){var t=n.includes;return n===vd||T1(vd,n)&&t===vd.includes?TX:typeof n=="string"||n===pd||T1(pd,n)&&t===pd.includes?IX:t},PX=CX,AX=PX,cn=AX,MX=Te,DX=Ke,RX=Or,U5=yf,NX=H2,FX=DX(function(){U5(1)});MX({target:"Object",stat:!0,forced:FX,sham:!NX},{getPrototypeOf:function(t){return U5(RX(t))}});var BX=je,LX=BX.Object.getPrototypeOf,xX=LX,G5=xX,I1=G5,zX=Te,jX=hi.filter,HX=Hs,WX=HX("filter");zX({target:"Array",proto:!0,forced:!WX},{filter:function(t){return jX(this,t,arguments.length>1?arguments[1]:void 0)}});var VX=Ut,UX=VX("Array").filter,GX=Nt,qX=UX,gd=Array.prototype,KX=function(n){var t=n.filter;return n===gd||GX(gd,n)&&t===gd.filter?qX:t},YX=KX,XX=YX,gr=XX,QX=Wt,q5=We,ZX=Fs,JX=tn,eQ=Ts.f,tQ=q5(eQ),rQ=q5([].push),C1=function(n){return function(t){for(var e=JX(t),r=ZX(e),i=r.length,a=0,o=[],s;i>a;)s=r[a++],(!QX||tQ(e,s))&&rQ(o,n?[s,e[s]]:e[s]);return o}},nQ={entries:C1(!0),values:C1(!1)},iQ=Te,aQ=nQ.values;iQ({target:"Object",stat:!0},{values:function(t){return aQ(t)}});var oQ=je;oQ.Object.values;var Mf=`	
\v\f\r                　\u2028\u2029\uFEFF`,sQ=We,lQ=Cs,uQ=ci,fQ=Mf,P1=sQ("".replace),mu="["+fQ+"]",cQ=RegExp("^"+mu+mu+"*"),dQ=RegExp(mu+mu+"*$"),md=function(n){return function(t){var e=uQ(lQ(t));return n&1&&(e=P1(e,cQ,"")),n&2&&(e=P1(e,dQ,"")),e}},sp={start:md(1),end:md(2),trim:md(3)},K5=we,hQ=Ke,vQ=We,pQ=ci,gQ=sp.trim,A1=Mf,Po=K5.parseInt,M1=K5.Symbol,D1=M1&&M1.iterator,Y5=/^[+-]?0x/i,mQ=vQ(Y5.exec),yQ=Po(A1+"08")!==8||Po(A1+"0x16")!==22||D1&&!hQ(function(){Po(Object(D1))}),bQ=yQ?function(t,e){var r=gQ(pQ(t));return Po(r,e>>>0||(mQ(Y5,r)?16:10))}:Po,_Q=Te,R1=bQ;_Q({global:!0,forced:parseInt!=R1},{parseInt:R1});var $Q=je,wQ=$Q.parseInt,kQ=wQ,EQ=kQ,Gr=EQ,SQ=Te,OQ=We,TQ=Gv.indexOf,IQ=lo,Dh=OQ([].indexOf),N1=!!Dh&&1/Dh([1],1,-0)<0,CQ=IQ("indexOf");SQ({target:"Array",proto:!0,forced:N1||!CQ},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return N1?Dh(this,t,e)||0:TQ(this,t,e)}});var PQ=Ut,AQ=PQ("Array").indexOf,MQ=Nt,DQ=AQ,yd=Array.prototype,RQ=function(n){var t=n.indexOf;return n===yd||MQ(yd,n)&&t===yd.indexOf?DQ:t},NQ=RQ,FQ=NQ,He=FQ,BQ=x2.PROPER,LQ=Ke,F1=Mf,B1="​᠎",xQ=function(n){return LQ(function(){return!!F1[n]()||B1[n]()!==B1||BQ&&F1[n].name!==n})},zQ=Te,jQ=sp.trim,HQ=xQ;zQ({target:"String",proto:!0,forced:HQ("trim")},{trim:function(){return jQ(this)}});var WQ=Ut;WQ("String").trim;var VQ=Te,UQ=Wt,GQ=no;VQ({target:"Object",stat:!0,sham:!UQ},{create:GQ});var qQ=je,KQ=qQ.Object,YQ=function(t,e){return KQ.create(t,e)},XQ=YQ,X5=XQ,Ri=X5,QQ=Te,ZQ=we,JQ=zn,eZ=Ja,Ws=We,tZ=Ke,rZ=ZQ.Array,yu=JQ("JSON","stringify"),Ol=Ws(/./.exec),L1=Ws("".charAt),nZ=Ws("".charCodeAt),iZ=Ws("".replace),aZ=Ws(1 .toString),oZ=/[\uD800-\uDFFF]/g,x1=/^[\uD800-\uDBFF]$/,z1=/^[\uDC00-\uDFFF]$/,sZ=function(n,t,e){var r=L1(e,t-1),i=L1(e,t+1);return Ol(x1,n)&&!Ol(z1,i)||Ol(z1,n)&&!Ol(x1,r)?"\\u"+aZ(nZ(n,0),16):n},lZ=tZ(function(){return yu("\uDF06\uD834")!=='"\\udf06\\ud834"'||yu("\uDEAD")!=='"\\udead"'});yu&&QQ({target:"JSON",stat:!0,forced:lZ},{stringify:function(t,e,r){for(var i=0,a=arguments.length,o=rZ(a);i<a;i++)o[i]=arguments[i];var s=eZ(yu,null,o);return typeof s=="string"?iZ(s,oZ,sZ):s}});var Rh=je,uZ=Ja;Rh.JSON||(Rh.JSON={stringify:JSON.stringify});var fZ=function(t,e,r){return uZ(Rh.JSON.stringify,null,arguments)},cZ=fZ,dZ=cZ,Vs=dZ,hZ=we,vZ=hZ.TypeError,pZ=function(n,t){if(n<t)throw vZ("Not enough arguments");return n},gZ=Te,Nh=we,mZ=Ja,yZ=Yt,bZ=Ps,_Z=pf,$Z=pZ,wZ=/MSIE .\./.test(bZ),kZ=Nh.Function,j1=function(n){return function(t,e){var r=$Z(arguments.length,1)>2,i=yZ(t)?t:kZ(t),a=r?_Z(arguments,2):void 0;return n(r?function(){mZ(i,this,a)}:i,e)}};gZ({global:!0,bind:!0,forced:wZ},{setTimeout:j1(Nh.setTimeout),setInterval:j1(Nh.setInterval)});var EZ=je,SZ=EZ.setTimeout,dn=SZ,OZ=Or,H1=Rs,TZ=rn,IZ=function(t){for(var e=OZ(this),r=TZ(e),i=arguments.length,a=H1(i>1?arguments[1]:void 0,r),o=i>2?arguments[2]:void 0,s=o===void 0?r:H1(o,r);s>a;)e[a++]=t;return e},CZ=Te,PZ=IZ;CZ({target:"Array",proto:!0},{fill:PZ});var AZ=Ut,MZ=AZ("Array").fill,DZ=Nt,RZ=MZ,bd=Array.prototype,NZ=function(n){var t=n.fill;return n===bd||DZ(bd,n)&&t===bd.fill?RZ:t},FZ=NZ,BZ=FZ,Us=BZ;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Qr(){return Qr=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Qr.apply(this,arguments)}function zr(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}function Tl(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Fh;typeof Object.assign!="function"?Fh=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e}:Fh=Object.assign;var Vi=Fh,W1=["","webkit","Moz","MS","ms","o"],LZ=typeof document>"u"?{style:{}}:document.createElement("div"),xZ="function",Sa=Math.round,Ui=Math.abs,lp=Date.now;function Df(n,t){for(var e,r,i=t[0].toUpperCase()+t.slice(1),a=0;a<W1.length;){if(e=W1[a],r=e?e+i:t,r in n)return r;a++}}var Pn;typeof window>"u"?Pn={}:Pn=window;var Q5=Df(LZ.style,"touchAction"),Z5=Q5!==void 0;function zZ(){if(!Z5)return!1;var n={},t=Pn.CSS&&Pn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return n[e]=t?Pn.CSS.supports("touch-action",e):!0}),n}var J5="compute",ek="auto",Bh="manipulation",Ni="none",qo="pan-x",Ko="pan-y",Il=zZ(),jZ=/mobile|tablet|ip(ad|hone|od)|android/i,tk="ontouchstart"in Pn,HZ=Df(Pn,"PointerEvent")!==void 0,WZ=tk&&jZ.test(navigator.userAgent),Gs="touch",VZ="pen",up="mouse",UZ="kinect",GZ=25,or=1,na=2,Mt=4,br=8,bu=1,qs=2,Ks=4,Ys=8,za=16,hn=qs|Ks,Fi=Ys|za,rk=hn|Fi,nk=["x","y"],_u=["clientX","clientY"];function An(n,t,e){var r;if(n)if(n.forEach)n.forEach(t,e);else if(n.length!==void 0)for(r=0;r<n.length;)t.call(e,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&t.call(e,n[r],r,n)}function Rf(n,t){return typeof n===xZ?n.apply(t&&t[0]||void 0,t):n}function Ti(n,t){return n.indexOf(t)>-1}function qZ(n){if(Ti(n,Ni))return Ni;var t=Ti(n,qo),e=Ti(n,Ko);return t&&e?Ni:t||e?t?qo:Ko:Ti(n,Bh)?Bh:ek}var ik=function(){function n(e,r){this.manager=e,this.set(r)}var t=n.prototype;return t.set=function(r){r===J5&&(r=this.compute()),Z5&&this.manager.element.style&&Il[r]&&(this.manager.element.style[Q5]=r),this.actions=r.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var r=[];return An(this.manager.recognizers,function(i){Rf(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),qZ(r.join(" "))},t.preventDefaults=function(r){var i=r.srcEvent,a=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,s=Ti(o,Ni)&&!Il[Ni],l=Ti(o,Ko)&&!Il[Ko],u=Ti(o,qo)&&!Il[qo];if(s){var f=r.pointers.length===1,c=r.distance<2,d=r.deltaTime<250;if(f&&c&&d)return}if(!(u&&l)&&(s||l&&a&hn||u&&a&Fi))return this.preventSrc(i)},t.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n}();function fp(n,t){for(;n;){if(n===t)return!0;n=n.parentNode}return!1}function ak(n){var t=n.length;if(t===1)return{x:Sa(n[0].clientX),y:Sa(n[0].clientY)};for(var e=0,r=0,i=0;i<t;)e+=n[i].clientX,r+=n[i].clientY,i++;return{x:Sa(e/t),y:Sa(r/t)}}function V1(n){for(var t=[],e=0;e<n.pointers.length;)t[e]={clientX:Sa(n.pointers[e].clientX),clientY:Sa(n.pointers[e].clientY)},e++;return{timeStamp:lp(),pointers:t,center:ak(t),deltaX:n.deltaX,deltaY:n.deltaY}}function $u(n,t,e){e||(e=nk);var r=t[e[0]]-n[e[0]],i=t[e[1]]-n[e[1]];return Math.sqrt(r*r+i*i)}function Lh(n,t,e){e||(e=nk);var r=t[e[0]]-n[e[0]],i=t[e[1]]-n[e[1]];return Math.atan2(i,r)*180/Math.PI}function ok(n,t){return n===t?bu:Ui(n)>=Ui(t)?n<0?qs:Ks:t<0?Ys:za}function KZ(n,t){var e=t.center,r=n.offsetDelta||{},i=n.prevDelta||{},a=n.prevInput||{};(t.eventType===or||a.eventType===Mt)&&(i=n.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=n.offsetDelta={x:e.x,y:e.y}),t.deltaX=i.x+(e.x-r.x),t.deltaY=i.y+(e.y-r.y)}function sk(n,t,e){return{x:t/n||0,y:e/n||0}}function YZ(n,t){return $u(t[0],t[1],_u)/$u(n[0],n[1],_u)}function XZ(n,t){return Lh(t[1],t[0],_u)+Lh(n[1],n[0],_u)}function QZ(n,t){var e=n.lastInterval||t,r=t.timeStamp-e.timeStamp,i,a,o,s;if(t.eventType!==br&&(r>GZ||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=sk(r,l,u);a=f.x,o=f.y,i=Ui(f.x)>Ui(f.y)?f.x:f.y,s=ok(l,u),n.lastInterval=t}else i=e.velocity,a=e.velocityX,o=e.velocityY,s=e.direction;t.velocity=i,t.velocityX=a,t.velocityY=o,t.direction=s}function ZZ(n,t){var e=n.session,r=t.pointers,i=r.length;e.firstInput||(e.firstInput=V1(t)),i>1&&!e.firstMultiple?e.firstMultiple=V1(t):i===1&&(e.firstMultiple=!1);var a=e.firstInput,o=e.firstMultiple,s=o?o.center:a.center,l=t.center=ak(r);t.timeStamp=lp(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=Lh(s,l),t.distance=$u(s,l),KZ(e,t),t.offsetDirection=ok(t.deltaX,t.deltaY);var u=sk(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=Ui(u.x)>Ui(u.y)?u.x:u.y,t.scale=o?YZ(o.pointers,r):1,t.rotation=o?XZ(o.pointers,r):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,QZ(e,t);var f=n.element,c=t.srcEvent,d;c.composedPath?d=c.composedPath()[0]:c.path?d=c.path[0]:d=c.target,fp(d,f)&&(f=d),t.target=f}function JZ(n,t,e){var r=e.pointers.length,i=e.changedPointers.length,a=t&or&&r-i===0,o=t&(Mt|br)&&r-i===0;e.isFirst=!!a,e.isFinal=!!o,a&&(n.session={}),e.eventType=t,ZZ(n,e),n.emit("hammer.input",e),n.recognize(e),n.session.prevInput=e}function Yo(n){return n.trim().split(/\s+/g)}function Ao(n,t,e){An(Yo(t),function(r){n.addEventListener(r,e,!1)})}function Mo(n,t,e){An(Yo(t),function(r){n.removeEventListener(r,e,!1)})}function U1(n){var t=n.ownerDocument||n;return t.defaultView||t.parentWindow||window}var uo=function(){function n(e,r){var i=this;this.manager=e,this.callback=r,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){Rf(e.options.enable,[e])&&i.handler(a)},this.init()}var t=n.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Ao(this.element,this.evEl,this.domHandler),this.evTarget&&Ao(this.target,this.evTarget,this.domHandler),this.evWin&&Ao(U1(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Mo(this.element,this.evEl,this.domHandler),this.evTarget&&Mo(this.target,this.evTarget,this.domHandler),this.evWin&&Mo(U1(this.element),this.evWin,this.domHandler)},n}();function Gi(n,t,e){if(n.indexOf&&!e)return n.indexOf(t);for(var r=0;r<n.length;){if(e&&n[r][e]==t||!e&&n[r]===t)return r;r++}return-1}var eJ={pointerdown:or,pointermove:na,pointerup:Mt,pointercancel:br,pointerout:br},tJ={2:Gs,3:VZ,4:up,5:UZ},lk="pointerdown",uk="pointermove pointerup pointercancel";Pn.MSPointerEvent&&!Pn.PointerEvent&&(lk="MSPointerDown",uk="MSPointerMove MSPointerUp MSPointerCancel");var fk=function(n){zr(t,n);function t(){var r,i=t.prototype;return i.evEl=lk,i.evWin=uk,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var e=t.prototype;return e.handler=function(i){var a=this.store,o=!1,s=i.type.toLowerCase().replace("ms",""),l=eJ[s],u=tJ[i.pointerType]||i.pointerType,f=u===Gs,c=Gi(a,i.pointerId,"pointerId");l&or&&(i.button===0||f)?c<0&&(a.push(i),c=a.length-1):l&(Mt|br)&&(o=!0),!(c<0)&&(a[c]=i,this.callback(this.manager,l,{pointers:a,changedPointers:[i],pointerType:u,srcEvent:i}),o&&a.splice(c,1))},t}(uo);function Xo(n){return Array.prototype.slice.call(n,0)}function cp(n,t,e){for(var r=[],i=[],a=0;a<n.length;){var o=t?n[a][t]:n[a];Gi(i,o)<0&&r.push(n[a]),i[a]=o,a++}return e&&(t?r=r.sort(function(s,l){return s[t]>l[t]}):r=r.sort()),r}var rJ={touchstart:or,touchmove:na,touchend:Mt,touchcancel:br},nJ="touchstart touchmove touchend touchcancel",dp=function(n){zr(t,n);function t(){var r;return t.prototype.evTarget=nJ,r=n.apply(this,arguments)||this,r.targetIds={},r}var e=t.prototype;return e.handler=function(i){var a=rJ[i.type],o=iJ.call(this,i,a);o&&this.callback(this.manager,a,{pointers:o[0],changedPointers:o[1],pointerType:Gs,srcEvent:i})},t}(uo);function iJ(n,t){var e=Xo(n.touches),r=this.targetIds;if(t&(or|na)&&e.length===1)return r[e[0].identifier]=!0,[e,e];var i,a,o=Xo(n.changedTouches),s=[],l=this.target;if(a=e.filter(function(u){return fp(u.target,l)}),t===or)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),t&(Mt|br)&&delete r[o[i].identifier],i++;if(s.length)return[cp(a.concat(s),"identifier",!0),s]}var aJ={mousedown:or,mousemove:na,mouseup:Mt},oJ="mousedown",sJ="mousemove mouseup",hp=function(n){zr(t,n);function t(){var r,i=t.prototype;return i.evEl=oJ,i.evWin=sJ,r=n.apply(this,arguments)||this,r.pressed=!1,r}var e=t.prototype;return e.handler=function(i){var a=aJ[i.type];a&or&&i.button===0&&(this.pressed=!0),a&na&&i.which!==1&&(a=Mt),this.pressed&&(a&Mt&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[i],changedPointers:[i],pointerType:up,srcEvent:i}))},t}(uo),lJ=2500,G1=25;function q1(n){var t=n.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(r);var a=function(){var s=i.indexOf(r);s>-1&&i.splice(s,1)};setTimeout(a,lJ)}}function uJ(n,t){n&or?(this.primaryTouch=t.changedPointers[0].identifier,q1.call(this,t)):n&(Mt|br)&&q1.call(this,t)}function fJ(n){for(var t=n.srcEvent.clientX,e=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(t-i.x),o=Math.abs(e-i.y);if(a<=G1&&o<=G1)return!0}return!1}var ck=function(){var n=function(t){zr(e,t);function e(i,a){var o;return o=t.call(this,i,a)||this,o.handler=function(s,l,u){var f=u.pointerType===Gs,c=u.pointerType===up;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)uJ.call(Tl(Tl(o)),l,u);else if(c&&fJ.call(Tl(Tl(o)),u))return;o.callback(s,l,u)}},o.touch=new dp(o.manager,o.handler),o.mouse=new hp(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=e.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(uo);return n}();function cJ(n){var t,e=n.options.inputClass;return e?t=e:HZ?t=fk:WZ?t=dp:tk?t=ck:t=hp,new t(n,JZ)}function Oa(n,t,e){return Array.isArray(n)?(An(n,e[t],e),!0):!1}var ql=1,Br=2,ja=4,oi=8,Mn=oi,Qo=16,sn=32,dJ=1;function hJ(){return dJ++}function Cl(n,t){var e=t.manager;return e?e.get(n):n}function K1(n){return n&Qo?"cancel":n&oi?"end":n&ja?"move":n&Br?"start":""}var Xs=function(){function n(e){e===void 0&&(e={}),this.options=Qr({enable:!0},e),this.id=hJ(),this.manager=null,this.state=ql,this.simultaneous={},this.requireFail=[]}var t=n.prototype;return t.set=function(r){return Vi(this.options,r),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(r){if(Oa(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=Cl(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},t.dropRecognizeWith=function(r){return Oa(r,"dropRecognizeWith",this)?this:(r=Cl(r,this),delete this.simultaneous[r.id],this)},t.requireFailure=function(r){if(Oa(r,"requireFailure",this))return this;var i=this.requireFail;return r=Cl(r,this),Gi(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},t.dropRequireFailure=function(r){if(Oa(r,"dropRequireFailure",this))return this;r=Cl(r,this);var i=Gi(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},t.emit=function(r){var i=this,a=this.state;function o(s){i.manager.emit(s,r)}a<oi&&o(i.options.event+K1(a)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),a>=oi&&o(i.options.event+K1(a))},t.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=sn},t.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(sn|ql)))return!1;r++}return!0},t.recognize=function(r){var i=Vi({},r);if(!Rf(this.options.enable,[this,i])){this.reset(),this.state=sn;return}this.state&(Mn|Qo|sn)&&(this.state=ql),this.state=this.process(i),this.state&(Br|ja|oi|Qo)&&this.tryEmit(i)},t.process=function(r){},t.getTouchAction=function(){},t.reset=function(){},n}(),xh=function(n){zr(t,n);function t(r){var i;return r===void 0&&(r={}),i=n.call(this,Qr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var e=t.prototype;return e.getTouchAction=function(){return[Bh]},e.process=function(i){var a=this,o=this.options,s=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&or&&this.count===0)return this.failTimeout();if(l&&u&&s){if(i.eventType!==Mt)return this.failTimeout();var f=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||$u(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!f?this.count=1:this.count+=1,this._input=i;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=Mn,a.tryEmit()},o.interval),Br):Mn}return sn},e.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=sn},this.options.interval),sn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===Mn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Xs),Ha=function(n){zr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Qr({pointers:1},r))||this}var e=t.prototype;return e.attrTest=function(i){var a=this.options.pointers;return a===0||i.pointers.length===a},e.process=function(i){var a=this.state,o=i.eventType,s=a&(Br|ja),l=this.attrTest(i);return s&&(o&br||!l)?a|Qo:s||l?o&Mt?a|oi:a&Br?a|ja:Br:sn},t}(Xs);function dk(n){return n===za?"down":n===Ys?"up":n===qs?"left":n===Ks?"right":""}var vp=function(n){zr(t,n);function t(r){var i;return r===void 0&&(r={}),i=n.call(this,Qr({event:"pan",threshold:10,pointers:1,direction:rk},r))||this,i.pX=null,i.pY=null,i}var e=t.prototype;return e.getTouchAction=function(){var i=this.options.direction,a=[];return i&hn&&a.push(Ko),i&Fi&&a.push(qo),a},e.directionTest=function(i){var a=this.options,o=!0,s=i.distance,l=i.direction,u=i.deltaX,f=i.deltaY;return l&a.direction||(a.direction&hn?(l=u===0?bu:u<0?qs:Ks,o=u!==this.pX,s=Math.abs(i.deltaX)):(l=f===0?bu:f<0?Ys:za,o=f!==this.pY,s=Math.abs(i.deltaY))),i.direction=l,o&&s>a.threshold&&l&a.direction},e.attrTest=function(i){return Ha.prototype.attrTest.call(this,i)&&(this.state&Br||!(this.state&Br)&&this.directionTest(i))},e.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var a=dk(i.direction);a&&(i.additionalEvent=this.options.event+a),n.prototype.emit.call(this,i)},t}(Ha),hk=function(n){zr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Qr({event:"swipe",threshold:10,velocity:.3,direction:hn|Fi,pointers:1},r))||this}var e=t.prototype;return e.getTouchAction=function(){return vp.prototype.getTouchAction.call(this)},e.attrTest=function(i){var a=this.options.direction,o;return a&(hn|Fi)?o=i.overallVelocity:a&hn?o=i.overallVelocityX:a&Fi&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&a&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ui(o)>this.options.velocity&&i.eventType&Mt},e.emit=function(i){var a=dk(i.offsetDirection);a&&this.manager.emit(this.options.event+a,i),this.manager.emit(this.options.event,i)},t}(Ha),vk=function(n){zr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Qr({event:"pinch",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[Ni]},e.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Br)},e.emit=function(i){if(i.scale!==1){var a=i.scale<1?"in":"out";i.additionalEvent=this.options.event+a}n.prototype.emit.call(this,i)},t}(Ha),pk=function(n){zr(t,n);function t(r){return r===void 0&&(r={}),n.call(this,Qr({event:"rotate",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[Ni]},e.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Br)},t}(Ha),gk=function(n){zr(t,n);function t(r){var i;return r===void 0&&(r={}),i=n.call(this,Qr({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var e=t.prototype;return e.getTouchAction=function(){return[ek]},e.process=function(i){var a=this,o=this.options,s=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!s||i.eventType&(Mt|br)&&!u)this.reset();else if(i.eventType&or)this.reset(),this._timer=setTimeout(function(){a.state=Mn,a.tryEmit()},o.time);else if(i.eventType&Mt)return Mn;return sn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(i){this.state===Mn&&(i&&i.eventType&Mt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=lp(),this.manager.emit(this.options.event,this._input)))},t}(Xs),mk={domEvents:!1,touchAction:J5,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Y1=[[pk,{enable:!1}],[vk,{enable:!1},["rotate"]],[hk,{direction:hn}],[vp,{direction:hn},["swipe"]],[xh],[xh,{event:"doubletap",taps:2},["tap"]],[gk]],vJ=1,X1=2;function Q1(n,t){var e=n.element;if(e.style){var r;An(n.options.cssProps,function(i,a){r=Df(e.style,a),t?(n.oldCssProps[r]=e.style[r],e.style[r]=i):e.style[r]=n.oldCssProps[r]||""}),t||(n.oldCssProps={})}}function pJ(n,t){var e=document.createEvent("Event");e.initEvent(n,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var Z1=function(){function n(e,r){var i=this;this.options=Vi({},mk,r||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=cJ(this),this.touchAction=new ik(this,this.options.touchAction),Q1(this,!0),An(this.options.recognizers,function(a){var o=i.add(new a[0](a[1]));a[2]&&o.recognizeWith(a[2]),a[3]&&o.requireFailure(a[3])},this)}var t=n.prototype;return t.set=function(r){return Vi(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},t.stop=function(r){this.session.stopped=r?X1:vJ},t.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var a,o=this.recognizers,s=i.curRecognizer;(!s||s&&s.state&Mn)&&(i.curRecognizer=null,s=null);for(var l=0;l<o.length;)a=o[l],i.stopped!==X1&&(!s||a===s||a.canRecognizeWith(s))?a.recognize(r):a.reset(),!s&&a.state&(Br|ja|oi)&&(i.curRecognizer=a,s=a),l++}},t.get=function(r){if(r instanceof Xs)return r;for(var i=this.recognizers,a=0;a<i.length;a++)if(i[a].options.event===r)return i[a];return null},t.add=function(r){if(Oa(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},t.remove=function(r){if(Oa(r,"remove",this))return this;var i=this.get(r);if(r){var a=this.recognizers,o=Gi(a,i);o!==-1&&(a.splice(o,1),this.touchAction.update())}return this},t.on=function(r,i){if(r===void 0||i===void 0)return this;var a=this.handlers;return An(Yo(r),function(o){a[o]=a[o]||[],a[o].push(i)}),this},t.off=function(r,i){if(r===void 0)return this;var a=this.handlers;return An(Yo(r),function(o){i?a[o]&&a[o].splice(Gi(a[o],i),1):delete a[o]}),this},t.emit=function(r,i){this.options.domEvents&&pJ(r,i);var a=this.handlers[r]&&this.handlers[r].slice();if(!(!a||!a.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<a.length;)a[o](i),o++}},t.destroy=function(){this.element&&Q1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),gJ={touchstart:or,touchmove:na,touchend:Mt,touchcancel:br},mJ="touchstart",yJ="touchstart touchmove touchend touchcancel",bJ=function(n){zr(t,n);function t(){var r,i=t.prototype;return i.evTarget=mJ,i.evWin=yJ,r=n.apply(this,arguments)||this,r.started=!1,r}var e=t.prototype;return e.handler=function(i){var a=gJ[i.type];if(a===or&&(this.started=!0),!!this.started){var o=_J.call(this,i,a);a&(Mt|br)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:o[0],changedPointers:o[1],pointerType:Gs,srcEvent:i})}},t}(uo);function _J(n,t){var e=Xo(n.touches),r=Xo(n.changedTouches);return t&(Mt|br)&&(e=cp(e.concat(r),"identifier",!0)),[e,r]}function yk(n,t,e){var r="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var i=new Error("get-stack-trace"),a=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,a),n.apply(this,arguments)}}var bk=yk(function(n,t,e){for(var r=Object.keys(t),i=0;i<r.length;)(!e||e&&n[r[i]]===void 0)&&(n[r[i]]=t[r[i]]),i++;return n},"extend","Use `assign`."),$J=yk(function(n,t){return bk(n,t,!0)},"merge","Use `assign`.");function wJ(n,t,e){var r=t.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,e&&Vi(i,e)}function J1(n,t){return function(){return n.apply(t,arguments)}}var kJ=function(){var n=function(e,r){return r===void 0&&(r={}),new Z1(e,Qr({recognizers:Y1.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=rk,n.DIRECTION_DOWN=za,n.DIRECTION_LEFT=qs,n.DIRECTION_RIGHT=Ks,n.DIRECTION_UP=Ys,n.DIRECTION_HORIZONTAL=hn,n.DIRECTION_VERTICAL=Fi,n.DIRECTION_NONE=bu,n.DIRECTION_DOWN=za,n.INPUT_START=or,n.INPUT_MOVE=na,n.INPUT_END=Mt,n.INPUT_CANCEL=br,n.STATE_POSSIBLE=ql,n.STATE_BEGAN=Br,n.STATE_CHANGED=ja,n.STATE_ENDED=oi,n.STATE_RECOGNIZED=Mn,n.STATE_CANCELLED=Qo,n.STATE_FAILED=sn,n.Manager=Z1,n.Input=uo,n.TouchAction=ik,n.TouchInput=dp,n.MouseInput=hp,n.PointerEventInput=fk,n.TouchMouseInput=ck,n.SingleTouchInput=bJ,n.Recognizer=Xs,n.AttrRecognizer=Ha,n.Tap=xh,n.Pan=vp,n.Swipe=hk,n.Pinch=vk,n.Rotate=pk,n.Press=gk,n.on=Ao,n.off=Mo,n.each=An,n.merge=$J,n.extend=bk,n.bindFn=J1,n.assign=Vi,n.inherit=wJ,n.bindFn=J1,n.prefixed=Df,n.toArray=Xo,n.inArray=Gi,n.uniqueArray=cp,n.splitStr=Yo,n.boolOrFn=Rf,n.hasParent=fp,n.addEventListeners=Ao,n.removeEventListeners=Mo,n.defaults=Vi({},mk,{preset:Y1}),n}(),EJ=kJ;function _k(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=SJ(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function SJ(n,t){var e;if(n){if(typeof n=="string")return e0(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e0(n,t)}}function e0(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}jn("DELETE");function Nf(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return OJ(t.length?t:[gu()])}function OJ(n){var t=TJ(n),e=_t(t,3),r=e[0],i=e[1],a=e[2],o=1,s=function(){var u=2091639*r+o*23283064365386963e-26;return r=i,i=a,a=u-(o=u|0)};return s.uint32=function(){return s()*4294967296},s.fract53=function(){return s()+(s()*2097152|0)*11102230246251565e-32},s.algorithm="Alea",s.seed=n,s.version="0.9",s}function TJ(){for(var n=IJ(),t=n(" "),e=n(" "),r=n(" "),i=0;i<arguments.length;i++)t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[t,e,r]}function IJ(){var n=4022871197;return function(t){for(var e=t.toString(),r=0;r<e.length;r++){n+=e.charCodeAt(r);var i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function CJ(){var n=function(){};return{on:n,off:n,destroy:n,emit:n,get:function(){return{set:n}}}}var pp=typeof window<"u"?window.Hammer||EJ:function(){return CJ()};function ln(n){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=pp(this._dom.overlay);r.on("tap",Z(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];et(i).call(i,function(a){r.on(a,function(o){o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){PJ(a.target,n)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}D2(ln.prototype);ln.current=null;ln.prototype.destroy=function(){var n,t;this.deactivate();var e=_k(Di(n=Cn(t=this._cleanupQueue).call(t,0)).call(n)),r;try{for(e.s();!(r=e.n()).done;){var i=r.value;i()}}catch(a){e.e(a)}finally{e.f()}};ln.prototype.activate=function(){ln.current&&ln.current.deactivate(),ln.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ln.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ln.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function PJ(n,t){for(;n;){if(n===t)return!0;n=n.parentNode}return!1}var AJ=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,MJ=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,DJ=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,RJ=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Kn(n){if(n)for(;n.hasChildNodes()===!0;){var t=n.firstChild;t&&(Kn(t),n.removeChild(t))}}function Jn(n){return n instanceof String||typeof n=="string"}function t0(n){return Je(n)==="object"&&n!==null}function qi(n,t,e,r){var i=!1;r===!0&&(i=t[e]===null&&n[e]!==void 0),i?delete n[e]:n[e]=t[e]}function $k(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var r in n)if(t[r]!==void 0)if(t[r]===null||Je(t[r])!=="object")qi(n,t,r,e);else{var i=n[r],a=t[r];t0(i)&&t0(a)&&$k(i,a,e)}}function fo(n,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ge(e))throw new TypeError("Arrays are not supported by deepExtend");for(var i=0;i<n.length;i++){var a=n[i];if(Object.prototype.hasOwnProperty.call(e,a))if(e[a]&&e[a].constructor===Object)t[a]===void 0&&(t[a]={}),t[a].constructor===Object?it(t[a],e[a],!1,r):qi(t,e,a,r);else{if(Ge(e[a]))throw new TypeError("Arrays are not supported by deepExtend");qi(t,e,a,r)}}return t}function wu(n,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ge(e))throw new TypeError("Arrays are not supported by deepExtend");for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!cn(n).call(n,i))if(e[i]&&e[i].constructor===Object)t[i]===void 0&&(t[i]={}),t[i].constructor===Object?it(t[i],e[i]):qi(t,e,i,r);else if(Ge(e[i])){t[i]=[];for(var a=0;a<e[i].length;a++)t[i].push(e[i][a])}else qi(t,e,i,r);return t}function it(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)||e===!0)if(Je(t[i])==="object"&&t[i]!==null&&I1(t[i])===Object.prototype)n[i]===void 0?n[i]=it({},t[i],e):Je(n[i])==="object"&&n[i]!==null&&I1(n[i])===Object.prototype?it(n[i],t[i],e):qi(n,t,i,r);else if(Ge(t[i])){var a;n[i]=zt(a=t[i]).call(a)}else qi(n,t,i,r);return n}function ku(n,t){var e;return op(e=[]).call(e,an(n),[t])}function NJ(n){return zt(n).call(n)}function FJ(n){return n.getBoundingClientRect().left}function BJ(n){return n.getBoundingClientRect().top}function Ne(n,t){if(Ge(n))for(var e=n.length,r=0;r<e;r++)t(n[r],r,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(n[i],i,n)}function LJ(n,t,e,r){if(n.addEventListener){var i;r===void 0&&(r=!1),t==="mousewheel"&&cn(i=navigator.userAgent).call(i,"Firefox")&&(t="DOMMouseScroll"),n.addEventListener(t,e,r)}else n.attachEvent("on"+t,e)}function xJ(n,t,e,r){if(n.removeEventListener){var i;r===void 0&&(r=!1),t==="mousewheel"&&cn(i=navigator.userAgent).call(i,"Firefox")&&(t="DOMMouseScroll"),n.removeEventListener(t,e,r)}else n.detachEvent("on"+t,e)}function gp(n){var t;switch(n.length){case 3:case 4:return t=MJ.exec(n),t?{r:Gr(t[1]+t[1],16),g:Gr(t[2]+t[2],16),b:Gr(t[3]+t[3],16)}:null;case 6:case 7:return t=AJ.exec(n),t?{r:Gr(t[1],16),g:Gr(t[2],16),b:Gr(t[3],16)}:null;default:return null}}function Dr(n,t){if(cn(n).call(n,"rgba"))return n;if(cn(n).call(n,"rgb")){var e=n.substr(He(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+t+")"}else{var r=gp(n);return r==null?n:"rgba("+r.r+","+r.g+","+r.b+","+t+")"}}function wk(n,t,e){var r;return"#"+zt(r=((1<<24)+(n<<16)+(t<<8)+e).toString(16)).call(r,1)}function zh(n,t){if(Jn(n)){var e=n;if(Ek(e)){var r,i=xa(r=e.substr(4).substr(0,e.length-5).split(",")).call(r,function(d){return Gr(d)});e=wk(i[0],i[1],i[2])}if(kk(e)===!0){var a=zJ(e),o={h:a.h,s:a.s*.8,v:Math.min(1,a.v*1.02)},s={h:a.h,s:Math.min(1,a.s*1.25),v:a.v*.8},l=jh(s.h,s.s,s.v),u=jh(o.h,o.s,o.v);return{background:e,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}else return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else if(t){var f={background:n.background||t.background,border:n.border||t.border,highlight:Jn(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||t.highlight.background,border:n.highlight&&n.highlight.border||t.highlight.border},hover:Jn(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||t.hover.border,background:n.hover&&n.hover.background||t.hover.background}};return f}else{var c={background:n.background||void 0,border:n.border||void 0,highlight:Jn(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:Jn(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}};return c}}function Eo(n,t,e){n=n/255,t=t/255,e=e/255;var r=Math.min(n,Math.min(t,e)),i=Math.max(n,Math.max(t,e));if(r===i)return{h:0,s:0,v:r};var a=n===r?t-e:e===r?n-t:e-n,o=n===r?3:e===r?1:5,s=60*(o-a/(i-r))/360,l=(i-r)/i,u=i;return{h:s,s:l,v:u}}function Kl(n,t,e){var r,i,a,o=Math.floor(n*6),s=n*6-o,l=e*(1-t),u=e*(1-s*t),f=e*(1-(1-s)*t);switch(o%6){case 0:r=e,i=f,a=l;break;case 1:r=u,i=e,a=l;break;case 2:r=l,i=e,a=f;break;case 3:r=l,i=u,a=e;break;case 4:r=f,i=l,a=e;break;case 5:r=e,i=l,a=u;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(a*255)}}function jh(n,t,e){var r=Kl(n,t,e);return wk(r.r,r.g,r.b)}function zJ(n){var t=gp(n);if(!t)throw new TypeError("'".concat(n,"' is not a valid color."));return Eo(t.r,t.g,t.b)}function kk(n){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n);return t}function Ek(n){return DJ.test(n)}function jJ(n){return RJ.test(n)}function si(n){if(n===null||Je(n)!=="object")return null;if(n instanceof Element)return n;var t=Ri(n);for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&Je(n[e])=="object"&&(t[e]=si(n[e]));return t}function Ar(n,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=function(v){return v!=null},a=function(v){return v!==null&&Je(v)==="object"},o=function(v){for(var p in v)if(Object.prototype.hasOwnProperty.call(v,p))return!1;return!0};if(!a(n))throw new Error("Parameter mergeTarget must be an object");if(!a(t))throw new Error("Parameter options must be an object");if(!i(e))throw new Error("Parameter option must have a value");if(!a(r))throw new Error("Parameter globalOptions must be an object");var s=function(v,p,y){a(v[y])||(v[y]={});var g=p[y],m=v[y];for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])},l=t[e],u=a(r)&&!o(r),f=u?r[e]:void 0,c=f?f.enabled:void 0;if(l!==void 0){if(typeof l=="boolean"){a(n[e])||(n[e]={}),n[e].enabled=l;return}if(l===null&&!a(n[e]))if(i(f))n[e]=Ri(f);else return;if(a(l)){var d=!0;l.enabled!==void 0?d=l.enabled:c!==void 0&&(d=f.enabled),s(n,t,e),n[e].enabled=d}}}var HJ={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Yn(n,t){var e;Ge(t)||(t=[t]);var r=_k(n),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a){e=a[t[0]];for(var o=1;o<t.length;o++)e&&(e=e[t[o]]);if(typeof e<"u")break}}}catch(s){r.e(s)}finally{r.f()}return e}var WJ={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},VJ=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;ne(this,n),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return ie(n,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(e){if(typeof e=="string")return WJ[e]}},{key:"setColor",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e!=="none"){var i,a=this._isColorString(e);if(a!==void 0&&(e=a),Jn(e)===!0){if(Ek(e)===!0){var o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(jJ(e)===!0){var s=e.substr(5).substr(0,e.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(kk(e)===!0){var l=gp(e);i={r:l.r,g:l.g,b:l.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var u=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:u}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Vs(e));this._setColor(i,r)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;r===!0&&(this.previousColor=At({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",dn(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r===!0&&(this.initialColor=At({},e)),this.color=e;var i=Eo(e.r,e.g,e.b),a=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(a*i.h),l=this.centerCoordinates.y+o*Math.cos(a*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var r=Eo(this.color.r,this.color.g,this.color.b);r.v=e/100;var i=Kl(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,r=Eo(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,a,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Us(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,r,i,a;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var s=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var l=this;this.opacityRange.onchange=function(){l._setOpacity(this.value)},this.opacityRange.oninput=function(){l._setOpacity(this.value)},this.brightnessRange.onchange=function(){l._setBrightness(this.value)},this.brightnessRange.oninput=function(){l._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Z(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Z(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Z(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Z(a=this._loadLast).call(a,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new pp(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(r){r.isFirst&&e._moveSelector(r)}),this.hammer.on("tap",function(r){e._moveSelector(r)}),this.hammer.on("panstart",function(r){e._moveSelector(r)}),this.hammer.on("panmove",function(r){e._moveSelector(r)}),this.hammer.on("panend",function(r){e._moveSelector(r)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);var a,o,s,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;var u=2*Math.PI/360,f=1/360,c=1/this.r,d;for(s=0;s<360;s++)for(l=0;l<this.r;l++)a=this.centerCoordinates.x+l*Math.sin(u*s),o=this.centerCoordinates.y+l*Math.cos(u*s),d=Kl(s*f,l*c,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(a-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}},{key:"_moveSelector",value:function(e){var r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,a=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,l=i-s,u=a-o,f=Math.atan2(l,u),c=.98*Math.min(Math.sqrt(l*l+u*u),s),d=Math.cos(f)*c+o,h=Math.sin(f)*c+s;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var v=f/(2*Math.PI);v=v<0?v+1:v;var p=c/this.r,y=Eo(this.color.r,this.color.g,this.color.b);y.h=v,y.s=p;var g=Kl(y.h,y.s,y.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),n}();function Hh(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];if(t.length<1)throw new TypeError("Invalid arguments.");if(t.length===1)return document.createTextNode(t[0]);var r=document.createElement(t[0]);return r.appendChild(Hh.apply(void 0,an(zt(t).call(t,1)))),r}var UJ=function(){function n(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};ne(this,n),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=a,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},At(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new VJ(i),this.wrapper=void 0}return ie(n,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var r=!0;if(typeof e=="string")this.options.filter=e;else if(Ge(e))this.options.filter=e.join();else if(Je(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),gr(e)!==void 0&&(this.options.filter=gr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);gr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=gr(this.options),r=0,i=!1;for(var a in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,a)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(a,[]),i=i||this._handleObject(this.configureOptions[a],[a],!0)):(e===!0||He(e).call(e,a)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(a),this._handleObject(this.configureOptions[a],[a])),r++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var r=this.moduleOptions,i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var r=document.createElement("div");r.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return et(a).call(a,function(s){r.appendChild(s)}),this.domElements.push(r),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}},{key:"_makeLabel",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=document.createElement("div");if(a.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(Hh("i","b",e))}else a.innerText=e+":";return a}},{key:"_makeDropdown",value:function(e,r,i){var a=document.createElement("select");a.className="vis-configuration vis-config-select";var o=0;r!==void 0&&He(e).call(e,r)!==-1&&(o=He(e).call(e,r));for(var s=0;s<e.length;s++){var l=document.createElement("option");l.value=e[s],s===o&&(l.selected="selected"),l.innerText=e[s],a.appendChild(l)}var u=this;a.onchange=function(){u._update(this.value,i)};var f=this._makeLabel(i[i.length-1],i);this._makeItem(i,f,a)}},{key:"_makeRange",value:function(e,r,i){var a=e[0],o=e[1],s=e[2],l=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=o,u.max=s}catch{}u.step=l;var f="",c=0;if(r!==void 0){var d=1.2;r<0&&r*d<o?(u.min=Math.ceil(r*d),c=u.min,f="range increased"):r/d<o&&(u.min=Math.ceil(r/d),c=u.min,f="range increased"),r*d>s&&s!==1&&(u.max=Math.ceil(r*d),c=u.max,f="range increased"),u.value=r}else u.value=a;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=u.value;var v=this;u.onchange=function(){h.value=this.value,v._update(Number(this.value),i)},u.oninput=function(){h.value=this.value};var p=this._makeLabel(i[i.length-1],i),y=this._makeItem(i,p,u,h);f!==""&&this.popupHistory[y]!==c&&(this.popupHistory[y]=c,this._setupPopup(f,y))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerText="generate options",r.onclick=function(){e._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}}},{key:"_setupPopup",value:function(e,r){var i=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var a=document.createElement("div");a.id="vis-configuration-popup",a.className="vis-configuration-popup",a.innerText=e,a.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:a,index:r}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var r=this.domElements[this.popupDiv.index],i=r.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=dn(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=dn(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,r,i){var a=document.createElement("input");a.type="checkbox",a.className="vis-configuration vis-config-checkbox",a.checked=e,r!==void 0&&(a.checked=r,r!==e&&(Je(e)==="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));var o=this;a.onchange=function(){o._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,a)}},{key:"_makeTextInput",value:function(e,r,i){var a=document.createElement("input");a.type="text",a.className="vis-configuration vis-config-text",a.value=r,r!==e&&this.changedOptions.push({path:i,value:r});var o=this;a.onchange=function(){o._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,a)}},{key:"_makeColorField",value:function(e,r,i){var a=this,o=e[1],s=document.createElement("div");r=r===void 0?o:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?o:r,s.onclick=function(){a._showColorPicker(r,s,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}},{key:"_showColorPicker",value:function(e,r,i){var a=this;r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var s="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";r.style.backgroundColor=s,a._update(s,i)}),this.colorPicker.setCloseCallback(function(){r.onclick=function(){a._showColorPicker(e,r,i)}})}},{key:"_handleObject",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,o=gr(this.options),s=!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){a=!0;var u=e[l],f=ku(r,l);if(typeof o=="function"&&(a=o(l,r),a===!1&&!Ge(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,a=this._handleObject(u,f,!0),this.allowCreation=i===!1)),a!==!1){s=!0;var c=this._getValue(f);if(Ge(u))this._handleArray(u,c,f);else if(typeof u=="string")this._makeTextInput(u,c,f);else if(typeof u=="boolean")this._makeCheckbox(u,c,f);else if(u instanceof Object){if(!this.hideOption(r,l,this.moduleOptions))if(u.enabled!==void 0){var d=ku(f,"enabled"),h=this._getValue(d);if(h===!0){var v=this._makeLabel(l,f,!0);this._makeItem(f,v),s=this._handleObject(u,f)||s}else this._makeCheckbox(u,h,f)}else{var p=this._makeLabel(l,f,!0);this._makeItem(f,p),s=this._handleObject(u,f)||s}}else console.error("dont know how to handle",u,l,f)}}return s}},{key:"_handleArray",value:function(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}},{key:"_update",value:function(e,r){var i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var o=0;o<r.length;o++)r[o]!=="global"&&(a[r[o]]===void 0&&(a[r[o]]={}),o!==r.length-1?a=a[r[o]]:a[r[o]]=e);return i}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Hh("pre","const options = "+Vs(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}}]),n}(),GJ=function(){function n(t,e){ne(this,n),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return ie(n,[{key:"setPosition",value:function(e,r){this.x=Gr(e),this.y=Gr(r)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var r=this.frame.clientHeight,i=this.frame.clientWidth,a=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=0,l=0;if(this.overflowMethod=="flip"){var u=!1,f=!0;this.y-r<this.padding&&(f=!1),this.x+i>o-this.padding&&(u=!0),u?s=this.x-i:s=this.x,f?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>a&&(l=a-r-this.padding),l<this.padding&&(l=this.padding),s=this.x,s+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),n}(),bo=!1,r0,Wh="background: #FFeeee; color: #dd0000",qJ=function(){function n(){ne(this,n)}return ie(n,null,[{key:"validate",value:function(e,r,i){bo=!1,r0=r;var a=r;return i!==void 0&&(a=r[i]),n.parse(e,a,[]),bo}},{key:"parse",value:function(e,r,i){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.check(a,e,r,i)}},{key:"check",value:function(e,r,i,a){if(i[e]===void 0&&i.__any__===void 0){n.getSuggestion(e,i,a);return}var o=e,s=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",s=n.getType(r[e])==="object");var l=i[o];s&&l.__type__!==void 0&&(l=l.__type__),n.checkFields(e,r,i,o,l,a)}},{key:"checkFields",value:function(e,r,i,a,o,s){var l=function(d){console.error("%c"+d+n.printLocation(s,e),Wh)},u=n.getType(r[e]),f=o[u];f!==void 0?n.getType(f)==="array"&&He(f).call(f,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+n.print(f)+' not "'+r[e]+'". '),bo=!0):u==="object"&&a!=="__any__"&&(s=ku(s,e),n.parse(r[e],i[a],s)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+n.print(bt(o))+". Received ["+u+'] "'+r[e]+'"'),bo=!0)}},{key:"getType",value:function(e){var r=Je(e);return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ge(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}},{key:"getSuggestion",value:function(e,r,i){var a=n.findInOptions(e,r,i,!1),o=n.findInOptions(e,r0,[],!0),s=8,l=4,u;a.indexMatch!==void 0?u=" in "+n.printLocation(a.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+a.indexMatch+`"?

`:o.distance<=l&&a.distance>o.distance?u=" in "+n.printLocation(a.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+n.printLocation(o.path,o.closestMatch,""):a.distance<=s?u='. Did you mean "'+a.closestMatch+'"?'+n.printLocation(a.path,e):u=". Did you mean one of these: "+n.print(bt(r))+n.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+u,Wh),bo=!0}},{key:"findInOptions",value:function(e,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,s="",l=[],u=e.toLowerCase(),f=void 0;for(var c in r){var d=void 0;if(r[c].__type__!==void 0&&a===!0){var h=n.findInOptions(e,r[c],ku(i,c));o>h.distance&&(s=h.closestMatch,l=h.path,o=h.distance,f=h.indexMatch)}else{var v;He(v=c.toLowerCase()).call(v,u)!==-1&&(f=c),d=n.levenshteinDistance(e,c),o>d&&(s=c,l=NJ(i),o=d)}}return{closestMatch:s,path:l,distance:o,indexMatch:f}}},{key:"printLocation",value:function(e,r){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,a=`

`+i+`options = {
`,o=0;o<e.length;o++){for(var s=0;s<o+1;s++)a+="  ";a+=e[o]+`: {
`}for(var l=0;l<e.length+1;l++)a+="  ";a+=r+`
`;for(var u=0;u<e.length+1;u++){for(var f=0;f<e.length-u;f++)a+="  ";a+=`}
`}return a+`

`}},{key:"print",value:function(e){return Vs(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;var i=[],a;for(a=0;a<=r.length;a++)i[a]=[a];var o;for(o=0;o<=e.length;o++)i[0][o]=o;for(a=1;a<=r.length;a++)for(o=1;o<=e.length;o++)r.charAt(a-1)==e.charAt(o-1)?i[a][o]=i[a-1][o-1]:i[a][o]=Math.min(i[a-1][o-1]+1,Math.min(i[a][o-1]+1,i[a-1][o]+1));return i[r.length][e.length]}}]),n}(),KJ=ln,YJ=UJ,Ia=pp,XJ=GJ,Sk=Wh,QJ=qJ;function ZJ(n){return ni=n,ree()}var Ok={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},mp=Ri(Ok);mp.color="color.color";mp.style="dashes";var tr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},n0={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ni="",Wa=0,Me="",be="",cr=tr.NULL;function JJ(){Wa=0,Me=ni.charAt(0)}function xt(){Wa++,Me=ni.charAt(Wa)}function ya(){return ni.charAt(Wa+1)}function i0(n){var t=n.charCodeAt(0);return t<47?t===35||t===46:t<59?t>47:t<91?t>64:t<96?t===95:t<123?t>96:!1}function fi(n,t){if(n||(n={}),t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function eee(n,t,e){for(var r=t.split("."),i=n;r.length;){var a=r.shift();r.length?(i[a]||(i[a]={}),i=i[a]):i[a]=e}}function Tk(n,t){for(var e,r,i=null,a=[n],o=n;o.parent;)a.push(o.parent),o=o.parent;if(o.nodes){for(e=0,r=o.nodes.length;e<r;e++)if(t.id===o.nodes[e].id){i=o.nodes[e];break}}for(i||(i={id:t.id},n.node&&(i.attr=fi(i.attr,n.node))),e=a.length-1;e>=0;e--){var s,l=a[e];l.nodes||(l.nodes=[]),He(s=l.nodes).call(s,i)===-1&&l.nodes.push(i)}t.attr&&(i.attr=fi(i.attr,t.attr))}function tee(n,t){if(n.edges||(n.edges=[]),n.edges.push(t),n.edge){var e=fi({},n.edge);t.attr=fi(e,t.attr)}}function Ik(n,t,e,r,i){var a={from:t,to:e,type:r};return n.edge&&(a.attr=fi({},n.edge)),a.attr=fi(a.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(a.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),a}function at(){for(cr=tr.NULL,be="";Me===" "||Me==="	"||Me===`
`||Me==="\r";)xt();do{var n=!1;if(Me==="#"){for(var t=Wa-1;ni.charAt(t)===" "||ni.charAt(t)==="	";)t--;if(ni.charAt(t)===`
`||ni.charAt(t)===""){for(;Me!=""&&Me!=`
`;)xt();n=!0}}if(Me==="/"&&ya()==="/"){for(;Me!=""&&Me!=`
`;)xt();n=!0}if(Me==="/"&&ya()==="*"){for(;Me!="";)if(Me==="*"&&ya()==="/"){xt(),xt();break}else xt();n=!0}for(;Me===" "||Me==="	"||Me===`
`||Me==="\r";)xt()}while(n);if(Me===""){cr=tr.DELIMITER;return}var e=Me+ya();if(n0[e]){cr=tr.DELIMITER,be=e,xt(),xt();return}if(n0[Me]){cr=tr.DELIMITER,be=Me,xt();return}if(i0(Me)||Me==="-"){for(be+=Me,xt();i0(Me);)be+=Me,xt();be==="false"?be=!1:be==="true"?be=!0:isNaN(Number(be))||(be=Number(be)),cr=tr.IDENTIFIER;return}if(Me==='"'){for(xt();Me!=""&&(Me!='"'||Me==='"'&&ya()==='"');)Me==='"'?(be+=Me,xt()):Me==="\\"&&ya()==="n"?(be+=`
`,xt()):be+=Me,xt();if(Me!='"')throw rr('End of string " expected');xt(),cr=tr.IDENTIFIER;return}for(cr=tr.UNKNOWN;Me!="";)be+=Me,xt();throw new SyntaxError('Syntax error in part "'+Mk(be,30)+'"')}function ree(){var n={};if(JJ(),at(),be==="strict"&&(n.strict=!0,at()),(be==="graph"||be==="digraph")&&(n.type=be,at()),cr===tr.IDENTIFIER&&(n.id=be,at()),be!="{")throw rr("Angle bracket { expected");if(at(),Ck(n),be!="}")throw rr("Angle bracket } expected");if(at(),be!=="")throw rr("End of file expected");return at(),delete n.node,delete n.edge,delete n.graph,n}function Ck(n){for(;be!==""&&be!="}";)nee(n),be===";"&&at()}function nee(n){var t=Pk(n);if(t){Ak(n,t);return}var e=iee(n);if(!e){if(cr!=tr.IDENTIFIER)throw rr("Identifier expected");var r=be;if(at(),be==="="){if(at(),cr!=tr.IDENTIFIER)throw rr("Identifier expected");n[r]=be,at()}else aee(n,r)}}function Pk(n){var t=null;if(be==="subgraph"&&(t={},t.type="subgraph",at(),cr===tr.IDENTIFIER&&(t.id=be,at())),be==="{"){if(at(),t||(t={}),t.parent=n,t.node=n.node,t.edge=n.edge,t.graph=n.graph,Ck(t),be!="}")throw rr("Angle bracket } expected");at(),delete t.node,delete t.edge,delete t.graph,delete t.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(t)}return t}function iee(n){return be==="node"?(at(),n.node=Do(),"node"):be==="edge"?(at(),n.edge=Do(),"edge"):be==="graph"?(at(),n.graph=Do(),"graph"):null}function aee(n,t){var e={id:t},r=Do();r&&(e.attr=r),Tk(n,e),Ak(n,t)}function Ak(n,t){for(;be==="->"||be==="--";){var e,r=be;at();var i=Pk(n);if(i)e=i;else{if(cr!=tr.IDENTIFIER)throw rr("Identifier or subgraph expected");e=be,Tk(n,{id:e}),at()}var a=Do(),o=Ik(n,t,e,r,a);tee(n,o),t=e}}function Do(){for(var n,t=null,e={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,a=new Array;be==="[";){for(at(),t={};be!==""&&be!="]";){if(cr!=tr.IDENTIFIER)throw rr("Attribute name expected");var o=be;if(at(),be!="=")throw rr("Equal sign = expected");if(at(),cr!=tr.IDENTIFIER)throw rr("Attribute value expected");var s=be;o==="style"&&(s=e[s]);var l;o==="arrowhead"&&(l=r[s],o="arrows",s={to:{enabled:!0,type:l}}),o==="arrowtail"&&(l=r[s],o="arrows",s={from:{enabled:!0,type:l}}),i.push({attr:t,name:o,value:s}),a.push(o),at(),be==","&&at()}if(be!="]")throw rr("Bracket ] expected");at()}if(cn(a).call(a,"dir")){var u={};for(u.arrows={},n=0;n<i.length;n++)if(i[n].name==="arrows")if(i[n].value.to!=null)u.arrows.to=n;else if(i[n].value.from!=null)u.arrows.from=n;else throw rr("Invalid value of arrows");else i[n].name==="dir"&&(u.dir=n);var f=i[u.dir].value;if(!cn(a).call(a,"arrows"))if(f==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(f==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(f==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(f==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw rr('Invalid dir type "'+f+'"');var c,d;if(f==="both")u.arrows.to&&u.arrows.from?(d=i[u.arrows.to].value.to.type,c=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}},Cn(i).call(i,u.arrows.from,1)):u.arrows.to?(d=i[u.arrows.to].value.to.type,c="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.from&&(d="arrow",c=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}});else if(f==="back")u.arrows.to&&u.arrows.from?(d="",c=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.to?(d="",c="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.from&&(d="",c=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(f==="none"){var h;u.arrows.to?h=u.arrows.to:h=u.arrows.from,i[h]={attr:i[h].attr,name:i[h].name,value:""}}else if(f==="forward")u.arrows.to&&u.arrows.from?(d=i[u.arrows.to].value.to.type,c="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.to?(d=i[u.arrows.to].value.to.type,c="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.from&&(d="arrow",c="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw rr('Invalid dir type "'+f+'"');Cn(i).call(i,u.dir,1)}var v;if(cn(a).call(a,"penwidth")){var p=[];for(v=i.length,n=0;n<v;n++)i[n].name!=="width"&&(i[n].name==="penwidth"&&(i[n].name="width"),p.push(i[n]));i=p}for(v=i.length,n=0;n<v;n++)eee(i[n].attr,i[n].name,i[n].value);return t}function rr(n){return new SyntaxError(n+', got "'+Mk(be,30)+'" (char '+Wa+")")}function Mk(n,t){return n.length<=t?n:n.substr(0,27)+"..."}function oee(n,t,e){Ge(n)?et(n).call(n,function(r){Ge(t)?et(t).call(t,function(i){e(r,i)}):e(r,t)}):Ge(t)?et(t).call(t,function(r){e(n,r)}):e(n,t)}function _d(n,t,e){for(var r=t.split("."),i=r.pop(),a=n,o=0;o<r.length;o++){var s=r[o];s in a||(a[s]={}),a=a[s]}return a[i]=e,n}function a0(n,t){var e={};for(var r in n)if(n.hasOwnProperty(r)){var i=t[r];Ge(i)?et(i).call(i,function(a){_d(e,a,n[r])}):typeof i=="string"?_d(e,i,n[r]):_d(e,r,n[r])}return e}function see(n){var t=ZJ(n),e={nodes:[],edges:[],options:{}};if(t.nodes){var r;et(r=t.nodes).call(r,function(o){var s={id:o.id,label:String(o.label||o.id)};fi(s,a0(o.attr,Ok)),s.image&&(s.shape="image"),e.nodes.push(s)})}if(t.edges){var i,a=function(s){var l={from:s.from,to:s.to};return fi(l,a0(s.attr,mp)),l.arrows==null&&s.type==="->"&&(l.arrows="to"),l};et(i=t.edges).call(i,function(o){var s,l;if(o.from instanceof Object?s=o.from.nodes:s={id:o.from},o.to instanceof Object?l=o.to.nodes:l={id:o.to},o.from instanceof Object&&o.from.edges){var u;et(u=o.from.edges).call(u,function(c){var d=a(c);e.edges.push(d)})}if(oee(s,l,function(c,d){var h=Ik(e,c.id,d.id,o.type,o.attr),v=a(h);e.edges.push(v)}),o.to instanceof Object&&o.to.edges){var f;et(f=o.to.edges).call(f,function(c){var d=a(c);e.edges.push(d)})}})}return t.attr&&(e.options=t.attr),e}function lee(n,t){var e,r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};t!=null&&(t.fixed!=null&&(r.nodes.fixed=t.fixed),t.parseColor!=null&&(r.nodes.parseColor=t.parseColor),t.inheritColor!=null&&(r.edges.inheritColor=t.inheritColor));var i=n.edges,a=xa(i).call(i,function(s){var l={from:s.source,id:s.id,to:s.target};return s.attributes!=null&&(l.attributes=s.attributes),s.label!=null&&(l.label=s.label),s.attributes!=null&&s.attributes.title!=null&&(l.title=s.attributes.title),s.type==="Directed"&&(l.arrows="to"),s.color&&r.edges.inheritColor===!1&&(l.color=s.color),l}),o=xa(e=n.nodes).call(e,function(s){var l={id:s.id,fixed:r.nodes.fixed&&s.x!=null&&s.y!=null};return s.attributes!=null&&(l.attributes=s.attributes),s.label!=null&&(l.label=s.label),s.size!=null&&(l.size=s.size),s.attributes!=null&&s.attributes.title!=null&&(l.title=s.attributes.title),s.title!=null&&(l.title=s.title),s.x!=null&&(l.x=s.x),s.y!=null&&(l.y=s.y),s.color!=null&&(r.nodes.parseColor===!0?l.color=s.color:l.color={background:s.color,border:s.color,highlight:{background:s.color,border:s.color},hover:{background:s.color,border:s.color}}),l});return{nodes:o,edges:a}}var uee={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},fee={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},cee={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},dee={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},hee={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},vee={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},pee={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},gee={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},mee={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},yee={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},bee={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},_ee=Object.freeze({__proto__:null,en:uee,de:fee,es:cee,it:dee,nl:hee,pt:vee,ru:pee,cn:gee,uk:mee,fr:yee,cs:bee});function $ee(n,t){try{var e=t.split(/[-_ /]/,2),r=_t(e,2),i=r[0],a=r[1],o=i!=null?i.toLowerCase():null,s=a!=null?a.toUpperCase():null;if(o&&s){var l=o+"-"+s;if(Object.prototype.hasOwnProperty.call(n,l))return l;var u;console.warn(op(u="Unknown variant ".concat(s," of language ")).call(u,o,"."))}if(o){var f=o;if(Object.prototype.hasOwnProperty.call(n,f))return f;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(c){return console.error(c),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}var wee=function(){function n(){ne(this,n),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return ie(n,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,r=this.image.height;this.width=e,this.height=r;var i=Math.floor(r/2),a=Math.floor(r/4),o=Math.floor(r/8),s=Math.floor(r/16),l=Math.floor(e/2),u=Math.floor(e/4),f=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=i,this.coordinates=[[0,0,l,i],[l,0,u,a],[l,a,f,o],[5*f,a,c,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var a=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,r,i,a,o,s){if(this.initialized())if(r>2){r*=.5;for(var l=0;r>2&&l<this.NUM_ITERATIONS;)r*=.5,l+=1;l>=this.NUM_ITERATIONS&&(l=this.NUM_ITERATIONS-1);var u=this.coordinates[l];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],i,a,o,s)}else e.drawImage(this.image,i,a,o,s)}}]),n}(),kee=function(){function n(t){ne(this,n),this.images={},this.imageBroken={},this.callback=t}return ie(n,[{key:"_tryloadBrokenUrl",value:function(e,r,i){if(!(e===void 0||i===void 0)){if(r===void 0){console.warn("No broken url image defined");return}i.image.onerror=function(){console.error("Could not load brokenImage:",r)},i.image.src=r}}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,r){var i=this,a=this.images[e];if(a)return a;var o=new wee;return this.images[e]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),i._tryloadBrokenUrl(e,r,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),n}(),Qs={exports:{}},Eee=Ke,See=Eee(function(){if(typeof ArrayBuffer=="function"){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}),Oee=Ke,Tee=Vt,Iee=ea,o0=See,Yl=Object.isExtensible,Cee=Oee(function(){Yl(1)}),Dk=Cee||o0?function(t){return!Tee(t)||o0&&Iee(t)=="ArrayBuffer"?!1:Yl?Yl(t):!0}:Yl,Pee=Ke,Aee=!Pee(function(){return Object.isExtensible(Object.preventExtensions({}))}),Mee=Te,Dee=We,Ree=Ns,Nee=Vt,yp=Jt,Fee=Tr.f,s0=Ls,Bee=wf,bp=Dk,Lee=cf,xee=Aee,Rk=!1,Fn=Lee("meta"),zee=0,_p=function(n){Fee(n,Fn,{value:{objectID:"O"+zee++,weakData:{}}})},jee=function(n,t){if(!Nee(n))return typeof n=="symbol"?n:(typeof n=="string"?"S":"P")+n;if(!yp(n,Fn)){if(!bp(n))return"F";if(!t)return"E";_p(n)}return n[Fn].objectID},Hee=function(n,t){if(!yp(n,Fn)){if(!bp(n))return!0;if(!t)return!1;_p(n)}return n[Fn].weakData},Wee=function(n){return xee&&Rk&&bp(n)&&!yp(n,Fn)&&_p(n),n},Vee=function(){Uee.enable=function(){},Rk=!0;var n=s0.f,t=Dee([].splice),e={};e[Fn]=1,n(e).length&&(s0.f=function(r){for(var i=n(r),a=0,o=i.length;a<o;a++)if(i[a]===Fn){t(i,a,1);break}return i},Mee({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Bee.f}))},Uee=Qs.exports={enable:Vee,fastKey:jee,getWeakData:Hee,onFreeze:Wee};Ree[Fn]=!0;var Gee=we,qee=Ds,Kee=en,Yee=Ir,Xee=uf,Qee=Y2,Zee=rn,l0=Nt,Jee=e5,ete=$f,u0=K2,tte=Gee.TypeError,Xl=function(n,t){this.stopped=n,this.result=t},f0=Xl.prototype,$p=function(n,t,e){var r=e&&e.that,i=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),s=qee(t,r),l,u,f,c,d,h,v,p=function(g){return l&&u0(l,"normal",g),new Xl(!0,g)},y=function(g){return i?(Yee(g),o?s(g[0],g[1],p):s(g[0],g[1])):o?s(g,p):s(g)};if(a)l=n;else{if(u=ete(n),!u)throw tte(Xee(n)+" is not iterable");if(Qee(u)){for(f=0,c=Zee(n);c>f;f++)if(d=y(n[f]),d&&l0(f0,d))return d;return new Xl(!1)}l=Jee(n,u)}for(h=l.next;!(v=Kee(h,l)).done;){try{d=y(v.value)}catch(g){u0(l,"throw",g)}if(typeof d=="object"&&d&&l0(f0,d))return d}return new Xl(!1)},rte=we,nte=Nt,ite=rte.TypeError,wp=function(n,t){if(nte(t,n))return n;throw ite("Incorrect invocation")},ate=Te,ote=we,ste=Qs.exports,lte=Ke,ute=ro,fte=$p,cte=wp,dte=Yt,hte=Vt,vte=Bs,pte=Tr.f,gte=hi.forEach,mte=Wt,Nk=ra,yte=Nk.set,bte=Nk.getterFor,kp=function(n,t,e){var r=n.indexOf("Map")!==-1,i=n.indexOf("Weak")!==-1,a=r?"set":"add",o=ote[n],s=o&&o.prototype,l={},u;if(!mte||!dte(o)||!(i||s.forEach&&!lte(function(){new o().entries().next()})))u=e.getConstructor(t,n,r,a),ste.enable();else{u=t(function(d,h){yte(cte(d,f),{type:n,collection:new o}),h!=null&&fte(h,d[a],{that:d,AS_ENTRIES:r})});var f=u.prototype,c=bte(n);gte(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(d){var h=d=="add"||d=="set";d in s&&!(i&&d=="clear")&&ute(f,d,function(v,p){var y=c(this).collection;if(!h&&i&&!hte(v))return d=="get"?void 0:!1;var g=y[d](v===0?0:v,p);return h?this:g})}),i||pte(f,"size",{configurable:!0,get:function(){return c(this).collection.size}})}return vte(u,n,!1,!0),l[n]=u,ate({global:!0,forced:!0},l),i||e.setStrong(u,n,r),u},_te=bf,Ep=function(n,t,e){for(var r in t)e&&e.unsafe&&n[r]?n[r]=t[r]:_te(n,r,t[r],e);return n},$te=zn,wte=Tr,kte=Lt,Ete=Wt,c0=kte("species"),Ste=function(n){var t=$te(n),e=wte.f;Ete&&t&&!t[c0]&&e(t,c0,{configurable:!0,get:function(){return this}})},Ote=Tr.f,Tte=no,d0=Ep,Ite=Ds,Cte=wp,Pte=$p,Ate=Zv,Mte=Ste,_o=Wt,h0=Qs.exports.fastKey,Fk=ra,v0=Fk.set,$d=Fk.getterFor,Bk={getConstructor:function(n,t,e,r){var i=n(function(u,f){Cte(u,a),v0(u,{type:t,index:Tte(null),first:void 0,last:void 0,size:0}),_o||(u.size=0),f!=null&&Pte(f,u[r],{that:u,AS_ENTRIES:e})}),a=i.prototype,o=$d(t),s=function(u,f,c){var d=o(u),h=l(u,f),v,p;return h?h.value=c:(d.last=h={index:p=h0(f,!0),key:f,value:c,previous:v=d.last,next:void 0,removed:!1},d.first||(d.first=h),v&&(v.next=h),_o?d.size++:u.size++,p!=="F"&&(d.index[p]=h)),u},l=function(u,f){var c=o(u),d=h0(f),h;if(d!=="F")return c.index[d];for(h=c.first;h;h=h.next)if(h.key==f)return h};return d0(a,{clear:function(){for(var f=this,c=o(f),d=c.index,h=c.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;c.first=c.last=void 0,_o?c.size=0:f.size=0},delete:function(u){var f=this,c=o(f),d=l(f,u);if(d){var h=d.next,v=d.previous;delete c.index[d.index],d.removed=!0,v&&(v.next=h),h&&(h.previous=v),c.first==d&&(c.first=h),c.last==d&&(c.last=v),_o?c.size--:f.size--}return!!d},forEach:function(f){for(var c=o(this),d=Ite(f,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:c.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(f){return!!l(this,f)}}),d0(a,e?{get:function(f){var c=l(this,f);return c&&c.value},set:function(f,c){return s(this,f===0?0:f,c)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),_o&&Ote(a,"size",{get:function(){return o(this).size}}),i},setStrong:function(n,t,e){var r=t+" Iterator",i=$d(t),a=$d(r);Ate(n,t,function(o,s){v0(this,{type:r,target:o,state:i(o),kind:s,last:void 0})},function(){for(var o=a(this),s=o.kind,l=o.last;l&&l.removed;)l=l.previous;return!o.target||!(o.last=l=l?l.next:o.state.first)?(o.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l.key,done:!1}:s=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},e?"entries":"values",!e,!0),Mte(t)}},Dte=kp,Rte=Bk;Dte("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},Rte);var Nte=je,Fte=Nte.Map,Bte=Fte,Lte=Bte,Lk=Lte,xte=function(){function n(){ne(this,n),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},At(this.options,this.defaultOptions)}return ie(n,[{key:"setOptions",value:function(e){var r=["useDefaultGroups"];if(e!==void 0){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&He(r).call(r,i)===-1){var a=e[i];this.add(i,a)}}}},{key:"clear",value:function(){this._groups=new Lk,this._groupNames=[]}},{key:"get",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this._groups.get(e);if(i===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var a=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[a]),this._groups.set(e,i)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[o],this._groups.set(e,i)}return i}},{key:"add",value:function(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}]),n}(),zte=Te;zte({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var jte=je,Hte=jte.Number.isNaN,Wte=Hte,Vte=Wte,Vh=Vte,Ute=we,Gte=Ute.isFinite,qte=Number.isFinite||function(t){return typeof t=="number"&&Gte(t)},Kte=Te,Yte=qte;Kte({target:"Number",stat:!0},{isFinite:Yte});var Xte=je,Qte=Xte.Number.isFinite,Zte=Qte,Jte=Zte,Ii=Jte,ere=Te,tre=hi.some,rre=lo,nre=rre("some");ere({target:"Array",proto:!0,forced:!nre},{some:function(t){return tre(this,t,arguments.length>1?arguments[1]:void 0)}});var ire=Ut,are=ire("Array").some,ore=Nt,sre=are,wd=Array.prototype,lre=function(n){var t=n.some;return n===wd||ore(wd,n)&&t===wd.some?sre:t},ure=lre,fre=ure,cre=fre,xk=we,dre=Ke,hre=We,vre=ci,pre=sp.trim,gre=Mf,mre=hre("".charAt),Eu=xk.parseFloat,p0=xk.Symbol,g0=p0&&p0.iterator,yre=1/Eu(gre+"-0")!==-1/0||g0&&!dre(function(){Eu(Object(g0))}),bre=yre?function(t){var e=pre(vre(t)),r=Eu(e);return r===0&&mre(e,0)=="-"?-0:r}:Eu,_re=Te,m0=bre;_re({global:!0,forced:parseFloat!=m0},{parseFloat:m0});var $re=je,wre=$re.parseFloat,kre=wre,Ere=kre,zk=Ere,Sre=Te,Ore=Ke,Tre=wf.f,Ire=Ore(function(){return!Object.getOwnPropertyNames(1)});Sre({target:"Object",stat:!0,forced:Ire},{getOwnPropertyNames:Tre});var Cre=je,Pre=Cre.Object,Are=function(t){return Pre.getOwnPropertyNames(t)},Mre=Are,Dre=Mre,Rre=Dre;function Sp(n,t){var e=["node","edge","label"],r=!0,i=Yn(t,"chosen");if(typeof i=="boolean")r=i;else if(Je(i)==="object"){if(He(e).call(e,n)===-1)throw new Error("choosify: subOption '"+n+"' should be one of '"+e.join("', '")+"'");var a=Yn(t,["chosen",n]);(typeof a=="boolean"||typeof a=="function")&&(r=a)}return r}function Uh(n,t,e){if(n.width<=0||n.height<=0)return!1;if(e!==void 0){var r={x:t.x-e.x,y:t.y-e.y};if(e.angle!==0){var i=-e.angle,a={x:Math.cos(i)*r.x-Math.sin(i)*r.y,y:Math.sin(i)*r.x+Math.cos(i)*r.y};t=a}else t=r}var o=n.x+n.width,s=n.y+n.width;return n.left<t.x&&o>t.x&&n.top<t.y&&s>t.y}function Su(n){return typeof n=="string"&&n!==""}function jk(n,t,e,r){var i=r.x,a=r.y;if(typeof r.distanceToBorder=="function"){var o=r.distanceToBorder(n,t),s=Math.sin(t)*o,l=Math.cos(t)*o;l===o?(i+=o,a=r.y):s===o?(i=r.x,a-=o):(i+=l,a-=s)}else r.shape.width>r.shape.height?(i=r.x+r.shape.width*.5,a=r.y-e):(i=r.x+e,a=r.y-r.shape.height*.5);return{x:i,y:a}}var Nre=Ut,Fre=Nre("Array").values,Bre=Fre,Lre=Bre,xre=ta,zre=Jt,jre=Nt,Hre=Lre,kd=Array.prototype,Wre={DOMTokenList:!0,NodeList:!0},Vre=function(n){var t=n.values;return n===kd||jre(kd,n)&&t===kd.values||zre(Wre,xre(n))?Hre:t},Hk=Vre,Ure=function(){function n(t){ne(this,n),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return ie(n,[{key:"_add",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var a=r;(r===void 0||r==="")&&(a=" ");var o=this.measureText(a,i),s=At({},Hk(o));s.text=r,s.width=o.width,s.mod=i,(r===void 0||r==="")&&(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}},{key:"newLine",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var r=this.lines[e],i=0;if(r.blocks!==void 0)for(var a=0;a<r.blocks.length;a++){var o=r.blocks[a];i<o.height&&(i=o.height)}r.height=i}}},{key:"determineLabelSize",value:function(){for(var e=0,r=0,i=0;i<this.lines.length;i++){var a=this.lines[i];a.width>e&&(e=a.width),r+=a.height}this.width=e,this.height=r}},{key:"removeEmptyBlocks",value:function(){for(var e=[],r=0;r<this.lines.length;r++){var i=this.lines[r];if(i.blocks.length!==0&&!(r===this.lines.length-1&&i.width===0)){var a={};At(a,i),a.blocks=[];for(var o=void 0,s=[],l=0;l<i.blocks.length;l++){var u=i.blocks[l];u.width!==0?s.push(u):o===void 0&&(o=u)}s.length===0&&o!==void 0&&s.push(o),a.blocks=s,e.push(a)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),n}(),Gre={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},y0=function(){function n(t){ne(this,n),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return ie(n,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}},{key:"match",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this.prepareRegExp(e),a=_t(i,2),o=a[0],s=a[1],l=o.test(this.text.substr(this.position,s));return l&&r&&(this.position+=s-1),l}},{key:"parseEndTag",value:function(e,r,i){var a=this.mod()===e;return e==="mono"?a=a&&this.mono:a=a&&!this.mono,a&&this.match(r)?(i!==void 0?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}},{key:"replace",value:function(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(e){var r,i;if(e instanceof RegExp)i=e,r=1;else{var a=Gre[e];a!==void 0?i=a:i=new RegExp(e),r=e.length}return[i,r]}}]),n}(),qre=function(){function n(t,e,r,i){var a=this;ne(this,n),this.ctx=t,this.parent=e,this.selected=r,this.hover=i;var o=function(l,u){if(l===void 0)return 0;var f=a.parent.getFormattingValues(t,r,i,u),c=0;if(l!==""){var d=a.ctx.measureText(l);c=d.width}return{width:c,values:f}};this.lines=new Ure(o)}return ie(n,[{key:"process",value:function(e){if(!Su(e))return this.lines.finalize();var r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var i=String(e).split(`
`),a=i.length;if(r.multi)for(var o=0;o<a;o++){var s=this.splitBlocks(i[o],r.multi);if(s!==void 0){if(s.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(var l=0;l<s.length;l++){var u=s[l].mod,f=s[l].text;this.splitStringIntoLines(f,u,!0)}else for(var c=0;c<s.length;c++){var d=s[c].mod,h=s[c].text;this.lines.append(h,d)}this.lines.newLine()}}else if(r.maxWdt>0)for(var v=0;v<a;v++)this.splitStringIntoLines(i[v]);else for(var p=0;p<a;p++)this.lines.newLine(i[p]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}},{key:"splitHtmlBlocks",value:function(e){for(var r=new y0(e),i=function(l){if(/&/.test(l)){var u=r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&");return u||r.add("&"),!0}return!1};r.position<r.text.length;){var a=r.text.charAt(r.position),o=r.parseWS(a)||/</.test(a)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||i(a);o||r.add(a),r.position++}return r.emitBlock(),r.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var r=this,i=new y0(e),a=!0,o=function(f){return/\\/.test(f)?(i.position<r.text.length+1&&(i.position++,f=r.text.charAt(i.position),/ \t/.test(f)?i.spacing=!0:(i.add(f),a=!1)),!0):!1};i.position<i.text.length;){var s=i.text.charAt(i.position),l=i.parseWS(s)||o(s)||(a||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono");l||(i.add(s),a=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(e,r){var i=this.decodeMarkupSystem(r);if(i==="none")return[{text:e,mod:"normal"}];if(i==="markdown")return this.splitMarkdownBlocks(e);if(i==="html")return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function(e){var r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var r="",i=0;i<e.length;){var a=r===""?"":" ",o=r+a+e[i];if(this.overMaxWidth(o))break;r=o,i++}return i}},{key:"getLongestFitWord",value:function(e){for(var r=0;r<e.length&&!this.overMaxWidth(zt(e).call(e,0,r));)r++;return r}},{key:"splitStringIntoLines",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var a=e.split("\r");a.length>0;){var o=this.getLongestFit(a);if(o===0){var s=a[0],l=this.getLongestFitWord(s);this.lines.newLine(zt(s).call(s,0,l),r),a[0]=zt(s).call(s,l)}else{var u=o;a[o-1]===" "?o--:a[u]===" "&&u++;var f=zt(a).call(a,0,o).join("");o==a.length&&i?this.lines.append(f,r):this.lines.newLine(f,r),a=zt(a).call(a,u)}}}}]),n}(),$o=["bold","ital","boldital","mono"],Wk=function(){function n(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;ne(this,n),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return ie(n,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),Su(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(Je(e.font)==="object"){var r=e.font.size;r!==void 0&&(this.baseSize=r)}}}},{key:"initFontOptions",value:function(e){var r=this;if(Ne($o,function(i){r.fontOptions[i]={}}),n.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Ne(e,function(i,a){i!=null&&Je(i)!=="object"&&(r.fontOptions[a]=i)})}},{key:"constrain",value:function(e){var r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Yn(e,"widthConstraint");if(typeof i=="number")r.maxWdt=Number(i),r.minWdt=Number(i);else if(Je(i)==="object"){var a=Yn(e,["widthConstraint","maximum"]);typeof a=="number"&&(r.maxWdt=Number(a));var o=Yn(e,["widthConstraint","minimum"]);typeof o=="number"&&(r.minWdt=Number(o))}var s=Yn(e,"heightConstraint");if(typeof s=="number")r.minHgt=Number(s);else if(Je(s)==="object"){var l=Yn(e,["heightConstraint","minimum"]);typeof l=="number"&&(r.minHgt=Number(l));var u=Yn(e,["heightConstraint","valign"]);typeof u=="string"&&(u==="top"||u==="bottom")&&(r.valign=u)}return r}},{key:"update",value:function(e,r){this.setOptions(e,!0),this.propagateFonts(r),it(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=Sp("label",r)}},{key:"adjustSizes",value:function(e){var r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);var i=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(e,r){for(var i=0;i<r.length;++i)this.addFontToPile(e,r[i])}},{key:"addFontToPile",value:function(e,r){if(r!==void 0&&!(r.font===void 0||r.font===null)){var i=r.font;e.push(i)}}},{key:"getBasicOptions",value:function(e){for(var r={},i=0;i<e.length;++i){var a=e[i],o={};n.parseFontString(o,a)&&(a=o),Ne(a,function(s,l){s!==void 0&&(Object.prototype.hasOwnProperty.call(r,l)||(He($o).call($o,l)!==-1?r[l]={}:r[l]=s))})}return r}},{key:"getFontOption",value:function(e,r,i){for(var a,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,r)){if(a=s[r],a==null)continue;var l={};if(n.parseFontString(l,a)&&(a=l),Object.prototype.hasOwnProperty.call(a,i))return a[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,r){for(var i={},a=["color","size","face","mod","vadjust"],o=0;o<a.length;++o){var s=a[o];i[s]=this.getFontOption(e,r,s)}return i}},{key:"propagateFonts",value:function(e){var r=this,i=[];this.addFontOptionsToPile(i,e),this.fontOptions=this.getBasicOptions(i);for(var a=function(l){var u=$o[l],f=r.fontOptions[u],c=r.getFontOptions(i,u);Ne(c,function(d,h){f[h]=d}),f.size=Number(f.size),f.vadjust=Number(f.vadjust)},o=0;o<$o.length;++o)a(o)}},{key:"draw",value:function(e,r,i,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,a,o,r,i,s),this._drawBackground(e),this._drawText(e,r,this.size.yLine,s,l))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}},{key:"_drawText",value:function(e,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0,s=this._setAlignment(e,r,i,a),l=_t(s,2);r=l[0],i=l[1],e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(i-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(i+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var f=this.lines[u];if(f&&f.blocks){var c=0;this.isEdgeLabel||this.fontOptions.align==="center"?c+=(this.size.width-f.width)/2:this.fontOptions.align==="right"&&(c+=this.size.width-f.width);for(var d=0;d<f.blocks.length;d++){var h=f.blocks[d];e.font=h.font;var v=this._getColor(h.color,o,h.strokeColor),p=_t(v,2),y=p[0],g=p[1];h.strokeWidth>0&&(e.lineWidth=h.strokeWidth,e.strokeStyle=g,e.lineJoin="round"),e.fillStyle=y,h.strokeWidth>0&&e.strokeText(h.text,r+c,i+h.vadjust),e.fillText(h.text,r+c,i+h.vadjust),c+=h.width}i+=f.height}}}},{key:"_setAlignment",value:function(e,r,i,a){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,i=0;var o=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",i-=2*o):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",i+=2*o):e.textBaseline="middle"}else e.textBaseline=a;return[r,i]}},{key:"_getColor",value:function(e,r,i){var a=e||"#000000",o=i||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));a=Dr(a,s),o=Dr(o,s)}return[a,o]}},{key:"getTextSize",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=2,r=this.size.left,i=this.size.top-.5*e;if(this.isEdgeLabel){var a=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=a,i=-this.size.height*.5;break;case"top":r=a,i=-(this.size.height+e);break;case"bottom":r=a,i=e;break}}var o={left:r,top:i,width:this.size.width,height:this.size.height};return o}},{key:"calculateLabelSize",value:function(e,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,i),this.size.left=a-this.size.width*.5,this.size.top=o-this.size.height*.5,this.size.yLine=o+(1-this.lineCount)*.5*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,r,i,a){var o=function(f,c,d){return c==="normal"?d==="mod"?"":f[d]:f[c][d]!==void 0?f[c][d]:f[d]},s={color:o(this.fontOptions,a,"color"),size:o(this.fontOptions,a,"size"),face:o(this.fontOptions,a,"face"),mod:o(this.fontOptions,a,"mod"),vadjust:o(this.fontOptions,a,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||i)&&(a==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,r,i));var l="";return s.mod!==void 0&&s.mod!==""&&(l+=s.mod+" "),l+=s.size+"px "+s.face,e.font=l.replace(/"/g,""),s.font=e.font,s.height=s.size,s}},{key:"differentState",value:function(e,r){return e!==this.selectedState||r!==this.hoverState}},{key:"_processLabelText",value:function(e,r,i,a){var o=new qre(e,this,r,i);return o.process(a)}},{key:"_processLabel",value:function(e,r,i){if(!(this.labelDirty===!1&&!this.differentState(r,i))){var a=this._processLabelText(e,r,i,this.elementOptions.label);this.fontOptions.minWdt>0&&a.width<this.fontOptions.minWdt&&(a.width=this.fontOptions.minWdt),this.size.labelHeight=a.height,this.fontOptions.minHgt>0&&a.height<this.fontOptions.minHgt&&(a.height=this.fontOptions.minHgt),this.lines=a.lines,this.lineCount=a.lines.length,this.size.width=a.width,this.size.height=a.height,this.selectedState=r,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var e=this.fontOptions.size*this.body.view.scale;return!(e<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,r){if(!r||typeof r!="string")return!1;var i=r.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}}]),n}(),Kre=we,Yre=_f,Xre=uf,Qre=Kre.TypeError,Zre=function(n){if(Yre(n))return n;throw Qre(Xre(n)+" is not a constructor")},Jre=Te,ene=zn,Ed=Ja,tne=I2,b0=Zre,rne=Ir,_0=Vt,nne=no,Vk=Ke,Op=ene("Reflect","construct"),ine=Object.prototype,ane=[].push,Uk=Vk(function(){function n(){}return!(Op(function(){},[],n)instanceof n)}),Gk=!Vk(function(){Op(function(){})}),$0=Uk||Gk;Jre({target:"Reflect",stat:!0,forced:$0,sham:$0},{construct:function(t,e){b0(t),rne(e);var r=arguments.length<3?t:b0(arguments[2]);if(Gk&&!Uk)return Op(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return Ed(ane,i,e),new(Ed(tne,t,i))}var a=r.prototype,o=nne(_0(a)?a:ine),s=Ed(t,o,e);return _0(s)?s:o}});var one=je,sne=one.Reflect.construct,lne=sne,une=lne,q=une,fne=X5,cne=fne,dne=cne,hne=dne,vne=hne,pne=Te,gne=pW;pne({target:"Object",stat:!0},{setPrototypeOf:gne});var mne=je,yne=mne.Object.setPrototypeOf,bne=yne,_ne=bne,$ne=_ne,wne=$ne,kne=wne,Ene=kne,qk=Ene;function Gh(n,t){return Gh=qk||function(r,i){return r.__proto__=i,r},Gh(n,t)}function Ve(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=vne(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Pf(n,"prototype",{writable:!1}),t&&Gh(n,t)}function Sne(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ye(n,t){if(t&&(Je(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(n)}var One=G5,Tne=One,Ine=Tne,Cne=Ine,w0=Cne;function ce(n){return ce=qk?w0:function(e){return e.__proto__||w0(e)},ce(n)}var ia=function(){function n(t,e,r){ne(this,n),this.body=e,this.labelModule=r,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return ie(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(Je(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,r){var i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+i}},{key:"enableShadow",value:function(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}},{key:"disableShadow",value:function(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){var i=r.borderDashes;i===!0&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}},{key:"needsRefresh",value:function(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}},{key:"initContextForDraw",value:function(e,r){var i=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,i),e.strokeStyle=r.borderColor,e.fillStyle=r.color}},{key:"performStroke",value:function(e,r){var i=r.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}},{key:"performFill",value:function(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Us(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,r,i,a,o){i!==void 0&&this.resize(i,a,o),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,r,i,a,o){this._updateBoundingBox(e,r,i,a,o)}},{key:"getDimensionsFromLabel",value:function(e,r,i){this.textSize=this.labelModule.getTextSize(e,r,i);var a=this.textSize.width,o=this.textSize.height,s=14;return a===0&&(a=s,o=s),{width:a,height:o}}}]),n}();function Pne(n){var t=Ane();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Ane(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Mne=function(n){Ve(e,n);var t=Pne(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o._setMargins(a),o}return ie(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,o)){var s=this.getDimensionsFromLabel(i,a,o);this.width=s.width+this.margin.right+this.margin.left,this.height=s.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(i,a,o,s,l,u){this.resize(i,s,l),this.left=a-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,u),C2(i,this.left,this.top,this.width,this.height,u.borderRadius),this.performFill(i,u),this.updateBoundingBox(a,o,i,s,l),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,l)}},{key:"updateBoundingBox",value:function(i,a,o,s,l){this._updateBoundingBox(i,a,o,s,l);var u=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(u)}},{key:"distanceToBorder",value:function(i,a){i&&this.resize(i);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(a)),Math.abs(this.height/2/Math.sin(a)))+o}}]),e}(ia);function Dne(n){var t=Rne();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Rne(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Tp=function(n){Ve(e,n);var t=Dne(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o.labelOffset=0,o.selected=!1,o}return ie(e,[{key:"setOptions",value:function(i,a,o){this.options=i,a===void 0&&o===void 0||this.setImages(a,o)}},{key:"setImages",value:function(i,a){a&&this.selected?(this.imageObj=a,this.imageObjAlt=i):(this.imageObj=i,this.imageObjAlt=a)}},{key:"switchImages",value:function(i){var a=i&&!this.selected||!i&&this.selected;if(this.selected=i,this.imageObjAlt!==void 0&&a){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var i={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var a=this.options.imagePadding;Je(a)=="object"?(i.top=a.top,i.right=a.right,i.bottom=a.bottom,i.left=a.left):(i.top=a,i.right=a,i.bottom=a,i.left=a)}return i}},{key:"_resizeImage",value:function(){var i,a;if(this.options.shapeProperties.useImageSize===!1){var o=1,s=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:s=this.imageObj.height/this.imageObj.width),i=this.options.size*2*o,a=this.options.size*2*s}else{var l=this._getImagePadding();i=this.imageObj.width+l.left+l.right,a=this.imageObj.height+l.top+l.bottom}this.width=i,this.height=a,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(i,a,o,s){this.initContextForDraw(i,s),Kv(i,a,o,s.size),this.performFill(i,s)}},{key:"_drawImageAtPosition",value:function(i,a){if(this.imageObj.width!=0){i.globalAlpha=a.opacity!==void 0?a.opacity:1,this.enableShadow(i,a);var o=1;this.options.shapeProperties.interpolation===!0&&(o=this.imageObj.width/this.width/this.body.view.scale);var s=this._getImagePadding(),l=this.left+s.left,u=this.top+s.top,f=this.width-s.left-s.right,c=this.height-s.top-s.bottom;this.imageObj.drawImageAtPosition(i,o,l,u,f,c),this.disableShadow(i,a)}}},{key:"_drawImageLabel",value:function(i,a,o,s,l){var u=0;if(this.height!==void 0){u=this.height*.5;var f=this.labelModule.getTextSize(i,s,l);f.lineCount>=1&&(u+=f.height/2)}var c=o+u;this.options.label&&(this.labelOffset=u),this.labelModule.draw(i,a,c,s,l,"hanging")}}]),e}(ia);function Nne(n){var t=Fne();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Fne(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Bne=function(n){Ve(e,n);var t=Nne(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o._setMargins(a),o}return ie(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,o)){var s=this.getDimensionsFromLabel(i,a,o),l=Math.max(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=l/2,this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(i,a,o,s,l,u){this.resize(i,s,l),this.left=a-this.width/2,this.top=o-this.height/2,this._drawRawCircle(i,a,o,u),this.updateBoundingBox(a,o),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,o,s,l)}},{key:"updateBoundingBox",value:function(i,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=a+this.options.size}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.width*.5}}]),e}(Tp);function Lne(n){var t=xne();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function xne(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var zne=function(n){Ve(e,n);var t=Lne(e);function e(r,i,a,o,s){var l;return ne(this,e),l=t.call(this,r,i,a),l.setImages(o,s),l}return ie(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,s=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(s){var l=this.options.size*2;this.width=l,this.height=l,this.radius=.5*this.width;return}this.needsRefresh(a,o)&&this._resizeImage()}},{key:"draw",value:function(i,a,o,s,l,u){this.switchImages(s),this.resize();var f=a,c=o;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=o,f+=this.width/2,c+=this.height/2):(this.left=a-this.width/2,this.top=o-this.height/2),this._drawRawCircle(i,f,c,u),i.save(),i.clip(),this._drawImageAtPosition(i,u),i.restore(),this._drawImageLabel(i,f,c,s,l),this.updateBoundingBox(a,o)}},{key:"updateBoundingBox",value:function(i,a){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=a,this.boundingBox.left=i,this.boundingBox.right=i+this.options.size*2,this.boundingBox.bottom=a+this.options.size*2):(this.boundingBox.top=a-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=a+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.width*.5}}]),e}(Tp);function jne(n){var t=Hne();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Hne(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var pi=function(n){Ve(e,n);var t=jne(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(a,o)){var l,u;this.labelModule.getTextSize(i,a,o);var f=2*s.size;this.width=(l=this.customSizeWidth)!==null&&l!==void 0?l:f,this.height=(u=this.customSizeHeight)!==null&&u!==void 0?u:f,this.radius=.5*this.width}}},{key:"_drawShape",value:function(i,a,o,s,l,u,f,c){var d=this;return this.resize(i,u,f,c),this.left=s-this.width/2,this.top=l-this.height/2,this.initContextForDraw(i,c),Ij(a)(i,s,l,c.size),this.performFill(i,c),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(i.font=(u?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",i.fillText(this.options.icon.code,s,l)),{drawExternalLabel:function(){if(d.options.label!==void 0){d.labelModule.calculateLabelSize(i,u,f,s,l,"hanging");var v=l+.5*d.height+.5*d.labelModule.size.height;d.labelModule.draw(i,s,v,u,f,"hanging")}d.updateBoundingBox(s,l)}}}},{key:"updateBoundingBox",value:function(i,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=a+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(ia);function k0(n,t){var e=bt(n);if(li){var r=li(n);t&&(r=gr(r).call(r,function(i){return vi(n,i).enumerable})),e.push.apply(e,r)}return e}function Wne(n){for(var t=1;t<arguments.length;t++){var e,r,i=arguments[t]!=null?arguments[t]:{};t%2?et(e=k0(Object(i),!0)).call(e,function(a){Af(n,a,i[a])}):ui?If(n,ui(i)):et(r=k0(Object(i))).call(r,function(a){Cf(n,a,vi(i,a))})}return n}function Vne(n){var t=Une();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Une(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Gne=function(n){Ve(e,n);var t=Vne(e);function e(r,i,a,o){var s;return ne(this,e),s=t.call(this,r,i,a,o),s.ctxRenderer=o,s}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){this.resize(i,s,l,u),this.left=a-this.width/2,this.top=o-this.height/2,i.save();var f=this.ctxRenderer({ctx:i,id:this.options.id,x:a,y:o,state:{selected:s,hover:l},style:Wne({},u),label:this.options.label});if(f.drawNode!=null&&f.drawNode(),i.restore(),f.drawExternalLabel){var c=f.drawExternalLabel;f.drawExternalLabel=function(){i.save(),c(),i.restore()}}return f.nodeDimensions&&(this.customSizeWidth=f.nodeDimensions.width,this.customSizeHeight=f.nodeDimensions.height),f}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(pi);function qne(n){var t=Kne();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Kne(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Yne=function(n){Ve(e,n);var t=qne(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o._setMargins(a),o}return ie(e,[{key:"resize",value:function(i,a,o){if(this.needsRefresh(a,o)){var s=this.getDimensionsFromLabel(i,a,o),l=s.width+this.margin.right+this.margin.left;this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(i,a,o,s,l,u){this.resize(i,s,l),this.left=a-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,u),P2(i,a-this.width/2,o-this.height/2,this.width,this.height),this.performFill(i,u),this.updateBoundingBox(a,o,i,s,l),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,l)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ia);function Xne(n){var t=Qne();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Qne(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Zne=function(n){Ve(e,n);var t=Xne(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){return this._drawShape(i,"diamond",4,a,o,s,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(pi);function Jne(n){var t=eie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function eie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var tie=function(n){Ve(e,n);var t=Jne(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){return this._drawShape(i,"circle",2,a,o,s,l,u)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.options.size}}]),e}(pi);function rie(n){var t=nie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function nie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var E0=function(n){Ve(e,n);var t=rie(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,o)){var s=this.getDimensionsFromLabel(i,a,o);this.height=s.height*2,this.width=s.width+s.height,this.radius=.5*this.width}}},{key:"draw",value:function(i,a,o,s,l,u){this.resize(i,s,l),this.left=a-this.width*.5,this.top=o-this.height*.5,this.initContextForDraw(i,u),mh(i,this.left,this.top,this.width,this.height),this.performFill(i,u),this.updateBoundingBox(a,o,i,s,l),this.labelModule.draw(i,a,o,s,l)}},{key:"distanceToBorder",value:function(i,a){i&&this.resize(i);var o=this.width*.5,s=this.height*.5,l=Math.sin(a)*o,u=Math.cos(a)*s;return o*s/Math.sqrt(l*l+u*u)}}]),e}(ia);function iie(n){var t=aie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function aie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var oie=function(n){Ve(e,n);var t=iie(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o._setMargins(a),o}return ie(e,[{key:"resize",value:function(i,a,o){this.needsRefresh(a,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,a,o,s,l,u){var f=this;return this.resize(i,s,l),this.options.icon.size=this.options.icon.size||50,this.left=a-this.width/2,this.top=o-this.height/2,this._icon(i,a,o,s,l,u),{drawExternalLabel:function(){if(f.options.label!==void 0){var d=5;f.labelModule.draw(i,f.left+f.iconSize.width/2+f.margin.left,o+f.height/2+d,s)}f.updateBoundingBox(a,o)}}}},{key:"updateBoundingBox",value:function(i,a){if(this.boundingBox.top=a-this.options.icon.size*.5,this.boundingBox.left=i-this.options.icon.size*.5,this.boundingBox.right=i+this.options.icon.size*.5,this.boundingBox.bottom=a+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var o=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+o)}}},{key:"_icon",value:function(i,a,o,s,l,u){var f=Number(this.options.icon.size);this.options.icon.code!==void 0?(i.font=[this.options.icon.weight!=null?this.options.icon.weight:s?"bold":"",(this.options.icon.weight!=null&&s?5:0)+f+"px",this.options.icon.face].join(" "),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",this.enableShadow(i,u),i.fillText(this.options.icon.code,a,o),this.disableShadow(i,u)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ia);function sie(n){var t=lie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function lie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var uie=function(n){Ve(e,n);var t=sie(e);function e(r,i,a,o,s){var l;return ne(this,e),l=t.call(this,r,i,a),l.setImages(o,s),l}return ie(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,s=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(s){var l=this.options.size*2;this.width=l,this.height=l;return}this.needsRefresh(a,o)&&this._resizeImage()}},{key:"draw",value:function(i,a,o,s,l,u){i.save(),this.switchImages(s),this.resize();var f=a,c=o;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=o,f+=this.width/2,c+=this.height/2):(this.left=a-this.width/2,this.top=o-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var d=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,v=(s?h:d)/this.body.view.scale;i.lineWidth=Math.min(this.width,v),i.beginPath();var p=s?this.options.color.highlight.border:l?this.options.color.hover.border:this.options.color.border,y=s?this.options.color.highlight.background:l?this.options.color.hover.background:this.options.color.background;u.opacity!==void 0&&(p=Dr(p,u.opacity),y=Dr(y,u.opacity)),i.strokeStyle=p,i.fillStyle=y,i.rect(this.left-.5*i.lineWidth,this.top-.5*i.lineWidth,this.width+i.lineWidth,this.height+i.lineWidth),Us(i).call(i),this.performStroke(i,u),i.closePath()}this._drawImageAtPosition(i,u),this._drawImageLabel(i,f,c,s,l),this.updateBoundingBox(a,o),i.restore()}},{key:"updateBoundingBox",value:function(i,a){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=i,this.top=a):(this.left=i-this.width/2,this.top=a-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(Tp);function fie(n){var t=cie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function cie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var die=function(n){Ve(e,n);var t=fie(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){return this._drawShape(i,"square",2,a,o,s,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(pi);function hie(n){var t=vie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function vie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var pie=function(n){Ve(e,n);var t=hie(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){return this._drawShape(i,"hexagon",4,a,o,s,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(pi);function gie(n){var t=mie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function mie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var yie=function(n){Ve(e,n);var t=gie(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){return this._drawShape(i,"star",4,a,o,s,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(pi);function bie(n){var t=_ie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function _ie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var $ie=function(n){Ve(e,n);var t=bie(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o._setMargins(a),o}return ie(e,[{key:"resize",value:function(i,a,o){this.needsRefresh(a,o)&&(this.textSize=this.labelModule.getTextSize(i,a,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,a,o,s,l,u){this.resize(i,s,l),this.left=a-this.width/2,this.top=o-this.height/2,this.enableShadow(i,u),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,l),this.disableShadow(i,u),this.updateBoundingBox(a,o,i,s,l)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ia);function wie(n){var t=kie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function kie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Eie=function(n){Ve(e,n);var t=wie(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){return this._drawShape(i,"triangle",3,a,o,s,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(pi);function Sie(n){var t=Oie();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Oie(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Tie=function(n){Ve(e,n);var t=Sie(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"draw",value:function(i,a,o,s,l,u){return this._drawShape(i,"triangleDown",3,a,o,s,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(pi);function S0(n,t){var e=bt(n);if(li){var r=li(n);t&&(r=gr(r).call(r,function(i){return vi(n,i).enumerable})),e.push.apply(e,r)}return e}function O0(n){for(var t=1;t<arguments.length;t++){var e,r,i=arguments[t]!=null?arguments[t]:{};t%2?et(e=S0(Object(i),!0)).call(e,function(a){Af(n,a,i[a])}):ui?If(n,ui(i)):et(r=S0(Object(i))).call(r,function(a){Cf(n,a,vi(i,a))})}return n}var $r=function(){function n(t,e,r,i,a,o){ne(this,n),this.options=si(a),this.globalOptions=a,this.defaultOptions=o,this.body=e,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Wk(this.body,this.options,!1),this.setOptions(t)}return ie(n,[{key:"attachEdge",value:function(e){var r;He(r=this.edges).call(r,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var r,i=He(r=this.edges).call(r,e);if(i!=-1){var a;Cn(a=this.edges).call(a,i,1)}}},{key:"setOptions",value:function(e){var r=this.options.shape;if(e){if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");n.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Gr(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Gr(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=zk(e.value)),n.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=Sp("node",i),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&n.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var r=this.options.opacity;e.borderColor=Dr(e.borderColor,r),e.color=Dr(e.color,r),e.shadowColor=Dr(e.shadowColor,r)}return e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),n.updateGroupOptions(this.options,O0(O0({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var r=this.grouplist.get(this.options.group,!1),i=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Mne(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Bne(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new zne(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Gne(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Yne(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Zne(this.options,this.body,this.labelModule);break;case"dot":this.shape=new tie(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new E0(this.options,this.body,this.labelModule);break;case"icon":this.shape=new oie(this.options,this.body,this.labelModule);break;case"image":this.shape=new uie(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new die(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new pie(this.options,this.body,this.labelModule);break;case"star":this.shape=new yie(this.options,this.body,this.labelModule);break;case"text":this.shape=new $ie(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Eie(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Tie(this.options,this.body,this.labelModule);break;default:this.shape=new E0(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,r){return this.shape.distanceToBorder(e,r)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,r,i){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*s}this.options.size=this.options.scaling.min+a*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}},{key:"getItemsOnPoint",value:function(e){var r=[];return this.labelModule.visible()&&Uh(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),Uh(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,r,i){var a;if(i!==void 0){var o=e.group;if(r!==void 0&&r.group!==void 0&&o!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");var s=typeof o=="number"||typeof o=="string"&&o!="";if(s){var l=i.get(o);l.opacity!==void 0&&r.opacity===void 0&&(n.checkOpacity(l.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+l.opacity),l.opacity=void 0));var u=gr(a=Rre(r)).call(a,function(f){return r[f]!=null});u.push("font"),wu(u,e,l),e.color=zh(e.color)}}}},{key:"parseOptions",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,s=["color","fixed","shadow"];if(wu(s,e,r,i),n.checkMass(r),e.opacity!==void 0&&(n.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(n.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!n.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Ar(e,r,"shadow",a),r.color!==void 0&&r.color!==null){var l=zh(r.color);$k(e.color,l)}else i===!0&&r.color===null&&(e.color=si(a.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),i===!0&&r.font===null&&(e.font=si(a.font)),n.updateGroupOptions(e,r,o),r.scaling!==void 0&&Ar(e.scaling,r.scaling,"label",a.scaling)}},{key:"checkMass",value:function(e,r){if(e.mass!==void 0&&e.mass<=0){var i="";r!==void 0&&(i=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",Sk),e.mass=1}}}]),n}();function Iie(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=Cie(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function Cie(n,t){var e;if(n){if(typeof n=="string")return T0(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(n,t)}}function T0(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var Pie=function(){function n(t,e,r,i){var a,o=this;if(ne(this,n),this.body=t,this.images=e,this.groups=r,this.layoutEngine=i,this.body.functions.createNode=Z(a=this.create).call(a,this),this.nodesListeners={add:function(l,u){o.add(u.items)},update:function(l,u){o.update(u.items,u.data,u.oldData)},remove:function(l,u){o.remove(u.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,u,f,c){if(u===l)return .5;var d=1/(u-l);return Math.max(0,(c-l)*d)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=si(this.defaultOptions),this.bindEventListeners()}return ie(n,[{key:"bindEventListeners",value:function(){var e,r,i=this;this.body.emitter.on("refreshNodes",Z(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Z(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",function(){Ne(i.nodesListeners,function(a,o){i.body.data.nodes&&i.body.data.nodes.off(o,a)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if($r.parseOptions(this.options,e),e.opacity!==void 0&&(Vh(e.opacity)||!Ii(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(var i=0,a=bt(this.body.nodes);i<a.length;i++){var o=a[i];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(e.size!==void 0)for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.body.nodes[s].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.body.data.nodes;if(c2("id",e))this.body.data.nodes=e;else if(Ge(e))this.body.data.nodes=new Ba,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Ba;else throw new TypeError("Array or DataSet expected");if(i&&Ne(this.nodesListeners,function(s,l){i.off(l,s)}),this.body.nodes={},this.body.data.nodes){var a=this;Ne(this.nodesListeners,function(s,l){a.body.data.nodes.on(l,s)});var o=this.body.data.nodes.getIds();this.add(o,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,a=[],o=0;o<e.length;o++){i=e[o];var s=this.body.data.nodes.get(i),l=this.create(s);a.push(l),this.body.nodes[i]=l}this.layoutEngine.positionInitially(a),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,r,i){for(var a=this.body.nodes,o=!1,s=0;s<e.length;s++){var l=e[s],u=a[l],f=r[s];u!==void 0?u.setOptions(f)&&(o=!0):(o=!0,u=this.create(f),a[l]=u)}!o&&i!==void 0&&(o=cre(r).call(r,function(c,d){var h=i[d];return h&&h.level!==c.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var r=this.body.nodes,i=0;i<e.length;i++){var a=e[i];delete r[a]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$r;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Ne(this.body.nodes,function(i,a){var o=e.body.data.nodes.get(a);o!==void 0&&(r===!0&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(e){var r={};if(e!==void 0){if(Ge(e)===!0){for(var i=0;i<e.length;i++)if(this.body.nodes[e[i]]!==void 0){var a=this.body.nodes[e[i]];r[e[i]]={x:Math.round(a.x),y:Math.round(a.y)}}}else if(this.body.nodes[e]!==void 0){var o=this.body.nodes[e];r[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var l=this.body.nodes[this.body.nodeIndices[s]];r[this.body.nodeIndices[s]]={x:Math.round(l.x),y:Math.round(l.y)}}return r}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e=[],r=this.body.data.nodes.getDataSet(),i=Iie(r.get()),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.id,l=this.body.nodes[s],u=Math.round(l.x),f=Math.round(l.y);(o.x!==u||o.y!==f)&&e.push({id:s,x:u,y:f})}}catch(c){i.e(c)}finally{i.f()}r.update(e)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,r){var i=[];if(this.body.nodes[e]!==void 0)for(var a=this.body.nodes[e],o={},s=0;s<a.edges.length;s++){var l=a.edges[s];r!=="to"&&l.toId==a.id?o[l.fromId]===void 0&&(i.push(l.fromId),o[l.fromId]=!0):r!=="from"&&l.fromId==a.id&&o[l.toId]===void 0&&(i.push(l.toId),o[l.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(e){var r=[];if(this.body.nodes[e]!==void 0)for(var i=this.body.nodes[e],a=0;a<i.edges.length;a++)r.push(i.edges[a].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}},{key:"moveNode",value:function(e,r,i){var a=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(i),dn(function(){a.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),n}(),I0=Jt,Aie=function(n){return n!==void 0&&(I0(n,"value")||I0(n,"writable"))},Mie=Te,Die=en,Rie=Vt,Nie=Ir,Fie=Aie,Bie=eo,Lie=yf;function Kk(n,t){var e=arguments.length<3?n:arguments[2],r,i;if(Nie(n)===e)return n[t];if(r=Bie.f(n,t),r)return Fie(r)?r.value:r.get===void 0?void 0:Die(r.get,e);if(Rie(i=Lie(n)))return Kk(i,t,e)}Mie({target:"Reflect",stat:!0},{get:Kk});var xie=je,zie=xie.Reflect.get,jie=zie,Hie=jie,Wie=Hie,Vie=Wie,Uie=Vie,Gie=Uie,C0=Gie,qie=C5,Kie=qie,Yie=Kie,Xie=Yie,Qie=Xie;function Zie(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&(n=ce(n),n!==null););return n}function Ql(){return typeof Reflect<"u"&&C0?Ql=C0:Ql=function(t,e,r){var i=Zie(t,e);if(i){var a=Qie(i,e);return a.get?a.get.call(arguments.length<3?t:r):a.value}},Ql.apply(this,arguments)}var Jie=Te,P0=Math.hypot,eae=Math.abs,tae=Math.sqrt,rae=!!P0&&P0(1/0,NaN)!==1/0;Jie({target:"Math",stat:!0,forced:rae},{hypot:function(t,e){for(var r=0,i=0,a=arguments.length,o=0,s,l;i<a;)s=eae(arguments[i++]),o<s?(l=o/s,r=r*l*l+1,o=s):s>0?(l=s/o,r+=l*l):r+=s;return o===1/0?1/0:o*tae(r)}});var nae=je,iae=nae.Math.hypot,aae=iae,oae=aae,sae=oae;function Yk(n){var t=lae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function lae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var kt=function(){function n(){ne(this,n)}return ie(n,null,[{key:"transform",value:function(e,r){Ge(e)||(e=[e]);for(var i=r.point.x,a=r.point.y,o=r.angle,s=r.length,l=0;l<e.length;++l){var u=e[l],f=u.x*Math.cos(o)-u.y*Math.sin(o),c=u.x*Math.sin(o)+u.y*Math.cos(o);u.x=i+s*f,u.y=a+s*c}}},{key:"drawPath",value:function(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(var i=1;i<r.length;++i)e.lineTo(r[i].x,r[i].y);e.closePath()}}]),n}(),uae=function(n){Ve(e,n);var t=Yk(e);function e(){return ne(this,e),t.apply(this,arguments)}return ie(e,null,[{key:"draw",value:function(i,a){if(a.image){i.save(),i.translate(a.point.x,a.point.y),i.rotate(Math.PI/2+a.angle);var o=a.imageWidth!=null?a.imageWidth:a.image.width,s=a.imageHeight!=null?a.imageHeight:a.image.height;a.image.drawImageAtPosition(i,1,-o/2,0,o,s),i.restore()}return!1}}]),e}(kt),fae=function(n){Ve(e,n);var t=Yk(e);function e(){return ne(this,e),t.apply(this,arguments)}return ie(e,null,[{key:"draw",value:function(i,a){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return kt.transform(o,a),kt.drawPath(i,o),!0}}]),e}(kt),cae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return kt.transform(i,r),kt.drawPath(e,i),!0}}]),n}(),dae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i={x:-.4,y:0};kt.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,o=r.angle-a/2,s=r.angle+a/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}]),n}(),hae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i={x:-.3,y:0};kt.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,o=r.angle+a/2,s=r.angle+3*a/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}]),n}(),vae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return kt.transform(i,r),kt.drawPath(e,i),!0}}]),n}(),pae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return kt.transform(i,r),kt.drawPath(e,i),!0}}]),n}(),gae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i={x:-.4,y:0};return kt.transform(i,r),Kv(e,i.x,i.y,r.length*.4),!0}}]),n}(),mae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return kt.transform(i,r),kt.drawPath(e,i),!0}}]),n}(),yae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return kt.transform(i,r),kt.drawPath(e,i),!0}}]),n}(),bae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return kt.transform(i,r),kt.drawPath(e,i),!0}}]),n}(),_ae=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return kt.transform(i,r),kt.drawPath(e,i),!0}}]),n}(),Xk=function(){function n(){ne(this,n)}return ie(n,null,[{key:"draw",value:function(e,r){var i;switch(r.type&&(i=r.type.toLowerCase()),i){case"image":return uae.draw(e,r);case"circle":return gae.draw(e,r);case"box":return yae.draw(e,r);case"crow":return cae.draw(e,r);case"curve":return dae.draw(e,r);case"diamond":return bae.draw(e,r);case"inv_curve":return hae.draw(e,r);case"triangle":return vae.draw(e,r);case"inv_triangle":return pae.draw(e,r);case"bar":return mae.draw(e,r);case"vee":return _ae.draw(e,r);case"arrow":default:return fae.draw(e,r)}}}]),n}();function A0(n,t){var e=bt(n);if(li){var r=li(n);t&&(r=gr(r).call(r,function(i){return vi(n,i).enumerable})),e.push.apply(e,r)}return e}function M0(n){for(var t=1;t<arguments.length;t++){var e,r,i=arguments[t]!=null?arguments[t]:{};t%2?et(e=A0(Object(i),!0)).call(e,function(a){Af(n,a,i[a])}):ui?If(n,ui(i)):et(r=A0(Object(i))).call(r,function(a){Cf(n,a,vi(i,a))})}return n}var Qk=function(){function n(t,e,r){ne(this,n),this._body=e,this._labelModule=r,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return ie(n,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,o):this._drawLine(e,r,o)}},{key:"_drawLine",value:function(e,r,i,a,o){if(this.from!=this.to)this._line(e,r,i,a,o);else{var s=this._getCircleData(e),l=_t(s,3),u=l[0],f=l[1],c=l[2];this._circle(e,r,u,f,c)}}},{key:"_drawDashedLine",value:function(e,r,i,a,o){e.lineCap="round";var s=Ge(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,i);else{var l=this._getCircleData(e),u=_t(l,3),f=u[0],c=u[1],d=u[2];this._circle(e,r,f,c,d)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)A2(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var h=this._getCircleData(e),v=_t(h,3),p=v[0],y=v[1],g=v[2];this._circle(e,r,p,y,g)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}},{key:"findBorderPosition",value:function(e,r,i){return this.from!=this.to?this._findBorderPosition(e,r,i):this._findBorderPositionCircle(e,r,i)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var r,i=zt(r=this._getCircleData(e)).call(r,0,2),a=_t(i,2),o=a[0],s=a[1];return{from:this._findBorderPositionCircle(this.from,e,{x:o,y:s,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:o,y:s,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var i=jk(e,this.options.selfReference.angle,r,this.from);return[i.x,i.y,r]}},{key:"_pointOnCircle",value:function(e,r,i,a){var o=a*2*Math.PI;return{x:e+i*Math.cos(o),y:r-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,r,i){var a=i.x,o=i.y,s=i.low,l=i.high,u=i.direction,f=10,c=this.options.selfReference.size,d=.05,h,v=(s+l)*.5,p=0;this.options.arrowStrikethrough===!0&&(u===-1?p=this.options.endPointOffset.from:u===1&&(p=this.options.endPointOffset.to));var y=0;do{v=(s+l)*.5,h=this._pointOnCircle(a,o,c,v);var g=Math.atan2(e.y-h.y,e.x-h.x),m=e.distanceToBorder(r,g)+p,_=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),E=m-_;if(Math.abs(E)<d)break;E>0?u>0?s=v:l=v:u>0?l=v:s=v,++y}while(s<=l&&y<f);return M0(M0({},h),{},{t:v})}},{key:"getLineWidth",value:function(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){var i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),a=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(a=Dr(this.from.options.color.border,r.opacity),o=Dr(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(a=this.from.options.color.border),i.addColorStop(0,a),i.addColorStop(1,o),i}return r.inheritsColor==="to"?Dr(this.to.options.color.border,r.opacity):Dr(this.from.options.color.border,r.opacity)}else return Dr(r.color,r.opacity)}},{key:"_circle",value:function(e,r,i,a,o){this.enableShadow(e,r);var s=0,l=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var u=this.options.selfReference.angle,f=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:i,y:a,low:u,high:f,direction:-1}),d=this._findBorderPositionCircle(this.from,e,{x:i,y:a,low:u,high:f,direction:1});s=Math.atan2(c.y-a,c.x-i),l=Math.atan2(d.y-a,d.x-i)}e.beginPath(),e.arc(i,a,o,s,l,!1),e.stroke(),this.disableShadow(e,r)}},{key:"getDistanceToEdge",value:function(e,r,i,a,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,r,i,a,o,s);var l=this._getCircleData(void 0),u=_t(l,3),f=u[0],c=u[1],d=u[2],h=f-o,v=c-s;return Math.abs(Math.sqrt(h*h+v*v)-d)}},{key:"_getDistanceToLine",value:function(e,r,i,a,o,s){var l=i-e,u=a-r,f=l*l+u*u,c=((o-e)*l+(s-r)*u)/f;c>1?c=1:c<0&&(c=0);var d=e+c*l,h=r+c*u,v=d-o,p=h-s;return Math.sqrt(v*v+p*p)}},{key:"getArrowData",value:function(e,r,i,a,o,s){var l,u,f,c,d,h,v,p=s.width;r==="from"?(f=this.from,c=this.to,d=s.fromArrowScale<0,h=Math.abs(s.fromArrowScale),v=s.fromArrowType):r==="to"?(f=this.to,c=this.from,d=s.toArrowScale<0,h=Math.abs(s.toArrowScale),v=s.toArrowType):(f=this.to,c=this.from,d=s.middleArrowScale<0,h=Math.abs(s.middleArrowScale),v=s.middleArrowType);var y=15*h+3*p;if(f!=c){var g=sae(f.x-c.x,f.y-c.y),m=y/g;if(r!=="middle")if(this.options.smooth.enabled===!0){var _=this._findBorderPosition(f,e,{via:i}),E=this.getPoint(_.t+m*(r==="from"?1:-1),i);l=Math.atan2(_.y-E.y,_.x-E.x),u=_}else l=Math.atan2(f.y-c.y,f.x-c.x),u=this._findBorderPosition(f,e);else{var b=(d?-m:m)/2,S=this.getPoint(.5+b,i),O=this.getPoint(.5-b,i);l=Math.atan2(S.y-O.y,S.x-O.x),u=this.getPoint(.5,i)}}else{var I=this._getCircleData(e),w=_t(I,3),k=w[0],R=w[1],T=w[2];if(r==="from"){var P=this.options.selfReference.angle,A=this.options.selfReference.angle+Math.PI,K=this._findBorderPositionCircle(this.from,e,{x:k,y:R,low:P,high:A,direction:-1});l=K.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=K}else if(r==="to"){var U=this.options.selfReference.angle,fe=this.options.selfReference.angle+Math.PI,L=this._findBorderPositionCircle(this.from,e,{x:k,y:R,low:U,high:fe,direction:1});l=L.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=L}else{var W=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(k,R,T,W),l=W*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var Y=u.x-y*.9*Math.cos(l),B=u.y-y*.9*Math.sin(l),H={x:Y,y:B};return{point:u,core:H,angle:l,length:y,type:v}}},{key:"drawArrowHead",value:function(e,r,i,a,o){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width;var s=Xk.draw(e,o);s&&(this.enableShadow(e,r),Us(e).call(e),this.disableShadow(e,r))}},{key:"enableShadow",value:function(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}},{key:"disableShadow",value:function(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,r){if(r.background!==!1){var i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,r.dashes)}}},{key:"setStrokeDashed",value:function(e,r){if(r!==!1)if(e.setLineDash!==void 0){var i=Ge(r)?r:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),n}();function D0(n,t){var e=bt(n);if(li){var r=li(n);t&&(r=gr(r).call(r,function(i){return vi(n,i).enumerable})),e.push.apply(e,r)}return e}function R0(n){for(var t=1;t<arguments.length;t++){var e,r,i=arguments[t]!=null?arguments[t]:{};t%2?et(e=D0(Object(i),!0)).call(e,function(a){Af(n,a,i[a])}):ui?If(n,ui(i)):et(r=D0(Object(i))).call(r,function(a){Cf(n,a,vi(i,a))})}return n}function $ae(n){var t=wae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function wae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Ip=function(n){Ve(e,n);var t=$ae(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"_findBorderPositionBezier",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),s=10,l=.2,u=!1,f=1,c=0,d=this.to,h,v,p=this.options.endPointOffset?this.options.endPointOffset.to:0;i.id===this.from.id&&(d=this.from,u=!0,p=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(p=0);var y=0;do{v=(c+f)*.5,h=this.getPoint(v,o);var g=Math.atan2(d.y-h.y,d.x-h.x),m=d.distanceToBorder(a,g)+p,_=Math.sqrt(Math.pow(h.x-d.x,2)+Math.pow(h.y-d.y,2)),E=m-_;if(Math.abs(E)<l)break;E<0?u===!1?c=v:f=v:u===!1?f=v:c=v,++y}while(c<=f&&y<s);return R0(R0({},h),{},{t:v})}},{key:"_getDistanceToBezierEdge",value:function(i,a,o,s,l,u,f){var c=1e9,d,h,v,p,y,g=i,m=a;for(h=1;h<10;h++)v=.1*h,p=Math.pow(1-v,2)*i+2*v*(1-v)*f.x+Math.pow(v,2)*o,y=Math.pow(1-v,2)*a+2*v*(1-v)*f.y+Math.pow(v,2)*s,h>0&&(d=this._getDistanceToLine(g,m,p,y,l,u),c=d<c?d:c),g=p,m=y;return c}},{key:"_bezierCurve",value:function(i,a,o,s){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),o!=null&&o.x!=null?s!=null&&s.x!=null?i.bezierCurveTo(o.x,o.y,s.x,s.y,this.toPoint.x,this.toPoint.y):i.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):i.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(i,a),this.enableShadow(i,a),i.stroke(),this.disableShadow(i,a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(Qk);function kae(n){var t=Eae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Eae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var N0=function(n){Ve(e,n);var t=kae(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o.via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return ie(e,[{key:"setOptions",value:function(i){Ql(ce(e.prototype),"setOptions",this).call(this,i);var a=!1;this.options.physics!==i.physics&&(a=!0),this.options=i,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),a===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var i="edgeId:"+this.id,a=this._body.functions.createNode({id:i,shape:"circle",physics:!0,hidden:!0});this._body.nodes[i]=a,this.via=a,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(i,a,o){this._bezierCurve(i,a,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var o=this._getCircleData(),s=_t(o,3),l=s[0],u=s[1],f=s[2],c=2*Math.PI*(1-i);return{x:l+f*Math.sin(c),y:u+f-f*(1-Math.cos(c))}}else return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*a.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*a.y+Math.pow(i,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,a){return this._findBorderPositionBezier(i,a,this.via)}},{key:"_getDistanceToEdge",value:function(i,a,o,s,l,u){return this._getDistanceToBezierEdge(i,a,o,s,l,u,this.via)}}]),e}(Ip);function Sae(n){var t=Oae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Oae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var F0=function(n){Ve(e,n);var t=Sae(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"_line",value:function(i,a,o){this._bezierCurve(i,a,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var i=this.options.smooth.roundness,a=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if(a==="discrete"||a==="diagonalCross"){var l,u;o<=s?l=u=i*s:l=u=i*o,this.from.x>this.to.x&&(l=-l),this.from.y>=this.to.y&&(u=-u);var f=this.from.x+l,c=this.from.y+u;return a==="discrete"&&(o<=s?f=o<i*s?this.from.x:f:c=s<i*o?this.from.y:c),{x:f,y:c}}else if(a==="straightCross"){var d=(1-i)*o,h=(1-i)*s;return o<=s?(d=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(d=-d),h=0),{x:this.to.x+d,y:this.to.y+h}}else if(a==="horizontal"){var v=(1-i)*o;return this.from.x<this.to.x&&(v=-v),{x:this.to.x+v,y:this.from.y}}else if(a==="vertical"){var p=(1-i)*s;return this.from.y<this.to.y&&(p=-p),{x:this.from.x,y:this.to.y+p}}else if(a==="curvedCW"){o=this.to.x-this.from.x,s=this.from.y-this.to.y;var y=Math.sqrt(o*o+s*s),g=Math.PI,m=Math.atan2(s,o),_=(m+(i*.5+.5)*g)%(2*g);return{x:this.from.x+(i*.5+.5)*y*Math.sin(_),y:this.from.y+(i*.5+.5)*y*Math.cos(_)}}else if(a==="curvedCCW"){o=this.to.x-this.from.x,s=this.from.y-this.to.y;var E=Math.sqrt(o*o+s*s),b=Math.PI,S=Math.atan2(s,o),O=(S+(-i*.5+.5)*b)%(2*b);return{x:this.from.x+(i*.5+.5)*E*Math.sin(O),y:this.from.y+(i*.5+.5)*E*Math.cos(O)}}else{var I,w;o<=s?I=w=i*s:I=w=i*o,this.from.x>this.to.x&&(I=-I),this.from.y>=this.to.y&&(w=-w);var k=this.from.x+I,R=this.from.y+w;return o<=s?this.from.x<=this.to.x?k=this.to.x<k?this.to.x:k:k=this.to.x>k?this.to.x:k:this.from.y>=this.to.y?R=this.to.y>R?this.to.y:R:R=this.to.y<R?this.to.y:R,{x:k,y:R}}}},{key:"_findBorderPosition",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(i,a,o.via)}},{key:"_getDistanceToEdge",value:function(i,a,o,s,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(i,a,o,s,l,u,f)}},{key:"getPoint",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),o=i,s=Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*a.x+Math.pow(o,2)*this.toPoint.x,l=Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*a.y+Math.pow(o,2)*this.toPoint.y;return{x:s,y:l}}}]),e}(Ip);function Tae(n){var t=Iae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Iae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Cae=function(n){Ve(e,n);var t=Tae(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"_getDistanceToBezierEdge2",value:function(i,a,o,s,l,u,f,c){for(var d=1e9,h=i,v=a,p=[0,0,0,0],y=1;y<10;y++){var g=.1*y;p[0]=Math.pow(1-g,3),p[1]=3*g*Math.pow(1-g,2),p[2]=3*Math.pow(g,2)*(1-g),p[3]=Math.pow(g,3);var m=p[0]*i+p[1]*f.x+p[2]*c.x+p[3]*o,_=p[0]*a+p[1]*f.y+p[2]*c.y+p[3]*s;if(y>0){var E=this._getDistanceToLine(h,v,m,_,l,u);d=E<d?E:d}h=m,v=_}return d}}]),e}(Ip);function Pae(n){var t=Aae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Aae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var B0=function(n){Ve(e,n);var t=Pae(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"_line",value:function(i,a,o){var s=o[0],l=o[1];this._bezierCurve(i,a,s,l)}},{key:"_getViaCoordinates",value:function(){var i=this.from.x-this.to.x,a=this.from.y-this.to.y,o,s,l,u,f=this.options.smooth.roundness;return(Math.abs(i)>Math.abs(a)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(s=this.from.y,u=this.to.y,o=this.from.x-f*i,l=this.to.x+f*i):(s=this.from.y-f*a,u=this.to.y+f*a,o=this.from.x,l=this.to.x),[{x:o,y:s},{x:l,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(i,a){return this._findBorderPositionBezier(i,a)}},{key:"_getDistanceToEdge",value:function(i,a,o,s,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),c=_t(f,2),d=c[0],h=c[1];return this._getDistanceToBezierEdge2(i,a,o,s,l,u,d,h)}},{key:"getPoint",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),o=_t(a,2),s=o[0],l=o[1],u=i,f=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)],c=f[0]*this.fromPoint.x+f[1]*s.x+f[2]*l.x+f[3]*this.toPoint.x,d=f[0]*this.fromPoint.y+f[1]*s.y+f[2]*l.y+f[3]*this.toPoint.y;return{x:c,y:d}}}]),e}(Cae);function Mae(n){var t=Dae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Dae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var L0=function(n){Ve(e,n);var t=Mae(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"_line",value:function(i,a){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),i.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(i,a),i.stroke(),this.disableShadow(i,a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(i){return{x:(1-i)*this.fromPoint.x+i*this.toPoint.x,y:(1-i)*this.fromPoint.y+i*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,a){var o=this.to,s=this.from;i.id===this.from.id&&(o=this.from,s=this.to);var l=Math.atan2(o.y-s.y,o.x-s.x),u=o.x-s.x,f=o.y-s.y,c=Math.sqrt(u*u+f*f),d=i.distanceToBorder(a,l),h=(c-d)/c;return{x:(1-h)*s.x+h*o.x,y:(1-h)*s.y+h*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(i,a,o,s,l,u){return this._getDistanceToLine(i,a,o,s,l,u)}}]),e}(Qk),Ca=function(){function n(t,e,r,i,a){if(ne(this,n),e===void 0)throw new Error("No body provided");this.options=si(i),this.globalOptions=i,this.defaultOptions=a,this.body=e,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Wk(this.body,this.options,!0),this.setOptions(t)}return ie(n,[{key:"setOptions",value:function(e){if(e){var r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;n.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=zk(e.value));var i=[e,this.options,this.defaultOptions];return this.chooser=Sp("edge",i),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,i=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,a=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:a?void 0:this.options.color.color,inheritsColor:a,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var s=this.options.selectionWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var l=this.options.hoverWidth;typeof l=="function"?o.width=l(o.width):typeof l=="number"&&(o.width+=l),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,r=!1,i=!0;return this.edgeType!==void 0&&((this.edgeType instanceof N0&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof B0&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof F0&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof L0&&e.type.enabled===!1)&&(i=!1),i===!0&&(r=this.cleanup())),i===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new N0(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new B0(this.options,this.body,this.labelModule):this.edgeType=new F0(this.options,this.body,this.labelModule):this.edgeType=new L0(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,r,i){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*s}this.options.width=this.options.scaling.min+a*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var r=this.getFormattingValues();if(!r.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,i),this.drawLabel(e,i)}}},{key:"drawArrows",value:function(e){var r=this.getFormattingValues();if(!r.hidden){var i=this.edgeType.getViaNode(),a={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(a.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=a.from.core),r.fromArrowSrc&&(a.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(a.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(a.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(a.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=a.to.core),r.toArrowSrc&&(a.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(a.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(a.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(a.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,r),r.middleArrowSrc&&(a.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(a.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(a.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,a.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,a.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,a.to)}}},{key:"drawLabel",value:function(e,r){if(this.options.label!==void 0){var i=this.from,a=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);var o;if(i.id!=a.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,r),e.save();var s=this._getRotation(e);s.angle!=0&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var l=jk(e,this.options.selfReference.angle,this.options.selfReference.size,i);o=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var r=[];if(this.labelModule.visible()){var i=this._getRotation();Uh(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}var a={left:e.x,top:e.y};return this.isOverlappingWith(a)&&r.push({edgeId:this.id}),r}},{key:"isOverlappingWith",value:function(e){if(this.connected){var r=10,i=this.from.x,a=this.from.y,o=this.to.x,s=this.to.y,l=e.left,u=e.top,f=this.edgeType.getDistanceToEdge(i,a,o,s,l,u);return f<r}else return!1}},{key:"_getRotation",value:function(e){var r=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);var a={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return a;var o=this.from.y-this.to.y,s=this.from.x-this.to.x,l=Math.atan2(o,s);return(l<-1&&s<0||l>0&&s<0)&&(l+=Math.PI),a.angle=l,a}},{key:"_pointOnCircle",value:function(e,r,i,a){return{x:e+i*Math.cos(a),y:r-i*Math.sin(a)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(fo(s,e,r,i),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ii(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=a.endPointOffset.from!==void 0?a.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ii(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=a.endPointOffset.to!==void 0?a.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Su(r.label)?e.label=r.label:Su(e.label)||(e.label=void 0),Ar(e,r,"smooth",a),Ar(e,r,"shadow",a),Ar(e,r,"background",a),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:i===!0&&r.dashes===null&&(e.dashes=Ri(a.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Ar(e.scaling,r.scaling,"label",a.scaling)):i===!0&&r.scaling===null&&(e.scaling=Ri(a.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){var l=r.arrows.toLowerCase();e.arrows.to.enabled=He(l).call(l,"to")!=-1,e.arrows.middle.enabled=He(l).call(l,"middle")!=-1,e.arrows.from.enabled=He(l).call(l,"from")!=-1}else if(Je(r.arrows)==="object")Ar(e.arrows,r.arrows,"to",a.arrows),Ar(e.arrows,r.arrows,"middle",a.arrows),Ar(e.arrows,r.arrows,"from",a.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Vs(r.arrows));else i===!0&&r.arrows===null&&(e.arrows=Ri(a.arrows));if(r.color!==void 0&&r.color!==null){var u=Jn(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,f=e.color;if(o)it(f,a.color,!1,i);else for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&delete f[c];if(Jn(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,u.opacity===void 0&&(f.opacity=1);else{var d=!1;u.color!==void 0&&(f.color=u.color,d=!0),u.highlight!==void 0&&(f.highlight=u.highlight,d=!0),u.hover!==void 0&&(f.hover=u.hover,d=!0),u.inherit!==void 0&&(f.inherit=u.inherit),u.opacity!==void 0&&(f.opacity=Math.min(1,Math.max(0,u.opacity))),d===!0?f.inherit=!1:f.inherit===void 0&&(f.inherit="from")}}else i===!0&&r.color===null&&(e.color=si(a.color));i===!0&&r.font===null&&(e.font=si(a.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}}]),n}(),Rae=function(){function n(t,e,r){var i,a=this;ne(this,n),this.body=t,this.images=e,this.groups=r,this.body.functions.createEdge=Z(i=this.create).call(i,this),this.edgesListeners={add:function(s,l){a.add(l.items)},update:function(s,l){a.update(l.items)},remove:function(s,l){a.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,l,u,f){if(l===s)return .5;var c=1/(l-s);return Math.max(0,(f-s)*c)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},it(this.options,this.defaultOptions),this.bindEventListeners()}return ie(n,[{key:"bindEventListeners",value:function(){var e=this,r,i;this.body.emitter.on("_forceDisableDynamicCurves",function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a==="dynamic"&&(a="continuous");var s=!1;for(var l in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,l)){var u=e.body.edges[l],f=e.body.data.edges.get(l);if(f!=null){var c=f.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(a===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:a}}),s=!0)}}o===!0&&s===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",Z(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",Z(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",function(){Ne(e.edgesListeners,function(a,o){e.body.data.edges&&e.body.data.edges.off(o,a)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){Ca.parseOptions(this.options,e,!0,this.defaultOptions,!0);var r=!1;if(e.smooth!==void 0)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(r=this.body.edges[i].updateEdgeType()||r);if(e.font!==void 0)for(var a in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,a)&&this.body.edges[a].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.data.edges;if(c2("id",e))this.body.data.edges=e;else if(Ge(e))this.body.data.edges=new Ba,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Ba;else throw new TypeError("Array or DataSet expected");if(a&&Ne(this.edgesListeners,function(s,l){a.off(l,s)}),this.body.edges={},this.body.data.edges){Ne(this.edgesListeners,function(s,l){r.body.data.edges.on(l,s)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.body.edges,a=this.body.data.edges,o=0;o<e.length;o++){var s=e[o],l=i[s];l&&l.disconnect();var u=a.get(s,{showInternalIds:!0});i[s]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var r=this.body.edges,i=this.body.data.edges,a=!1,o=0;o<e.length;o++){var s=e[o],l=i.get(s),u=r[s];u!==void 0?(u.disconnect(),a=u.setOptions(l)||a,u.connect()):(this.body.edges[s]=this.create(l),a=!0)}a===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length!==0){var i=this.body.edges;Ne(e,function(a){var o=i[a];o!==void 0&&o.remove()}),r&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;Ne(this.body.edges,function(r,i){var a=e.body.data.edges.get(i);a!==void 0&&r.setOptions(a)})}},{key:"create",value:function(e){return new Ca(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,r=this.body.nodes,i=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var a=i[e];a.from=null,a.to=null,a.connect()}}},{key:"getConnectedNodes",value:function(e){var r=[];if(this.body.edges[e]!==void 0){var i=this.body.edges[e];i.fromId!==void 0&&r.push(i.fromId),i.toId!==void 0&&r.push(i.toId)}return r}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,r=[];Ne(this.body.edges,function(i,a){var o=e.body.nodes[i.toId],s=e.body.nodes[i.fromId];o!==void 0&&o.isCluster===!0||s!==void 0&&s.isCluster===!0||(o===void 0||s===void 0)&&r.push(a)}),this.remove(r,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var r=this.body.edges,i=[];et(e).call(e,function(a,o){var s=r[o];s===void 0&&i.push(o)}),this.add(i,!0)}}}]),n}(),Zk=function(){function n(t,e,r){ne(this,n),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(r),this._rng=Nf("BARNES HUT SOLVER")}return ie(n,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,r=this.body.nodes,i=this.physicsBody.physicsNodeIndices,a=i.length,o=this._formBarnesHutTree(r,i);this.barnesHutTree=o;for(var s=0;s<a;s++)e=r[i[s]],e.options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}},{key:"_getForceContribution",value:function(e,r){if(e.childrenCount>0){var i=e.centerOfMass.x-r.x,a=e.centerOfMass.y-r.y,o=Math.sqrt(i*i+a*a);o*e.calcSize>this.thetaInversed?this._calculateForces(o,i,a,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(o,i,a,r,e)}}},{key:"_calculateForces",value:function(e,r,i,a,o){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&a.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*a.shape.radius,e-a.shape.radius));var s=this.options.gravitationalConstant*o.mass*a.options.mass/Math.pow(e,3),l=r*s,u=i*s;this.physicsBody.forces[a.id].x+=l,this.physicsBody.forces[a.id].y+=u}},{key:"_formBarnesHutTree",value:function(e,r){for(var i,a=r.length,o=e[r[0]].x,s=e[r[0]].y,l=e[r[0]].x,u=e[r[0]].y,f=1;f<a;f++){var c=e[r[f]],d=c.x,h=c.y;c.options.mass>0&&(d<o&&(o=d),d>l&&(l=d),h<s&&(s=h),h>u&&(u=h))}var v=Math.abs(l-o)-Math.abs(u-s);v>0?(s-=.5*v,u+=.5*v):(o+=.5*v,l-=.5*v);var p=1e-5,y=Math.max(p,Math.abs(l-o)),g=.5*y,m=.5*(o+l),_=.5*(s+u),E={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-g,maxX:m+g,minY:_-g,maxY:_+g},size:y,calcSize:1/y,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(E.root);for(var b=0;b<a;b++)i=e[r[b]],i.options.mass>0&&this._placeInTree(E.root,i);return E}},{key:"_updateBranchMass",value:function(e,r){var i=e.centerOfMass,a=e.mass+r.options.mass,o=1/a;i.x=i.x*e.mass+r.x*r.options.mass,i.x*=o,i.y=i.y*e.mass+r.y*r.options.mass,i.y*=o,e.mass=a;var s=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function(e,r,i){(i!=!0||i===void 0)&&this._updateBranchMass(e,r);var a=e.children.NW.range,o;a.maxX>r.x?a.maxY>r.y?o="NW":o="SW":a.maxY>r.y?o="NE":o="SE",this._placeInRegion(e,r,o)}},{key:"_placeInRegion",value:function(e,r,i){var a=e.children[i];switch(a.childrenCount){case 0:a.children.data=r,a.childrenCount=1,this._updateBranchMass(a,r);break;case 1:a.children.data.x===r.x&&a.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(a),this._placeInTree(a,r));break;case 4:this._placeInTree(a,r);break}}},{key:"_splitBranch",value:function(e){var r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}},{key:"_insertRegion",value:function(e,r){var i,a,o,s,l=.5*e.size;switch(r){case"NW":i=e.range.minX,a=e.range.minX+l,o=e.range.minY,s=e.range.minY+l;break;case"NE":i=e.range.minX+l,a=e.range.maxX,o=e.range.minY,s=e.range.minY+l;break;case"SW":i=e.range.minX,a=e.range.minX+l,o=e.range.minY+l,s=e.range.maxY;break;case"SE":i=e.range.minX+l,a=e.range.maxX,o=e.range.minY+l,s=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:a,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}},{key:"_drawBranch",value:function(e,r,i){i===void 0&&(i="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=i,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}]),n}(),Nae=function(){function n(t,e,r){ne(this,n),this._rng=Nf("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(r)}return ie(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,i,a,o,s,l,u,f=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,h=this.options.nodeDistance,v=-2/3/h,p=4/3,y=0;y<c.length-1;y++){l=f[c[y]];for(var g=y+1;g<c.length;g++)u=f[c[g]],e=u.x-l.x,r=u.y-l.y,i=Math.sqrt(e*e+r*r),i===0&&(i=.1*this._rng(),e=i),i<2*h&&(i<.5*h?s=1:s=v*i+p,s=s/i,a=e*s,o=r*s,d[l.id].x-=a,d[l.id].y-=o,d[u.id].x+=a,d[u.id].y+=o)}}}]),n}(),Fae=function(){function n(t,e,r){ne(this,n),this.body=t,this.physicsBody=e,this.setOptions(r)}return ie(n,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,a=this.options.nodeDistance,o=0;o<r.length-1;o++)for(var s=e[r[o]],l=o+1;l<r.length;l++){var u=e[r[l]];if(s.level===u.level){var f=a+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(u.shape.radius||0)/2),c=u.x-s.x,d=u.y-s.y,h=Math.sqrt(c*c+d*d),v=.05,p=void 0;h<f?p=-Math.pow(v*h,2)+Math.pow(v*f,2):p=0,h!==0&&(p=p/h);var y=c*p,g=d*p;i[s.id].x-=y,i[s.id].y-=g,i[u.id].x+=y,i[u.id].y+=g}}}}]),n}(),Sd=function(){function n(t,e,r){ne(this,n),this.body=t,this.physicsBody=e,this.setOptions(r)}return ie(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,i=this.physicsBody.physicsEdgeIndices,a=this.body.edges,o,s,l,u=0;u<i.length;u++)r=a[i[u]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,o=r.to,s=r.edgeType.via,l=r.from,this._calculateSpringForce(o,s,.5*e),this._calculateSpringForce(s,l,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}},{key:"_calculateSpringForce",value:function(e,r,i){var a=e.x-r.x,o=e.y-r.y,s=Math.max(Math.sqrt(a*a+o*o),.01),l=this.options.springConstant*(i-s)/s,u=a*l,f=o*l;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=f),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=u,this.physicsBody.forces[r.id].y-=f)}}]),n}(),Bae=function(){function n(t,e,r){ne(this,n),this.body=t,this.physicsBody=e,this.setOptions(r)}return ie(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,i,a,o,s,l,u,f=this.body.edges,c=.5,d=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces,p=0;p<h.length;p++){var y=h[p];v[y].springFx=0,v[y].springFy=0}for(var g=0;g<d.length;g++)r=f[d[g]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,i=r.from.x-r.to.x,a=r.from.y-r.to.y,u=Math.sqrt(i*i+a*a),u=u===0?.01:u,l=this.options.springConstant*(e-u)/u,o=i*l,s=a*l,r.to.level!=r.from.level?(v[r.toId]!==void 0&&(v[r.toId].springFx-=o,v[r.toId].springFy-=s),v[r.fromId]!==void 0&&(v[r.fromId].springFx+=o,v[r.fromId].springFy+=s)):(v[r.toId]!==void 0&&(v[r.toId].x-=c*o,v[r.toId].y-=c*s),v[r.fromId]!==void 0&&(v[r.fromId].x+=c*o,v[r.fromId].y+=c*s)));l=1;for(var m,_,E=0;E<h.length;E++){var b=h[E];m=Math.min(l,Math.max(-l,v[b].springFx)),_=Math.min(l,Math.max(-l,v[b].springFy)),v[b].x+=m,v[b].y+=_}for(var S=0,O=0,I=0;I<h.length;I++){var w=h[I];S+=v[w].x,O+=v[w].y}for(var k=S/h.length,R=O/h.length,T=0;T<h.length;T++){var P=h[T];v[P].x-=k,v[P].y-=R}}}]),n}(),Zl=function(){function n(t,e,r){ne(this,n),this.body=t,this.physicsBody=e,this.setOptions(r)}return ie(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,i,a,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=0;u<s.length;u++){var f=s[u];a=o[f],e=-a.x,r=-a.y,i=Math.sqrt(e*e+r*r),this._calculateForces(i,e,r,l,a)}}},{key:"_calculateForces",value:function(e,r,i,a,o){var s=e===0?0:this.options.centralGravity/e;a[o.id].x=r*s,a[o.id].y=i*s}}]),n}();function Lae(n){var t=xae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function xae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var zae=function(n){Ve(e,n);var t=Lae(e);function e(r,i,a){var o;return ne(this,e),o=t.call(this,r,i,a),o._rng=Nf("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return ie(e,[{key:"_calculateForces",value:function(i,a,o,s,l){i===0&&(i=.1*this._rng(),a=i),this.overlapAvoidanceFactor<1&&s.shape.radius&&(i=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,i-s.shape.radius));var u=s.edges.length+1,f=this.options.gravitationalConstant*l.mass*s.options.mass*u/Math.pow(i,2),c=a*f,d=o*f;this.physicsBody.forces[s.id].x+=c,this.physicsBody.forces[s.id].y+=d}}]),e}(Zk);function jae(n){var t=Hae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Hae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Wae=function(n){Ve(e,n);var t=jae(e);function e(r,i,a){return ne(this,e),t.call(this,r,i,a)}return ie(e,[{key:"_calculateForces",value:function(i,a,o,s,l){if(i>0){var u=l.edges.length+1,f=this.options.centralGravity*u*l.options.mass;s[l.id].x=a*f,s[l.id].y=o*f}}}]),e}(Zl),Vae=function(){function n(t){ne(this,n),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},At(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return ie(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,wu(["stabilization"],this.options,e),Ar(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var r=this.options.wind;r&&((typeof r.x!="number"||Vh(r.x))&&(r.x=0),(typeof r.y!="number"||Vh(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new zae(this.body,this.physicsBody,e),this.edgesSolver=new Sd(this.body,this.physicsBody,e),this.gravitySolver=new Wae(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Nae(this.body,this.physicsBody,e),this.edgesSolver=new Sd(this.body,this.physicsBody,e),this.gravitySolver=new Zl(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Fae(this.body,this.physicsBody,e),this.edgesSolver=new Bae(this.body,this.physicsBody,e),this.gravitySolver=new Zl(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Zk(this.body,this.physicsBody,e),this.edgesSolver=new Sd(this.body,this.physicsBody,e),this.gravitySolver=new Zl(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Z(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=gu();this.physicsTick();var r=gu()-e;(r<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&dn(function(){e.body.emitter.emit("stabilized",{iterations:r}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var e=1.2;this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=this.adaptiveCounter%this.adaptiveInterval===0;e?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,r=this.body.edges;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&e[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&r[a].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[a].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0},this.physicsBody.velocities[s]===void 0&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var l in this.physicsBody.velocities)e[l]===void 0&&delete this.physicsBody.velocities[l]}},{key:"revert",value:function(){var e=bt(this.previousStates),r=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var a=0;a<e.length;a++){var o=e[a];r[o]!==void 0?r[o].options.physics===!0&&(this.referenceState[o]={positions:{x:r[o].x,y:r[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,r[o].x=this.previousStates[o].x,r[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var e,r,i,a=this.body.nodes,o=this.referenceState,s=.3;for(var l in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,l)&&a[l]!==void 0&&(e=a[l].x-o[l].positions.x,r=a[l].y-o[l].positions.y,i=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),i>s))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,r=0,i=0,a=5,o=0;o<e.length;o++){var s=e[o],l=this._performStep(s);r=Math.max(r,l),i+=l}this.adaptiveTimestepEnabled=i/e.length<a,this.stabilized=r<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,r,i){var a=this.modelOptions.damping*e,o=(r-a)/i;e+=o*this.timestep;var s=this.options.maxVelocity||1e9;return Math.abs(e)>s&&(e=e>0?s:-s),e}},{key:"_performStep",value:function(e){var r=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var a=this.physicsBody.velocities[e];this.previousStates[e]={x:r.x,y:r.y,vx:a.x,vy:a.y},r.options.fixed.x===!1?(a.x=this.calculateComponentVelocity(a.x,i.x,r.options.mass),r.x+=a.x*this.timestep):(i.x=0,a.x=0),r.options.fixed.y===!1?(a.y=this.calculateComponentVelocity(a.y,i.y,r.options.mass),r.y+=a.y*this.timestep):(i.y=0,a.y=0);var o=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));return o}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){var i=e[r].options.fixed;this.freezeCache[r]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof r!="number"&&(r=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",r)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=r,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,dn(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,r=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},i=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&i();for(var a=0;r()&&a<this.options.stabilization.updateInterval;)this.physicsTick(),a++;if(i(),r()){var o;dn(Z(o=this._stabilizationBatch).call(o,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var i=this.physicsBody.physicsNodeIndices[r],a=this.body.nodes[i],o=this.physicsBody.forces[i],s=20,l=.03,u=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),f=Math.min(Math.max(5,u),15),c=3*f,d=jh((180-Math.min(1,Math.max(0,l*u))*180)/360,1,1),h={x:a.x+s*o.x,y:a.y+s*o.y};e.lineWidth=f,e.strokeStyle=d,e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(h.x,h.y),e.stroke();var v=Math.atan2(o.y,o.x);e.fillStyle=d,Xk.draw(e,{type:"arrow",point:h,angle:v,length:c}),Us(e).call(e)}}}]),n}(),Pl,Uae=new Uint8Array(16);function Gae(){if(!Pl&&(Pl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Pl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pl(Uae)}var qae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Kae(n){return typeof n=="string"&&qae.test(n)}var qt=[];for(var Od=0;Od<256;++Od)qt.push((Od+256).toString(16).substr(1));function Yae(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(qt[n[t+0]]+qt[n[t+1]]+qt[n[t+2]]+qt[n[t+3]]+"-"+qt[n[t+4]]+qt[n[t+5]]+"-"+qt[n[t+6]]+qt[n[t+7]]+"-"+qt[n[t+8]]+qt[n[t+9]]+"-"+qt[n[t+10]]+qt[n[t+11]]+qt[n[t+12]]+qt[n[t+13]]+qt[n[t+14]]+qt[n[t+15]]).toLowerCase();if(!Kae(e))throw TypeError("Stringified UUID is invalid");return e}function Ro(n,t,e){n=n||{};var r=n.random||(n.rng||Gae)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=r[i];return t}return Yae(r)}var ir=function(){function n(){ne(this,n)}return ie(n,null,[{key:"getRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,a=-1e9,o=1e9,s=-1e9,l;if(r.length>0)for(var u=0;u<r.length;u++)l=e[r[u]],o>l.shape.boundingBox.left&&(o=l.shape.boundingBox.left),s<l.shape.boundingBox.right&&(s=l.shape.boundingBox.right),i>l.shape.boundingBox.top&&(i=l.shape.boundingBox.top),a<l.shape.boundingBox.bottom&&(a=l.shape.boundingBox.bottom);return o===1e9&&s===-1e9&&i===1e9&&a===-1e9&&(i=0,a=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:a}}},{key:"getRangeCore",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,a=-1e9,o=1e9,s=-1e9,l;if(r.length>0)for(var u=0;u<r.length;u++)l=e[r[u]],o>l.x&&(o=l.x),s<l.x&&(s=l.x),i>l.y&&(i=l.y),a<l.y&&(a=l.y);return o===1e9&&s===-1e9&&i===1e9&&a===-1e9&&(i=0,a=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:a}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,r){var i={};return r===void 0||r==="node"?(it(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):it(i,e.options,!0),i}}]),n}();function Xae(n){var t=Qae();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Qae(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var Zae=function(n){Ve(e,n);var t=Xae(e);function e(r,i,a,o,s,l){var u;return ne(this,e),u=t.call(this,r,i,a,o,s,l),u.isCluster=!0,u.containedNodes={},u.containedEdges={},u}return ie(e,[{key:"_openChildCluster",value:function(i){var a=this,o=this.body.nodes[i];if(this.containedNodes[i]===void 0)throw new Error("node with id: "+i+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+i+" is not a cluster");delete this.containedNodes[i],Ne(o.edges,function(s){delete a.containedEdges[s.id]}),Ne(o.containedNodes,function(s,l){a.containedNodes[l]=s}),o.containedNodes={},Ne(o.containedEdges,function(s,l){a.containedEdges[l]=s}),o.containedEdges={},Ne(o.edges,function(s){Ne(a.edges,function(l){var u,f,c=He(u=l.clusteringEdgeReplacingIds).call(u,s.id);c!==-1&&(Ne(s.clusteringEdgeReplacingIds,function(d){l.clusteringEdgeReplacingIds.push(d),a.body.edges[d].edgeReplacedById=l.id}),Cn(f=l.clusteringEdgeReplacingIds).call(f,c,1))})}),o.edges=[]}}]),e}($r),Jae=function(){function n(t){var e=this;ne(this,n),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},At(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return ie(n,[{key:"clusterByHubsize",value:function(e,r){e===void 0?e=this._getHubSize():Je(e)==="object"&&(r=this._checkOptions(e),e=this._getHubSize());for(var i=[],a=0;a<this.body.nodeIndices.length;a++){var o=this.body.nodes[this.body.nodeIndices[a]];o.edges.length>=e&&i.push(o.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],r,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(r.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");r=this._checkOptions(r);var a={},o={};Ne(this.body.nodes,function(s,l){s.options&&r.joinCondition(s.options)===!0&&(a[l]=s,Ne(s.edges,function(u){e.clusteredEdges[u.id]===void 0&&(o[u.id]=u)}))}),this._cluster(a,o,r,i)}},{key:"clusterByEdgeCount",value:function(e,r){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);for(var o=[],s={},l,u,f,c=function(p){var y={},g={},m=i.body.nodeIndices[p],_=i.body.nodes[m];if(s[m]===void 0){f=0,u=[];for(var E=0;E<_.edges.length;E++)l=_.edges[E],i.clusteredEdges[l.id]===void 0&&(l.toId!==l.fromId&&f++,u.push(l));if(f===e){for(var b=function(A){if(r.joinCondition===void 0||r.joinCondition===null)return!0;var K=ir.cloneOptions(A);return r.joinCondition(K)},S=!0,O=0;O<u.length;O++){l=u[O];var I=i._getConnectedId(l,m);if(b(_))g[l.id]=l,y[m]=_,y[I]=i.body.nodes[I],s[m]=!0;else{S=!1;break}}if(bt(y).length>0&&bt(g).length>0&&S===!0){var w=function(){for(var A=0;A<o.length;++A)for(var K in y)if(o[A].nodes[K]!==void 0)return o[A]},k=w();if(k!==void 0){for(var R in y)k.nodes[R]===void 0&&(k.nodes[R]=y[R]);for(var T in g)k.edges[T]===void 0&&(k.edges[T]=g[T])}else o.push({nodes:y,edges:g})}}}},d=0;d<this.body.nodeIndices.length;d++)c(d);for(var h=0;h<o.length;h++)this._cluster(o[h].nodes,o[h].edges,r,!1);a===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}},{key:"clusterBridges",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}},{key:"clusterByConnection",value:function(e,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];r=this._checkOptions(r,o),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=o.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=o.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=o.options.fixed.x,r.clusterNodeProperties.fixed.y=o.options.fixed.y);var s={},l={},u=o.id,f=ir.cloneOptions(o);s[u]=o;for(var c=0;c<o.edges.length;c++){var d=o.edges[c];if(this.clusteredEdges[d.id]===void 0){var h=this._getConnectedId(d,u);if(this.clusteredNodes[h]===void 0)if(h!==u)if(r.joinCondition===void 0)l[d.id]=d,s[h]=this.body.nodes[h];else{var v=ir.cloneOptions(this.body.nodes[h]);r.joinCondition(f,v)===!0&&(l[d.id]=d,s[h]=this.body.nodes[h])}else l[d.id]=d}}var p=xa(i=bt(s)).call(i,function(E){return s[E].id});for(var y in s)if(Object.prototype.hasOwnProperty.call(s,y))for(var g=s[y],m=0;m<g.edges.length;m++){var _=g.edges[m];He(p).call(p,this._getConnectedId(_,g.id))>-1&&(l[_.id]=_)}this._cluster(s,l,r,a)}},{key:"_createClusterEdges",value:function(e,r,i,a){for(var o,s,l,u,f,c,d=bt(e),h=[],v=0;v<d.length;v++){s=d[v],l=e[s];for(var p=0;p<l.edges.length;p++)o=l.edges[p],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?r[o.id]=o:o.toId==s?(u=i.id,f=o.fromId,c=f):(u=o.toId,f=i.id,c=u),e[c]===void 0&&h.push({edge:o,fromId:f,toId:u}))}for(var y=[],g=function(O){for(var I=0;I<y.length;I++){var w=y[I],k=O.fromId===w.fromId&&O.toId===w.toId,R=O.fromId===w.toId&&O.toId===w.fromId;if(k||R)return w}return null},m=0;m<h.length;m++){var _=h[m],E=_.edge,b=g(_);b===null?(b=this._createClusteredEdge(_.fromId,_.toId,E,a),y.push(b)):b.clusteringEdgeReplacingIds.push(E.id),this.body.edges[E.id].edgeReplacedById=b.id,this._backupEdgeOptions(E),E.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&this.clusteredNodes[s]!==void 0&&o.push(s);for(var l=0;l<o.length;++l)delete e[o[l]];if(bt(e).length!=0&&!(bt(e).length==1&&i.clusterNodeProperties.allowSingleNodeCluster!=!0)){var u=it({},i.clusterNodeProperties);if(i.processProperties!==void 0){var f=[];for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var d=ir.cloneOptions(e[c]);f.push(d)}var h=[];for(var v in r)if(Object.prototype.hasOwnProperty.call(r,v)&&v.substr(0,12)!=="clusterEdge:"){var p=ir.cloneOptions(r[v],"edge");h.push(p)}if(u=i.processProperties(u,f,h),!u)throw new Error("The processProperties function does not return properties!")}u.id===void 0&&(u.id="cluster:"+Ro());var y=u.id;u.label===void 0&&(u.label="cluster");var g=void 0;u.x===void 0&&(g=this._getClusterPosition(e),u.x=g.x),u.y===void 0&&(g===void 0&&(g=this._getClusterPosition(e)),u.y=g.y),u.id=y;var m=this.body.functions.createNode(u,Zae);m.containedNodes=e,m.containedEdges=r,m.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[u.id]=m,this._clusterEdges(e,r,u,i.clusterEdgeProperties),u.id=void 0,a===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var r=bt(e),i=e[r[0]].x,a=e[r[0]].x,o=e[r[0]].y,s=e[r[0]].y,l,u=1;u<r.length;u++)l=e[r[u]],i=l.x<i?l.x:i,a=l.x>a?l.x:a,o=l.y<o?l.y:o,s=l.y>s?l.y:s;return{x:.5*(i+a),y:.5*(o+s)}}},{key:"openCluster",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var a=this.body.nodes[e];if(a===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(a.isCluster!==!0||a.containedNodes===void 0||a.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),s=He(o).call(o,e)-1;if(s>=0){var l=o[s],u=this.body.nodes[l];u._openChildCluster(e),delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged");return}var f=a.containedNodes,c=a.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){var d={},h={x:a.x,y:a.y};for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)){var p=this.body.nodes[v];d[v]={x:p.x,y:p.y}}var y=r.releaseFunction(h,d);for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){var m=this.body.nodes[g];y[g]!==void 0&&(m.x=y[g].x===void 0?a.x:y[g].x,m.y=y[g].y===void 0?a.y:y[g].y)}}else Ne(f,function(L){L.options.fixed.x===!1&&(L.x=a.x),L.options.fixed.y===!1&&(L.y=a.y)});for(var _ in f)if(Object.prototype.hasOwnProperty.call(f,_)){var E=this.body.nodes[_];E.vx=a.vx,E.vy=a.vy,E.setOptions({physics:!0}),delete this.clusteredNodes[_]}for(var b=[],S=0;S<a.edges.length;S++)b.push(a.edges[S]);for(var O=0;O<b.length;O++){for(var I=b[O],w=this._getConnectedId(I,e),k=this.clusteredNodes[w],R=0;R<I.clusteringEdgeReplacingIds.length;R++){var T=I.clusteringEdgeReplacingIds[R],P=this.body.edges[T];if(P!==void 0)if(k!==void 0){var A=this.body.nodes[k.clusterId];A.containedEdges[P.id]=P,delete c[P.id];var K=P.fromId,U=P.toId;P.toId==w?U=k.clusterId:K=k.clusterId,this._createClusteredEdge(K,U,P,A.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(P)}I.remove()}for(var fe in c)Object.prototype.hasOwnProperty.call(c,fe)&&this._restoreEdge(c[fe]);delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var r=[];if(this.isCluster(e)===!0){var i=this.body.nodes[e].containedNodes;for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(this.body.nodes[a].id)}return r}},{key:"findNode",value:function(e){for(var r=[],i=100,a=0,o;this.clusteredNodes[e]!==void 0&&a<i;){if(o=this.body.nodes[e],o===void 0)return[];r.push(o.id),e=this.clusteredNodes[e].clusterId,a++}return o=this.body.nodes[e],o===void 0?[]:(r.push(o.id),Di(r).call(r),r)}},{key:"updateClusteredNode",value:function(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(e),a=0;a<i.length;a++){var o=this.body.edges[i[a]];o.setOptions(r)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var r=[],i=100,a=0;e!==void 0&&this.body.edges[e]!==void 0&&a<i;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,a++;return Di(r).call(r),r}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var r=[e],i=[],a=[],o=100,s=0;r.length>0&&s<o;){var l=r.pop();if(l!==void 0){var u=this.body.edges[l];if(u!==void 0){s++;var f=u.clusteringEdgeReplacingIds;if(f===void 0)a.push(l);else for(var c=0;c<f.length;++c){var d=f[c];He(r).call(r,f)!==-1||He(i).call(i,f)!==-1||r.push(d)}i.push(l)}}}return a}},{key:"_getConnectedId",value:function(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,r=0,i=0,a=0,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>a&&(a=s.edges.length),e+=s.edges.length,r+=Math.pow(s.edges.length,2),i+=1}e=e/i,r=r/i;var l=r-Math.pow(e,2),u=Math.sqrt(l),f=Math.floor(e+2*u);return f>a&&(f=a),f}},{key:"_createClusteredEdge",value:function(e,r,i,a,o){var s=ir.cloneOptions(i,"edge");it(s,a),s.from=e,s.to=r,s.id="clusterEdge:"+Ro(),o!==void 0&&it(s,o);var l=this.body.functions.createEdge(s);return l.clusteringEdgeReplacingIds=[i.id],l.connect(),this.body.edges[l.id]=l,l}},{key:"_clusterEdges",value:function(e,r,i,a){if(r instanceof Ca){var o=r,s={};s[o.id]=o,r=s}if(e instanceof $r){var l=e,u={};u[l.id]=l,e=u}if(i==null)throw new Error("_clusterEdges: parameter clusterNode required");a===void 0&&(a=i.clusterEdgeProperties),this._createClusterEdges(e,r,i,a);for(var f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&this.body.edges[f]!==void 0){var c=this.body.edges[f];this._backupEdgeOptions(c),c.setOptions({physics:!1})}for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(this.clusteredNodes[d]={clusterId:i.id,node:this.body.nodes[d]},this.body.nodes[d].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var r=this.clusteredNodes[e];if(r!==void 0){var i=r.clusterId;if(i!==void 0)return this.body.nodes[i]}}}},{key:"_filter",value:function(e,r){var i=[];return Ne(e,function(a){r(a)&&i.push(a)}),i}},{key:"_updateState",value:function(){var e=this,r,i=[],a={},o=function(v){Ne(e.body.nodes,function(p){p.isCluster===!0&&v(p)})};for(r in this.clusteredNodes)if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,r)){var s=this.body.nodes[r];s===void 0&&i.push(r)}o(function(h){for(var v=0;v<i.length;v++)delete h.containedNodes[i[v]]});for(var l=0;l<i.length;l++)delete this.clusteredNodes[i[l]];Ne(this.clusteredEdges,function(h){var v=e.body.edges[h];(v===void 0||!v.endPointsValid())&&(a[h]=h)}),o(function(h){Ne(h.containedEdges,function(v,p){!v.endPointsValid()&&!a[p]&&(a[p]=p)})}),Ne(this.body.edges,function(h,v){var p=!0,y=h.clusteringEdgeReplacingIds;if(y!==void 0){var g=0;Ne(y,function(m){var _=e.body.edges[m];_!==void 0&&_.endPointsValid()&&(g+=1)}),p=g>0}(!h.endPointsValid()||!p)&&(a[v]=v)}),o(function(h){Ne(a,function(v){delete h.containedEdges[v],Ne(h.edges,function(p,y){if(p.id===v){h.edges[y]=null;return}p.clusteringEdgeReplacingIds=e._filter(p.clusteringEdgeReplacingIds,function(g){return!a[g]})}),h.edges=e._filter(h.edges,function(p){return p!==null})})}),Ne(a,function(h){delete e.clusteredEdges[h]}),Ne(a,function(h){delete e.body.edges[h]});var u=bt(this.body.edges);Ne(u,function(h){var v=e.body.edges[h],p=e._isClusteredNode(v.fromId)||e._isClusteredNode(v.toId);if(p!==e._isClusteredEdge(v.id))if(p){var y=e._getClusterNodeForNode(v.fromId);y!==void 0&&e._clusterEdges(e.body.nodes[v.fromId],v,y);var g=e._getClusterNodeForNode(v.toId);g!==void 0&&e._clusterEdges(e.body.nodes[v.toId],v,g)}else delete e._clusterEdges[h],e._restoreEdge(v)});for(var f=!1,c=!0,d=function(){var v=[];o(function(y){var g=bt(y.containedNodes).length,m=y.options.allowSingleNodeCluster===!0;(m&&g<1||!m&&g<2)&&v.push(y.id)});for(var p=0;p<v.length;++p)e.openCluster(v[p],{},!1);c=v.length>0,f=f||c};c;)d();f&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),n}();function eoe(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=toe(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function toe(n,t){var e;if(n){if(typeof n=="string")return x0(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(n,t)}}function x0(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function roe(){var n;window!==void 0&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),n===void 0?window.requestAnimationFrame=function(t){t()}:window.requestAnimationFrame=n}var noe=function(){function n(t,e){ne(this,n),roe(),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},At(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return ie(n,[{key:"bindEventListeners",value:function(){var e=this,r;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=dn(function(){var i;e.zooming=!1,Z(i=e._requestRedraw).call(i,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Z(r=this._requestRedraw).call(r,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(e!==void 0){var r=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];fo(r,this.options,e)}}},{key:"_requestNextFrame",value:function(e,r){if(!(typeof window>"u")){var i,a=window;return this.requiresTimeout===!0?i=dn(e,r):a.requestAnimationFrame&&(i=a.requestAnimationFrame(e)),i}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var e;this.renderTimer=this._requestNextFrame(Z(e=this._renderStep).call(e,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),a=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,a,o),this.canvas.frame.clientWidth===0)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(i),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var s=this._drawNodes(i,e),l=s.drawExternalLabels;r.drawExternalLabels=l}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(i),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),e===!0&&i.clearRect(0,0,a,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var r=this.body.nodes,i;for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i=r[a],i.resize(e),i.updateBoundingBox(e,i.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.body.nodes,a=this.body.nodeIndices,o,s=[],l=[],u=20,f=this.canvas.DOMtoCanvas({x:-u,y:-u}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),d={top:f.y,left:f.x,bottom:c.y,right:c.x},h=[],v=0;v<a.length;v++)if(o=i[a[v]],o.hover)l.push(a[v]);else if(o.isSelected())s.push(a[v]);else if(r===!0){var p=o.draw(e);p.drawExternalLabel!=null&&h.push(p.drawExternalLabel)}else if(o.isBoundingBoxOverlappingWith(d)===!0){var y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else o.updateBoundingBox(e,o.selected);var g,m=s.length,_=l.length;for(g=0;g<m;g++){o=i[s[g]];var E=o.draw(e);E.drawExternalLabel!=null&&h.push(E.drawExternalLabel)}for(g=0;g<_;g++){o=i[l[g]];var b=o.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}return{drawExternalLabels:function(){var O=eoe(h),I;try{for(O.s();!(I=O.n()).done;){var w=I.value;w()}}catch(k){O.e(k)}finally{O.f()}}}}},{key:"_drawEdges",value:function(e){for(var r=this.body.edges,i=this.body.edgeIndices,a=0;a<i.length;a++){var o=r[i[a]];o.connected===!0&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var r=this.body.edges,i=this.body.edgeIndices,a=0;a<i.length;a++){var o=r[i[a]];o.connected===!0&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,He(e).call(e,"msie 9.0")!=-1?this.requiresTimeout=!0:He(e).call(e,"safari")!=-1&&He(e).call(e,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),n}(),ioe=je,aoe=ioe.setInterval,ooe=aoe;function Ou(n,t){t.inputHandler=function(e){e.isFirst&&t(e)},n.on("hammer.input",t.inputHandler)}function Jk(n,t){return t.inputHandler=function(e){e.isFinal&&t(e)},n.on("hammer.input",t.inputHandler)}var soe=function(){function n(t){ne(this,n),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},At(this.options,this.defaultOptions),this.bindEventListeners()}return ie(n,[{key:"bindEventListeners",value:function(){var e=this,r;this.body.emitter.once("resize",function(i){i.width!==0&&(e.body.view.translation.x=i.width*.5),i.height!==0&&(e.body.view.translation.y=i.height*.5)}),this.body.emitter.on("setSize",Z(r=this.setSize).call(r,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var r=this;if(e!==void 0){var i=["width","height","autoResize"];fo(i,this.options,e)}if(this._cleanUp(),this.options.autoResize===!0){var a;if(window.ResizeObserver){var o=new ResizeObserver(function(){var f=r.setSize();f===!0&&r.body.emitter.emit("_requestRedraw")}),s=this.frame;o.observe(s),this._cleanupCallbacks.push(function(){o.unobserve(s)})}else{var l=ooe(function(){var f=r.setSize();f===!0&&r.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(l)})}var u=Z(a=this._onResize).call(a,this);LJ(window,"resize",u),this._cleanupCallbacks.push(function(){xJ(window,"resize",u)})}}},{key:"_cleanUp",value:function(){var e,r,i;et(e=Di(r=Cn(i=this._cleanupCallbacks).call(i,0)).call(r)).call(e,function(a){try{a()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;e!=1&&r!=1?i=this.cameraState.scale*.5*(e+r):e!=1?i=this.cameraState.scale*e:r!=1&&(i=this.cameraState.scale*r),this.body.view.scale=i;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(He(e).call(e,"%")!==-1||He(e).call(e,"px")!==-1)return e;if(He(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Ia(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Ia.DIRECTION_ALL}),Ou(this.hammer,function(r){e.body.eventListeners.onTouch(r)}),this.hammer.on("tap",function(r){e.body.eventListeners.onTap(r)}),this.hammer.on("doubletap",function(r){e.body.eventListeners.onDoubleTap(r)}),this.hammer.on("press",function(r){e.body.eventListeners.onHold(r)}),this.hammer.on("panstart",function(r){e.body.eventListeners.onDragStart(r)}),this.hammer.on("panmove",function(r){e.body.eventListeners.onDrag(r)}),this.hammer.on("panend",function(r){e.body.eventListeners.onDragEnd(r)}),this.hammer.on("pinch",function(r){e.body.eventListeners.onPinch(r)}),this.frame.canvas.addEventListener("wheel",function(r){e.body.eventListeners.onMouseWheel(r)}),this.frame.canvas.addEventListener("mousemove",function(r){e.body.eventListeners.onMouseMove(r)}),this.frame.canvas.addEventListener("contextmenu",function(r){e.body.eventListeners.onContext(r)}),this.hammerFrame=new Ia(this.frame),Jk(this.hammerFrame,function(r){e.body.eventListeners.onRelease(r)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);var i=!1,a=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==l||this.frame.canvas.height!==u)&&this._getCameraState(s),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,i=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,i=!0)}return i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);var i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/i}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),n}();function loe(n,t){var e=At({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},n??{});if(!Ge(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(e.nodes.length===0&&(e.nodes=t),!(typeof e.minZoomLevel=="number"&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof e.maxZoomLevel=="number"&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}var uoe=function(){function n(t,e){var r,i=this,a;ne(this,n),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Z(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",function(){i.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Z(a=this.releaseNode).call(a,this))}return ie(n,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=loe(e,this.body.nodeIndices);var i=this.canvas.frame.canvas.clientWidth,a=this.canvas.frame.canvas.clientHeight,o,s;if(i===0||a===0)s=1,o=ir.getRange(this.body.nodes,e.nodes);else if(r===!0){var l=0;for(var u in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,u)){var f=this.body.nodes[u];f.predefinedPosition===!0&&(l+=1)}if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}o=ir.getRange(this.body.nodes,e.nodes);var c=this.body.nodeIndices.length;s=12.662/(c+7.4147)+.0964822;var d=Math.min(i/600,a/600);s*=d}else{this.body.emitter.emit("_resizeNodes"),o=ir.getRange(this.body.nodes,e.nodes);var h=Math.abs(o.maxX-o.minX)*1.1,v=Math.abs(o.maxY-o.minY)*1.1,p=i/h,y=a/v;s=p<=y?p:y}s>e.maxZoomLevel?s=e.maxZoomLevel:s<e.minZoomLevel&&(s=e.minZoomLevel);var g=ir.findCenter(o),m={position:g,scale:s,animation:e.animation};this.moveTo(m)}},{key:"focus",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=i,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ii(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ii(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ii(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ii(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var a;this.viewFunction=Z(a=this._lockedRedraw).call(a,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var o;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Z(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.x,y:r.y-e.y},a=this.body.view.translation,o={x:a.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:a.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var r=HJ[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var i;this.viewFunction=Z(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}();function z0(n){var t=n&&n.preventDefault||!1,e=n&&n.container||window,r={},i={keydown:{},keyup:{}},a={},o;for(o=97;o<=122;o++)a[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)a[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)a[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)a["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)a["num"+o]={code:96+o,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var s=function(f){u(f,"keydown")},l=function(f){u(f,"keyup")},u=function(f,c){if(i[c][f.keyCode]!==void 0){for(var d=i[c][f.keyCode],h=0;h<d.length;h++)(d[h].shift===void 0||d[h].shift==!0&&f.shiftKey==!0||d[h].shift==!1&&f.shiftKey==!1)&&d[h].fn(f);t==!0&&f.preventDefault()}};return r.bind=function(f,c,d){if(d===void 0&&(d="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);i[d][a[f].code]===void 0&&(i[d][a[f].code]=[]),i[d][a[f].code].push({fn:c,shift:a[f].shift})},r.bindAll=function(f,c){c===void 0&&(c="keydown");for(var d in a)a.hasOwnProperty(d)&&r.bind(d,f,c)},r.getKey=function(f){for(var c in a)if(a.hasOwnProperty(c)){if(f.shiftKey==!0&&a[c].shift==!0&&f.keyCode==a[c].code)return c;if(f.shiftKey==!1&&a[c].shift==!1&&f.keyCode==a[c].code)return c;if(f.keyCode==a[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(f,c,d){if(d===void 0&&(d="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);if(c!==void 0){var h=[],v=i[d][a[f].code];if(v!==void 0)for(var p=0;p<v.length;p++)v[p].fn==c&&v[p].shift==a[f].shift||h.push(i[d][a[f].code][p]);i[d][a[f].code]=h}else i[d][a[f].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},e.removeEventListener("keydown",s,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",s,!0),e.addEventListener("keyup",l,!0),r}var foe=function(){function n(t,e){var r=this;ne(this,n),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){r.activated=!0,r.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){r.activated=!1,r.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){r.keycharm!==void 0&&r.keycharm.destroy()}),this.options={}}return ie(n,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var r=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<r.length;a++){this.navigationDOM[r[a]]=document.createElement("div"),this.navigationDOM[r[a]].className="vis-button vis-"+r[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[r[a]]);var o=new Ia(this.navigationDOM[r[a]]);if(i[a]==="_fit"){var s;Ou(o,Z(s=this._fit).call(s,this))}else{var l;Ou(o,Z(l=this.bindToRedraw).call(l,this,i[a]))}this.navigationHammers.push(o)}var u=new Ia(this.canvas.frame);Jk(u,function(){e._stopMovement()}),this.navigationHammers.push(u),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=Z(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,a=r/e,o=(1-a)*this.canvas.canvasViewCenter.x+i.x*a,s=(1-a)*this.canvas.canvasViewCenter.y+i.y*a;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,a=r/e,o=(1-a)*this.canvas.canvasViewCenter.x+i.x*a,s=(1-a)*this.canvas.canvasViewCenter.y+i.y*a;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=z0({container:window,preventDefault:!0}):this.keycharm=z0({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var r,i,a,o,s,l,u,f,c,d,h,v,p,y,g,m,_,E,b,S,O,I,w,k;Z(r=this.keycharm).call(r,"up",function(){e.bindToRedraw("_moveUp")},"keydown"),Z(i=this.keycharm).call(i,"down",function(){e.bindToRedraw("_moveDown")},"keydown"),Z(a=this.keycharm).call(a,"left",function(){e.bindToRedraw("_moveLeft")},"keydown"),Z(o=this.keycharm).call(o,"right",function(){e.bindToRedraw("_moveRight")},"keydown"),Z(s=this.keycharm).call(s,"=",function(){e.bindToRedraw("_zoomIn")},"keydown"),Z(l=this.keycharm).call(l,"num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),Z(u=this.keycharm).call(u,"num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Z(f=this.keycharm).call(f,"-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Z(c=this.keycharm).call(c,"[",function(){e.bindToRedraw("_zoomOut")},"keydown"),Z(d=this.keycharm).call(d,"]",function(){e.bindToRedraw("_zoomIn")},"keydown"),Z(h=this.keycharm).call(h,"pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),Z(v=this.keycharm).call(v,"pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),Z(p=this.keycharm).call(p,"up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),Z(y=this.keycharm).call(y,"down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),Z(g=this.keycharm).call(g,"left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),Z(m=this.keycharm).call(m,"right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),Z(_=this.keycharm).call(_,"=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Z(E=this.keycharm).call(E,"num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Z(b=this.keycharm).call(b,"num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Z(S=this.keycharm).call(S,"-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Z(O=this.keycharm).call(O,"[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Z(I=this.keycharm).call(I,"]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Z(w=this.keycharm).call(w,"pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Z(k=this.keycharm).call(k,"pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}]),n}();function coe(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=doe(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function doe(n,t){var e;if(n){if(typeof n=="string")return j0(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(n,t)}}function j0(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var hoe=function(){function n(t,e,r){var i,a,o,s,l,u,f,c,d,h,v,p,y;ne(this,n),this.body=t,this.canvas=e,this.selectionHandler=r,this.navigationHandler=new foe(t,e),this.body.eventListeners.onTap=Z(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=Z(a=this.onTouch).call(a,this),this.body.eventListeners.onDoubleTap=Z(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=Z(s=this.onHold).call(s,this),this.body.eventListeners.onDragStart=Z(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Z(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Z(f=this.onDragEnd).call(f,this),this.body.eventListeners.onMouseWheel=Z(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=Z(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=Z(h=this.onMouseMove).call(h,this),this.body.eventListeners.onRelease=Z(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=Z(p=this.onContext).call(p,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Z(y=this.getPointer).call(y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},At(this.options,this.defaultOptions),this.bindEventListeners()}return ie(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(e!==void 0){var r=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];wu(r,this.options,e),Ar(this.options,e,"keyboard"),e.tooltip&&(At(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=zh(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-FJ(this.canvas.frame.canvas),y:e.y-BJ(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}},{key:"onDoubleTap",value:function(e){var r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}},{key:"onHold",value:function(e){var r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}},{key:"checkSelectionChanges",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,r){var i=function(o,s){for(var l=[],u=0;u<o.length;u++){var f=o[u];He(s).call(s,f)===-1&&l.push(f)}return l};return{nodes:i(e.nodes,r.nodes),edges:i(e.edges,r.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=At({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var a=coe(this.selectionHandler.getSelectedNodes()),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0,s.options.fixed.y=!0,this.drag.selection.push(l)}}catch(u){a.e(u)}finally{a.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var r=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var i=this.getPointer(e.center),a=this.drag.selection;if(a&&a.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,i);var o=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;et(a).call(a,function(f){var c=f.node;f.xFixed===!1&&(c.x=r.canvas._XconvertDOMtoCanvas(r.canvas._XconvertCanvasToDOM(f.x)+o)),f.yFixed===!1&&(c.y=r.canvas._YconvertDOMtoCanvas(r.canvas._YconvertCanvasToDOM(f.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}var l=i.x-this.drag.pointer.x,u=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+l,y:this.drag.translation.y+u},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var r=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var a=this.body.selectionBox.position,o={minX:Math.min(a.start.x,a.end.x),minY:Math.min(a.start.y,a.end.y),maxX:Math.max(a.start.x,a.end.x),maxY:Math.max(a.start.y,a.end.y)},s=gr(i=this.body.nodeIndices).call(i,function(f){var c=r.body.nodes[f];return c.x>=o.minX&&c.x<=o.maxX&&c.y>=o.minY&&c.y<=o.maxY});et(s).call(s,function(f){return r.selectionHandler.selectObject(r.body.nodes[f])});var l=this.getPointer(e.center);this.selectionHandler.commitAndEmit(l,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var u=this.drag.selection;u&&u.length?(et(u).call(u,function(f){f.node.options.fixed.x=f.xFixed,f.node.options.fixed.y=f.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var i=this.pinch.scale*e.scale;this.zoom(i,r)}},{key:"zoom",value:function(e,r){if(this.options.zoomView===!0){var i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var a=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,s=e/i,l=(1-s)*r.x+o.x*s,u=(1-s)*r.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:l,y:u},a!=null){var f=this.canvas.canvasToDOM(a);this.drag.pointer.x=f.x,this.drag.pointer.y=f.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,i)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var r=this,i=this.getPointer({x:e.clientX,y:e.clientY}),a=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(a=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),a===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=dn(function(){return r._checkShowPopup(i)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,i)}},{key:"_checkShowPopup",value:function(e){var r=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),a={left:r,top:i,right:r,bottom:i},o=this.popupObj===void 0?void 0:this.popupObj.id,s=!1,l="node";if(this.popupObj===void 0){for(var u=this.body.nodeIndices,f=this.body.nodes,c,d=[],h=0;h<u.length;h++)c=f[u[h]],c.isOverlappingWith(a)===!0&&(s=!0,c.getTitle()!==void 0&&d.push(u[h]));d.length>0&&(this.popupObj=f[d[d.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){for(var v=this.body.edgeIndices,p=this.body.edges,y,g=[],m=0;m<v.length;m++)y=p[v[m]],y.isOverlappingWith(a)===!0&&y.connected===!0&&y.getTitle()!==void 0&&g.push(v[m]);g.length>0&&(this.popupObj=p[g[g.length-1]],l="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new XJ(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var r=this.selectionHandler._pointerToPositionObject(e),i=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),i===!0)){var a=this.selectionHandler.getNodeAt(e);i=a===void 0?!1:a.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),n}(),voe=kp,poe=Bk;voe("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},poe);var goe=je,moe=goe.Set,yoe=moe,boe=yoe,Ei=boe,_oe=We,H0=Ep,Al=Qs.exports.getWeakData,$oe=Ir,Td=Vt,woe=wp,koe=$p,eE=hi,W0=Jt,tE=ra,Eoe=tE.set,Soe=tE.getterFor,Ooe=eE.find,Toe=eE.findIndex,Ioe=_oe([].splice),Coe=0,Ml=function(n){return n.frozen||(n.frozen=new rE)},rE=function(){this.entries=[]},Id=function(n,t){return Ooe(n.entries,function(e){return e[0]===t})};rE.prototype={get:function(n){var t=Id(this,n);if(t)return t[1]},has:function(n){return!!Id(this,n)},set:function(n,t){var e=Id(this,n);e?e[1]=t:this.entries.push([n,t])},delete:function(n){var t=Toe(this.entries,function(e){return e[0]===n});return~t&&Ioe(this.entries,t,1),!!~t}};var Poe={getConstructor:function(n,t,e,r){var i=n(function(l,u){woe(l,a),Eoe(l,{type:t,id:Coe++,frozen:void 0}),u!=null&&koe(u,l[r],{that:l,AS_ENTRIES:e})}),a=i.prototype,o=Soe(t),s=function(l,u,f){var c=o(l),d=Al($oe(u),!0);return d===!0?Ml(c).set(u,f):d[c.id]=f,l};return H0(a,{delete:function(l){var u=o(this);if(!Td(l))return!1;var f=Al(l);return f===!0?Ml(u).delete(l):f&&W0(f,u.id)&&delete f[u.id]},has:function(u){var f=o(this);if(!Td(u))return!1;var c=Al(u);return c===!0?Ml(f).has(u):c&&W0(c,f.id)}}),H0(a,e?{get:function(u){var f=o(this);if(Td(u)){var c=Al(u);return c===!0?Ml(f).get(u):c?c[f.id]:void 0}},set:function(u,f){return s(this,u,f)}}:{add:function(u){return s(this,u,!0)}}),i}},V0=we,Dl=We,Aoe=Ep,Moe=Qs.exports,Doe=kp,nE=Poe,Rl=Vt,Nl=Dk,Fl=ra.enforce,Roe=F2,Noe=!V0.ActiveXObject&&"ActiveXObject"in V0,wo,iE=function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},Foe=Doe("WeakMap",iE,nE);if(Roe&&Noe){wo=nE.getConstructor(iE,"WeakMap",!0),Moe.enable();var ko=Foe.prototype,U0=Dl(ko.delete),Bl=Dl(ko.has),G0=Dl(ko.get),q0=Dl(ko.set);Aoe(ko,{delete:function(n){if(Rl(n)&&!Nl(n)){var t=Fl(this);return t.frozen||(t.frozen=new wo),U0(this,n)||t.frozen.delete(n)}return U0(this,n)},has:function(t){if(Rl(t)&&!Nl(t)){var e=Fl(this);return e.frozen||(e.frozen=new wo),Bl(this,t)||e.frozen.has(t)}return Bl(this,t)},get:function(t){if(Rl(t)&&!Nl(t)){var e=Fl(this);return e.frozen||(e.frozen=new wo),Bl(this,t)?G0(this,t):e.frozen.get(t)}return G0(this,t)},set:function(t,e){if(Rl(t)&&!Nl(t)){var r=Fl(this);r.frozen||(r.frozen=new wo),Bl(this,t)?q0(this,t,e):r.frozen.set(t,e)}else q0(this,t,e);return this}})}var Boe=je,Loe=Boe.WeakMap,xoe=Loe,zoe=xoe,No=zoe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nt(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function qh(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}function Kh(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=joe(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function joe(n,t){var e;if(n){if(typeof n=="string")return K0(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K0(n,t)}}function K0(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var ki,Cr,Gn,qn,Jl;function Y0(n,t){var e=new Ei,r=Kh(t),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;n.has(a)||e.add(a)}}catch(o){r.e(o)}finally{r.f()}return e}var X0=function(){function n(){ne(this,n),ki.set(this,new Ei),Cr.set(this,new Ei)}return ie(n,[{key:"size",get:function(){return nt(this,Cr,"f").size}},{key:"add",value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];nt(this,Cr,"f").add(s)}}},{key:"delete",value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];nt(this,Cr,"f").delete(s)}}},{key:"clear",value:function(){nt(this,Cr,"f").clear()}},{key:"getSelection",value:function(){return an(nt(this,Cr,"f"))}},{key:"getChanges",value:function(){return{added:an(Y0(nt(this,ki,"f"),nt(this,Cr,"f"))),deleted:an(Y0(nt(this,Cr,"f"),nt(this,ki,"f"))),previous:an(new Ei(nt(this,ki,"f"))),current:an(new Ei(nt(this,Cr,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();qh(this,ki,nt(this,Cr,"f"),"f"),qh(this,Cr,new Ei(nt(this,ki,"f")),"f");var r=Kh(e.added),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;a.select()}}catch(u){r.e(u)}finally{r.f()}var o=Kh(e.deleted),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.unselect()}}catch(u){o.e(u)}finally{o.f()}return e}}]),n}();ki=new No,Cr=new No;var Hoe=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};ne(this,n),Gn.set(this,new X0),qn.set(this,new X0),Jl.set(this,void 0),qh(this,Jl,t,"f")}return ie(n,[{key:"sizeNodes",get:function(){return nt(this,Gn,"f").size}},{key:"sizeEdges",get:function(){return nt(this,qn,"f").size}},{key:"getNodes",value:function(){return nt(this,Gn,"f").getSelection()}},{key:"getEdges",value:function(){return nt(this,qn,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=nt(this,Gn,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=nt(this,qn,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){nt(this,Gn,"f").delete(e)}},{key:"deleteEdges",value:function(e){nt(this,qn,"f").delete(e)}},{key:"clear",value:function(){nt(this,Gn,"f").clear(),nt(this,qn,"f").clear()}},{key:"commit",value:function(){for(var e,r,i={nodes:nt(this,Gn,"f").commit(),edges:nt(this,qn,"f").commit()},a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=nt(this,Jl,"f")).call.apply(e,op(r=[this,i]).call(r,o)),i}}]),n}();Gn=new No,qn=new No,Jl=new No;function Q0(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=Woe(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function Woe(n,t){var e;if(n){if(typeof n=="string")return Z0(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z0(n,t)}}function Z0(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var Voe=function(){function n(t,e){var r=this;ne(this,n),this.body=t,this.canvas=e,this._selectionAccumulator=new Hoe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},At(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){r.updateSelection()})}return ie(n,[{key:"setOptions",value:function(e){if(e!==void 0){var r=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];fo(r,this.options,e)}}},{key:"selectOnPoint",value:function(e){var r=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),i!==void 0&&(r=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return r}},{key:"selectAdditionalOnPoint",value:function(e){var r=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);i!==void 0&&(r=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return r}},{key:"_initBaseEvent",value:function(e,r){var i={};return i.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},i.event=e,i}},{key:"generateClickEvent",value:function(e,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=this._initBaseEvent(r,i);if(o===!0)s.nodes=[],s.edges=[];else{var l=this.getSelection();s.nodes=l.nodes,s.edges=l.edges}a!==void 0&&(s.previousSelection=a),e=="click"&&(s.items=this.getClickedItems(i)),r.controlEdge!==void 0&&(s.controlEdge=r.controlEdge),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof $r){if(r===!0){var i;(i=this._selectionAccumulator).addEdges.apply(i,an(e.edges))}this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var r=[],i=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var o=this.body.nodeIndices[a];i[o].isOverlappingWith(e)&&r.push(o)}return r}},{key:"_pointerToPositionObject",value:function(e){var r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}},{key:"getNodeAt",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this._pointerToPositionObject(e),a=this._getAllNodesOverlappingWith(i);if(a.length>0)return r===!0?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(e,r){for(var i=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var o=this.body.edgeIndices[a];i[o].isOverlappingWith(e)&&r.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var r=[];return this._getEdgesOverlappingWith(e,r),r}},{key:"getEdgeAt",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this.canvas.DOMtoCanvas(e),a=10,o=null,s=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var u=this.body.edgeIndices[l],f=s[u];if(f.connected){var c=f.from.x,d=f.from.y,h=f.to.x,v=f.to.y,p=f.edgeType.getDistanceToEdge(c,d,h,v,i.x,i.y);p<a&&(o=u,a=p)}}if(o!==null)return r===!0?this.body.edges[o]:o}},{key:"_addToHover",value:function(e){e instanceof $r?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){if(e instanceof $r){var r;this._selectionAccumulator.deleteNodes(e),(r=this._selectionAccumulator).deleteEdges.apply(r,an(e.edges))}else this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var r=0;r<e.edges.length;r++){var i=e.edges[r];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(e,r,i){var a=this._initBaseEvent(e,r);i.hover===!0&&(i.hover=!1,i instanceof $r?(a.node=i.id,this.body.emitter.emit("blurNode",a)):(a.edge=i.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(e,r,i){var a=this._initBaseEvent(e,r),o=!1;return i.hover===!1&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof $r?(a.node=i.id,this.body.emitter.emit("hoverNode",a)):(a.edge=i.id,this.body.emitter.emit("hoverEdge",a))),o}},{key:"hoverObject",value:function(e,r){var i=this.getNodeAt(r);i===void 0&&(i=this.getEdgeAt(r));var a=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(i===void 0||i instanceof $r&&i.id!=o||i instanceof Ca)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],a=!0);for(var s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(a===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(i===void 0||i instanceof Ca&&i.id!=s||i instanceof $r&&!i.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],a=!0));if(i!==void 0){var l=bt(this.hoverObj.edges).length,u=bt(this.hoverObj.nodes).length,f=i instanceof Ca&&l===0&&u===0,c=i instanceof $r&&l===0&&u===0;(a||f||c)&&(a=this.emitHoverEvent(e,r,i)),i instanceof $r&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(i)}a===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,r){var i=!1,a=this._selectionAccumulator.commit(),o={nodes:a.nodes.previous,edges:a.edges.previous};a.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,o),i=!0),a.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,o),i=!0),a.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),i=!0),a.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),i=!0),i===!0&&this.generateClickEvent("select",r,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return xa(e=this._selectionAccumulator.getNodes()).call(e,function(r){return r.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return xa(e=this._selectionAccumulator.getEdges()).call(e,function(r){return r.id})}},{key:"setSelection",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes){var i=Q0(e.nodes),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=this.body.nodes[o];if(!s)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(s,r.highlightEdges)}}catch(d){i.e(d)}finally{i.f()}}if(e.edges){var l=Q0(e.edges),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,c=this.body.edges[f];if(!c)throw new RangeError('Edge with id "'+f+'" not found');this.selectObject(c)}}catch(d){l.e(d)}finally{l.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var r in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,r.id)||this._selectionAccumulator.deleteEdges(r)}},{key:"getClickedItems",value:function(e){for(var r=this.canvas.DOMtoCanvas(e),i=[],a=this.body.nodeIndices,o=this.body.nodes,s=a.length-1;s>=0;s--){var l=o[a[s]],u=l.getItemsOnPoint(r);i.push.apply(i,u)}for(var f=this.body.edgeIndices,c=this.body.edges,d=f.length-1;d>=0;d--){var h=c[f[d]],v=h.getItemsOnPoint(r);i.push.apply(i,v)}return i}}]),n}(),J0=o5,Uoe=Math.floor,Yh=function(n,t){var e=n.length,r=Uoe(e/2);return e<8?Goe(n,t):qoe(n,Yh(J0(n,0,r),t),Yh(J0(n,r),t),t)},Goe=function(n,t){for(var e=n.length,r=1,i,a;r<e;){for(a=r,i=n[r];a&&t(n[a-1],i)>0;)n[a]=n[--a];a!==r++&&(n[a]=i)}return n},qoe=function(n,t,e,r){for(var i=t.length,a=e.length,o=0,s=0;o<i||s<a;)n[o+s]=o<i&&s<a?r(t[o],e[s])<=0?t[o++]:e[s++]:o<i?t[o++]:e[s++];return n},Koe=Yh,Yoe=Ps,eb=Yoe.match(/firefox\/(\d+)/i),Xoe=!!eb&&+eb[1],Qoe=Ps,Zoe=/MSIE|Trident/.test(Qoe),Joe=Ps,tb=Joe.match(/AppleWebKit\/(\d+)\./),ese=!!tb&&+tb[1],tse=Te,aE=We,rse=to,nse=Or,ise=rn,rb=ci,Cp=Ke,ase=Koe,ose=lo,nb=Xoe,sse=Zoe,ib=As,ab=ese,ii=[],ob=aE(ii.sort),lse=aE(ii.push),use=Cp(function(){ii.sort(void 0)}),fse=Cp(function(){ii.sort(null)}),cse=ose("sort"),oE=!Cp(function(){if(ib)return ib<70;if(!(nb&&nb>3)){if(sse)return!0;if(ab)return ab<603;var n="",t,e,r,i;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)ii.push({k:e+i,v:r})}for(ii.sort(function(a,o){return o.v-a.v}),i=0;i<ii.length;i++)e=ii[i].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return n!=="DGBEFHACIJK"}}),dse=use||!fse||!cse||!oE,hse=function(n){return function(t,e){return e===void 0?-1:t===void 0?1:n!==void 0?+n(t,e)||0:rb(t)>rb(e)?1:-1}};tse({target:"Array",proto:!0,forced:dse},{sort:function(t){t!==void 0&&rse(t);var e=nse(this);if(oE)return t===void 0?ob(e):ob(e,t);var r=[],i=ise(e),a,o;for(o=0;o<i;o++)o in e&&lse(r,e[o]);for(ase(r,hse(t)),a=r.length,o=0;o<a;)e[o]=r[o++];for(;o<i;)delete e[o++];return e}});var vse=Ut,pse=vse("Array").sort,gse=Nt,mse=pse,Cd=Array.prototype,yse=function(n){var t=n.sort;return n===Cd||gse(Cd,n)&&t===Cd.sort?mse:t},bse=yse,_se=bse,Pd=_se,$se=we,wse=to,kse=Or,Ese=lf,Sse=rn,Ose=$se.TypeError,sb=function(n){return function(t,e,r,i){wse(e);var a=kse(t),o=Ese(a),s=Sse(a),l=n?s-1:0,u=n?-1:1;if(r<2)for(;;){if(l in o){i=o[l],l+=u;break}if(l+=u,n?l<0:s<=l)throw Ose("Reduce of empty array with no initial value")}for(;n?l>=0:s>l;l+=u)l in o&&(i=e(i,o[l],l,a));return i}},Tse={left:sb(!1),right:sb(!0)},Ise=ea,Cse=we,Pse=Ise(Cse.process)=="process",Ase=Te,Mse=Tse.left,Dse=lo,lb=As,Rse=Pse,Nse=Dse("reduce"),Fse=!Rse&&lb>79&&lb<83;Ase({target:"Array",proto:!0,forced:!Nse||Fse},{reduce:function(t){var e=arguments.length;return Mse(this,t,e,e>1?arguments[1]:void 0)}});var Bse=Ut,Lse=Bse("Array").reduce,xse=Nt,zse=Lse,Ad=Array.prototype,jse=function(n){var t=n.reduce;return n===Ad||xse(Ad,n)&&t===Ad.reduce?zse:t},Hse=jse,Wse=Hse,sE=Wse,lE={};(function(n){(function(t,e){e(n)})(vh,function(t){t.__esModule=!0,t.sort=y;function e(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}var r=32,i=7,a=256,o=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function s(g){return g<1e5?g<100?g<10?0:1:g<1e4?g<1e3?2:3:4:g<1e7?g<1e6?5:6:g<1e9?g<1e8?7:8:9}function l(g,m){if(g===m)return 0;if(~~g===g&&~~m===m){if(g===0||m===0)return g<m?-1:1;if(g<0||m<0){if(m>=0)return-1;if(g>=0)return 1;g=-g,m=-m}var _=s(g),E=s(m),b=0;return _<E?(g*=o[E-_-1],m/=10,b=-1):_>E&&(m*=o[_-E-1],g/=10,b=1),g===m?b:g<m?-1:1}var S=String(g),O=String(m);return S===O?0:S<O?-1:1}function u(g){for(var m=0;g>=r;)m|=g&1,g>>=1;return g+m}function f(g,m,_,E){var b=m+1;if(b===_)return 1;if(E(g[b++],g[m])<0){for(;b<_&&E(g[b],g[b-1])<0;)b++;c(g,m,b)}else for(;b<_&&E(g[b],g[b-1])>=0;)b++;return b-m}function c(g,m,_){for(_--;m<_;){var E=g[m];g[m++]=g[_],g[_--]=E}}function d(g,m,_,E,b){for(E===m&&E++;E<_;E++){for(var S=g[E],O=m,I=E;O<I;){var w=O+I>>>1;b(S,g[w])<0?I=w:O=w+1}var k=E-O;switch(k){case 3:g[O+3]=g[O+2];case 2:g[O+2]=g[O+1];case 1:g[O+1]=g[O];break;default:for(;k>0;)g[O+k]=g[O+k-1],k--}g[O]=S}}function h(g,m,_,E,b,S){var O=0,I=0,w=1;if(S(g,m[_+b])>0){for(I=E-b;w<I&&S(g,m[_+b+w])>0;)O=w,w=(w<<1)+1,w<=0&&(w=I);w>I&&(w=I),O+=b,w+=b}else{for(I=b+1;w<I&&S(g,m[_+b-w])<=0;)O=w,w=(w<<1)+1,w<=0&&(w=I);w>I&&(w=I);var k=O;O=b-w,w=b-k}for(O++;O<w;){var R=O+(w-O>>>1);S(g,m[_+R])>0?O=R+1:w=R}return w}function v(g,m,_,E,b,S){var O=0,I=0,w=1;if(S(g,m[_+b])<0){for(I=b+1;w<I&&S(g,m[_+b-w])<0;)O=w,w=(w<<1)+1,w<=0&&(w=I);w>I&&(w=I);var k=O;O=b-w,w=b-k}else{for(I=E-b;w<I&&S(g,m[_+b+w])>=0;)O=w,w=(w<<1)+1,w<=0&&(w=I);w>I&&(w=I),O+=b,w+=b}for(O++;O<w;){var R=O+(w-O>>>1);S(g,m[_+R])<0?w=R:O=R+1}return w}var p=function(){function g(m,_){e(this,g),this.array=null,this.compare=null,this.minGallop=i,this.length=0,this.tmpStorageLength=a,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=m,this.compare=_,this.length=m.length,this.length<2*a&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return g.prototype.pushRun=function(_,E){this.runStart[this.stackSize]=_,this.runLength[this.stackSize]=E,this.stackSize+=1},g.prototype.mergeRuns=function(){for(;this.stackSize>1;){var _=this.stackSize-2;if(_>=1&&this.runLength[_-1]<=this.runLength[_]+this.runLength[_+1]||_>=2&&this.runLength[_-2]<=this.runLength[_]+this.runLength[_-1])this.runLength[_-1]<this.runLength[_+1]&&_--;else if(this.runLength[_]>this.runLength[_+1])break;this.mergeAt(_)}},g.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var _=this.stackSize-2;_>0&&this.runLength[_-1]<this.runLength[_+1]&&_--,this.mergeAt(_)}},g.prototype.mergeAt=function(_){var E=this.compare,b=this.array,S=this.runStart[_],O=this.runLength[_],I=this.runStart[_+1],w=this.runLength[_+1];this.runLength[_]=O+w,_===this.stackSize-3&&(this.runStart[_+1]=this.runStart[_+2],this.runLength[_+1]=this.runLength[_+2]),this.stackSize--;var k=v(b[I],b,S,O,0,E);S+=k,O-=k,O!==0&&(w=h(b[S+O-1],b,I,w,w-1,E),w!==0&&(O<=w?this.mergeLow(S,O,I,w):this.mergeHigh(S,O,I,w)))},g.prototype.mergeLow=function(_,E,b,S){var O=this.compare,I=this.array,w=this.tmp,k=0;for(k=0;k<E;k++)w[k]=I[_+k];var R=0,T=b,P=_;if(I[P++]=I[T++],--S===0){for(k=0;k<E;k++)I[P+k]=w[R+k];return}if(E===1){for(k=0;k<S;k++)I[P+k]=I[T+k];I[P+S]=w[R];return}for(var A=this.minGallop;;){var K=0,U=0,fe=!1;do if(O(I[T],w[R])<0){if(I[P++]=I[T++],U++,K=0,--S===0){fe=!0;break}}else if(I[P++]=w[R++],K++,U=0,--E===1){fe=!0;break}while((K|U)<A);if(fe)break;do{if(K=v(I[T],w,R,E,0,O),K!==0){for(k=0;k<K;k++)I[P+k]=w[R+k];if(P+=K,R+=K,E-=K,E<=1){fe=!0;break}}if(I[P++]=I[T++],--S===0){fe=!0;break}if(U=h(w[R],I,T,S,0,O),U!==0){for(k=0;k<U;k++)I[P+k]=I[T+k];if(P+=U,T+=U,S-=U,S===0){fe=!0;break}}if(I[P++]=w[R++],--E===1){fe=!0;break}A--}while(K>=i||U>=i);if(fe)break;A<0&&(A=0),A+=2}if(this.minGallop=A,A<1&&(this.minGallop=1),E===1){for(k=0;k<S;k++)I[P+k]=I[T+k];I[P+S]=w[R]}else{if(E===0)throw new Error("mergeLow preconditions were not respected");for(k=0;k<E;k++)I[P+k]=w[R+k]}},g.prototype.mergeHigh=function(_,E,b,S){var O=this.compare,I=this.array,w=this.tmp,k=0;for(k=0;k<S;k++)w[k]=I[b+k];var R=_+E-1,T=S-1,P=b+S-1,A=0,K=0;if(I[P--]=I[R--],--E===0){for(A=P-(S-1),k=0;k<S;k++)I[A+k]=w[k];return}if(S===1){for(P-=E,R-=E,K=P+1,A=R+1,k=E-1;k>=0;k--)I[K+k]=I[A+k];I[P]=w[T];return}for(var U=this.minGallop;;){var fe=0,L=0,W=!1;do if(O(w[T],I[R])<0){if(I[P--]=I[R--],fe++,L=0,--E===0){W=!0;break}}else if(I[P--]=w[T--],L++,fe=0,--S===1){W=!0;break}while((fe|L)<U);if(W)break;do{if(fe=E-v(w[T],I,_,E,E-1,O),fe!==0){for(P-=fe,R-=fe,E-=fe,K=P+1,A=R+1,k=fe-1;k>=0;k--)I[K+k]=I[A+k];if(E===0){W=!0;break}}if(I[P--]=w[T--],--S===1){W=!0;break}if(L=S-h(I[R],w,0,S,S-1,O),L!==0){for(P-=L,T-=L,S-=L,K=P+1,A=T+1,k=0;k<L;k++)I[K+k]=w[A+k];if(S<=1){W=!0;break}}if(I[P--]=I[R--],--E===0){W=!0;break}U--}while(fe>=i||L>=i);if(W)break;U<0&&(U=0),U+=2}if(this.minGallop=U,U<1&&(this.minGallop=1),S===1){for(P-=E,R-=E,K=P+1,A=R+1,k=E-1;k>=0;k--)I[K+k]=I[A+k];I[P]=w[T]}else{if(S===0)throw new Error("mergeHigh preconditions were not respected");for(A=P-(S-1),k=0;k<S;k++)I[A+k]=w[k]}},g}();function y(g,m,_,E){if(!Array.isArray(g))throw new TypeError("Can only sort arrays");m?typeof m!="function"&&(E=_,_=m,m=l):m=l,_||(_=0),E||(E=g.length);var b=E-_;if(!(b<2)){var S=0;if(b<r){S=f(g,_,E,m),d(g,_,E,_+S,m);return}var O=new p(g,m),I=u(b);do{if(S=f(g,_,E,m),S<I){var w=b;w>I&&(w=I),d(g,_,_+w,_+S,m),S=w}O.pushRun(_,S),O.mergeRuns(),b-=S,_+=S}while(b!==0);O.forceMergeRuns()}}})})(lE);var Tu=lE;function uE(n){var t=Vse();return function(){var r=ce(n),i;if(t){var a=ce(this).constructor;i=q(r,arguments,a)}else i=r.apply(this,arguments);return Ye(this,i)}}function Vse(){if(typeof Reflect>"u"||!q||q.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(q(Boolean,[],function(){})),!0}catch{return!1}}var fE=function(){function n(){ne(this,n)}return ie(n,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,i),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,r){this.fake_use(e,r),this.abstract()}},{key:"shift",value:function(e,r){this.fake_use(e,r),this.abstract()}}]),n}(),Use=function(n){Ve(e,n);var t=uE(e);function e(r){var i;return ne(this,e),i=t.call(this),i.layout=r,i}return ie(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(i){return i.x}},{key:"setPosition",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(i,o),i.x=a}},{key:"getTreeSize",value:function(i){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:a.min_x,max:a.max_x}}},{key:"sort",value:function(i){Tu.sort(i,function(a,o){return a.x-o.x})}},{key:"fix",value:function(i,a){i.y=this.layout.options.hierarchical.levelSeparation*a,i.options.fixed.y=!0}},{key:"shift",value:function(i,a){this.layout.body.nodes[i].x+=a}}]),e}(fE),Gse=function(n){Ve(e,n);var t=uE(e);function e(r){var i;return ne(this,e),i=t.call(this),i.layout=r,i}return ie(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(i){return i.y}},{key:"setPosition",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(i,o),i.y=a}},{key:"getTreeSize",value:function(i){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:a.min_y,max:a.max_y}}},{key:"sort",value:function(i){Tu.sort(i,function(a,o){return a.y-o.y})}},{key:"fix",value:function(i,a){i.x=this.layout.options.hierarchical.levelSeparation*a,i.options.fixed.x=!0}},{key:"shift",value:function(i,a){this.layout.body.nodes[i].y+=a}}]),e}(fE),qse=Te,Kse=hi.every,Yse=lo,Xse=Yse("every");qse({target:"Array",proto:!0,forced:!Xse},{every:function(t){return Kse(this,t,arguments.length>1?arguments[1]:void 0)}});var Qse=Ut,Zse=Qse("Array").every,Jse=Nt,ele=Zse,Md=Array.prototype,tle=function(n){var t=n.every;return n===Md||Jse(Md,n)&&t===Md.every?ele:t},rle=tle,nle=rle,cE=nle;function ile(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=ale(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function ale(n,t){var e;if(n){if(typeof n=="string")return ub(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ub(n,t)}}function ub(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function ole(n,t){var e=new Ei;return et(n).call(n,function(r){var i;et(i=r.edges).call(i,function(a){a.connected&&e.add(a)})}),et(e).call(e,function(r){var i=r.from.id,a=r.to.id;t[i]==null&&(t[i]=0),(t[a]==null||t[i]>=t[a])&&(t[a]=t[i]+1)}),t}function sle(n){return dE(function(t){var e,r;return cE(e=gr(r=t.edges).call(r,function(i){return n.has(i.toId)})).call(e,function(i){return i.to===t})},function(t,e){return e>t},"from",n)}function lle(n){return dE(function(t){var e,r;return cE(e=gr(r=t.edges).call(r,function(i){return n.has(i.toId)})).call(e,function(i){return i.from===t})},function(t,e){return e<t},"to",n)}function dE(n,t,e,r){var i,a=Ri(null),o=sE(i=an(Hk(r).call(r))).call(i,function(h,v){return h+1+v.edges.length},0),s=e+"Id",l=e==="to"?1:-1,u=ile(r),f;try{var c=function(){var v=_t(f.value,2),p=v[0],y=v[1];if(!r.has(p)||!n(y))return"continue";a[p]=0;for(var g=[y],m=0,_=void 0,E=function(){var O,I;if(!r.has(p))return"continue";var w=a[_.id]+l;if(et(O=gr(I=_.edges).call(I,function(k){return k.connected&&k.to!==k.from&&k[e]!==_&&r.has(k.toId)&&r.has(k.fromId)})).call(O,function(k){var R=k[s],T=a[R];(T==null||t(w,T))&&(a[R]=w,g.push(k[e]))}),m>o)return{v:{v:ole(r,a)}};++m};_=g.pop();){var b=E();if(b!=="continue"&&Je(b)==="object")return b.v}};for(u.s();!(f=u.n()).done;){var d=c();if(d!=="continue"&&Je(d)==="object")return d.v}}catch(h){u.e(h)}finally{u.f()}return a}var ule=function(){function n(){ne(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return ie(n,[{key:"addRelation",value:function(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var r=this,i={},a=function o(s){if(i[s]!==void 0)return i[s];var l=r.levels[s];if(r.childrenReference[s]){var u=r.childrenReference[s];if(u.length>0)for(var f=0;f<u.length;f++)l=Math.max(l,o(u[f]))}return i[s]=l,l};return a(e)}},{key:"levelDownstream",value:function(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var r=1e9;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.levels[i]!==void 0&&(r=Math.min(this.levels[i],r));for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&this.levels[a]!==void 0&&(this.levels[a]-=r)}},{key:"getTreeSize",value:function(e,r){var i=1e9,a=-1e9,o=1e9,s=-1e9;for(var l in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,l)&&this.trees[l]===r){var u=e[l];i=Math.min(u.x,i),a=Math.max(u.x,a),o=Math.min(u.y,o),s=Math.max(u.y,s)}return{min_x:i,max_x:a,min_y:o,max_y:s}}},{key:"hasSameParent",value:function(e,r){var i=this.parentReference[e.id],a=this.parentReference[r.id];if(i===void 0||a===void 0)return!1;for(var o=0;o<i.length;o++)for(var s=0;s<a.length;s++)if(i[o]==a[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,r){return this.trees[e.id]===this.trees[r.id]}},{key:"getLevels",value:function(){return bt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);var i=!1,a=this.distributionOrdering[r];for(var o in a)if(a[o]===e){i=!0;break}i||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}]),n}(),fle=function(){function n(t){ne(this,n),this.body=t,this._resetRNG(Math.random()+":"+gu()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},At(this.options,this.defaultOptions),this.bindEventListeners()}return ie(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var r=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",r,!1)}})}},{key:"setOptions",value:function(e,r){if(e!==void 0){var i=this.options.hierarchical,a=i.enabled;if(fo(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Ar(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),i.enabled===!0)return a===!0&&this.body.emitter.emit("refresh",!0),i.direction==="RL"||i.direction==="DU"?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(a===!0)return this.body.emitter.emit("refresh"),it(r,this.optionsBackup)}return r}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Nf(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):Je(e.physics)==="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{var a=e.edges.smooth;a.type!==void 0&&a.type!=="dynamic"&&(i=a.type),this.optionsBackup.edges={smooth:{enabled:a.enabled===void 0?!0:a.enabled,type:a.type===void 0?"dynamic":a.type,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}},e.edges.smooth={enabled:a.enabled===void 0?!0:a.enabled,type:i,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var r=e.length+50,i=0;i<e.length;i++){var a=e[i],o=2*Math.PI*this._rng();a.x===void 0&&(a.x=r*Math.cos(o)),a.y===void 0&&(a.y=r*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,r=0,i=0;i<e.length;i++){var a=this.body.nodes[e[i]];a.predefinedPosition===!0&&(r+=1)}if(r<.5*e.length){var o=10,s=0,l=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>l){for(var f=e.length;e.length>l&&s<=o;){s+=1;var c=e.length;s%3===0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u);var d=e.length;if(c==d&&s%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*f)})}s>o&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var h=70,v=0;v<e.length;v++){var p=this.body.nodes[e[v]];p.predefinedPosition===!1&&(p.x+=(.5-this._rng())*h,p.y+=(.5-this._rng())*h)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=ir.getRangeCore(this.body.nodes,this.body.nodeIndices),r=ir.findCenter(e),i=0;i<this.body.nodeIndices.length;i++){var a=this.body.nodes[this.body.nodeIndices[i]];a.x-=r.x,a.y-=r.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,r,i=!1,a=!1;this.lastNodeOnLevel={},this.hierarchical=new ule;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(i=!0,this.hierarchical.levels[r]=e.options.level):a=!0);if(a===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(a===!0){var o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);var l=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(l),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,r=!1,i={},a=function(){for(var _=s(),E=0,b=0;b<_.length-1;b++){var S=_[b].max-_[b+1].min;E+=S+e.options.hierarchical.treeSpacing,o(b+1,E)}},o=function(_,E){var b=e.hierarchical.trees;for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&b[S]===_&&e.direction.shift(S,E)},s=function(){for(var _=[],E=0;E<e.hierarchical.numTrees();E++)_.push(e.direction.getTreeSize(E));return _},l=function m(_,E){if(!E[_.id]&&(E[_.id]=!0,e.hierarchical.childrenReference[_.id])){var b=e.hierarchical.childrenReference[_.id];if(b.length>0)for(var S=0;S<b.length;S++)m(e.body.nodes[b[S]],E)}},u=function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,b=1e9,S=1e9,O=1e9,I=-1e9;for(var w in _)if(Object.prototype.hasOwnProperty.call(_,w)){var k=e.body.nodes[w],R=e.hierarchical.levels[k.id],T=e.direction.getPosition(k),P=e._getSpaceAroundNode(k,_),A=_t(P,2),K=A[0],U=A[1];b=Math.min(K,b),S=Math.min(U,S),R<=E&&(O=Math.min(T,O),I=Math.max(T,I))}return[O,I,b,S]},f=function(_,E){var b=e.hierarchical.getMaxLevel(_.id),S=e.hierarchical.getMaxLevel(E.id);return Math.min(b,S)},c=function(_,E,b){for(var S=e.hierarchical,O=0;O<E.length;O++){var I=E[O],w=S.distributionOrdering[I];if(w.length>1)for(var k=0;k<w.length-1;k++){var R=w[k],T=w[k+1];S.hasSameParent(R,T)&&S.inSameSubNetwork(R,T)&&_(R,T,b)}}},d=function(_,E){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,S=e.direction.getPosition(_),O=e.direction.getPosition(E),I=Math.abs(O-S),w=e.options.hierarchical.nodeSpacing;if(I>w){var k={},R={};l(_,k),l(E,R);var T=f(_,E),P=u(k,T),A=u(R,T),K=P[1],U=A[0],fe=A[2],L=Math.abs(K-U);if(L>w){var W=K-U+w;W<-fe+w&&(W=-fe+w),W<0&&(e._shiftBlock(E.id,W),r=!0,b===!0&&e._centerParent(E))}}},h=function(_,E){for(var b=E.id,S=E.edges,O=e.hierarchical.levels[E.id],I=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,w={},k=[],R=0;R<S.length;R++){var T=S[R];if(T.toId!=T.fromId){var P=T.toId==b?T.from:T.to;w[S[R].id]=P,e.hierarchical.levels[P.id]<O&&k.push(T)}}var A=function(B,H){for(var G=0,me=0;me<H.length;me++)if(w[H[me].id]!==void 0){var ge=e.direction.getPosition(w[H[me].id])-B;G+=ge/Math.sqrt(ge*ge+I)}return G},K=function(B,H){for(var G=0,me=0;me<H.length;me++)if(w[H[me].id]!==void 0){var ge=e.direction.getPosition(w[H[me].id])-B;G-=I*Math.pow(ge*ge+I,-1.5)}return G},U=function(B,H){for(var G=e.direction.getPosition(E),me={},ge=0;ge<B;ge++){var Pe=A(G,H),Re=K(G,H),ze=40,ue=Math.max(-ze,Math.min(ze,Math.round(Pe/Re)));if(G=G-ue,me[G]!==void 0)break;me[G]=ge}return G},fe=function(B){var H=e.direction.getPosition(E);if(i[E.id]===void 0){var G={};l(E,G),i[E.id]=G}var me=u(i[E.id]),ge=me[2],Pe=me[3],Re=B-H,ze=0;Re>0?ze=Math.min(Re,Pe-e.options.hierarchical.nodeSpacing):Re<0&&(ze=-Math.min(-Re,ge-e.options.hierarchical.nodeSpacing)),ze!=0&&(e._shiftBlock(E.id,ze),r=!0)},L=function(B){var H=e.direction.getPosition(E),G=e._getSpaceAroundNode(E),me=_t(G,2),ge=me[0],Pe=me[1],Re=B-H,ze=H;Re>0?ze=Math.min(H+(Pe-e.options.hierarchical.nodeSpacing),B):Re<0&&(ze=Math.max(H-(ge-e.options.hierarchical.nodeSpacing),B)),ze!==H&&(e.direction.setPosition(E,ze),r=!0)},W=U(_,k);fe(W),W=U(_,S),L(W)},v=function(_){var E=e.hierarchical.getLevels();E=Di(E).call(E);for(var b=0;b<_;b++){r=!1;for(var S=0;S<E.length;S++)for(var O=E[S],I=e.hierarchical.distributionOrdering[O],w=0;w<I.length;w++)h(1e3,I[w]);if(r!==!0)break}},p=function(_){var E=e.hierarchical.getLevels();E=Di(E).call(E);for(var b=0;b<_&&(r=!1,c(d,E,!0),r===!0);b++);},y=function(){for(var _ in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,_)&&e._centerParent(e.body.nodes[_])},g=function(){var _=e.hierarchical.getLevels();_=Di(_).call(_);for(var E=0;E<_.length;E++)for(var b=_[E],S=e.hierarchical.distributionOrdering[b],O=0;O<S.length;O++)e._centerParent(S[O])};this.options.hierarchical.blockShifting===!0&&(p(5),y()),this.options.hierarchical.edgeMinimization===!0&&v(20),this.options.hierarchical.parentCentralization===!0&&g(),a()}},{key:"_getSpaceAroundNode",value:function(e,r){var i=!0;r===void 0&&(i=!1);var a=this.hierarchical.levels[e.id];if(a!==void 0){var o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),l=this.hierarchical.distributionOrdering[a],u=1e9,f=1e9;if(o!==0){var c=l[o-1];if(i===!0&&r[c.id]===void 0||i===!1){var d=this.direction.getPosition(c);u=s-d}}if(o!=l.length-1){var h=l[o+1];if(i===!0&&r[h.id]===void 0||i===!1){var v=this.direction.getPosition(h);f=Math.min(f,v-s)}}return[u,f]}else return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var r=this.hierarchical.parentReference[e.id],i=0;i<r.length;i++){var a=r[i],o=this.body.nodes[a],s=this.hierarchical.childrenReference[a];if(s!==void 0){var l=this._getCenterPosition(s),u=this.direction.getPosition(o),f=this._getSpaceAroundNode(o),c=_t(f,2),d=c[0],h=c[1],v=u-l;(v<0&&Math.abs(v)<h-this.options.hierarchical.nodeSpacing||v>0&&Math.abs(v)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,l)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i,a=bt(e[r]);a=this._indexArrayToNodes(a),Pd(i=this.direction).call(i,a);for(var o=0,s=0;s<a.length;s++){var l=a[s];if(this.positionedNodes[l.id]===void 0){var u=this.options.hierarchical.nodeSpacing,f=u*o;o>0&&(f=this.direction.getPosition(a[s-1])+u),this.direction.setPosition(l,f,r),this._validatePositionAndContinue(l,r,f),o++}}}}},{key:"_placeBranchNodes",value:function(e,r){var i,a=this.hierarchical.childrenReference[e];if(a!==void 0){for(var o=[],s=0;s<a.length;s++)o.push(this.body.nodes[a[s]]);Pd(i=this.direction).call(i,o);for(var l=0;l<o.length;l++){var u=o[l],f=this.hierarchical.levels[u.id];if(f>r&&this.positionedNodes[u.id]===void 0){var c=this.options.hierarchical.nodeSpacing,d=void 0;l===0?d=this.direction.getPosition(this.body.nodes[e]):d=this.direction.getPosition(o[l-1])+c,this.direction.setPosition(u,d,f),this._validatePositionAndContinue(u,f,d)}else return}var h=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],h,r)}}},{key:"_validatePositionAndContinue",value:function(e,r,i){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){var a=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(i-a<this.options.hierarchical.nodeSpacing){var o=a+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}},{key:"_indexArrayToNodes",value:function(e){for(var r=[],i=0;i<e.length;i++)r.push(this.body.nodes[e[i]]);return r}},{key:"_getDistribution",value:function(){var e={},r,i;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){i=this.body.nodes[r];var a=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(i,a),e[a]===void 0&&(e[a]={}),e[a][r]=i}return e}},{key:"_getActiveEdges",value:function(e){var r=this,i=[];return Ne(e.edges,function(a){var o;He(o=r.body.edgeIndices).call(o,a.id)!==-1&&i.push(a)}),i}},{key:"_getHubSizes",value:function(){var e=this,r={},i=this.body.nodeIndices;Ne(i,function(o){var s=e.body.nodes[o],l=e._getActiveEdges(s).length;r[l]=!0});var a=[];return Ne(r,function(o){a.push(Number(o))}),Pd(Tu).call(Tu,a,function(o,s){return s-o}),a}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,r=function(u,f){e.hierarchical.levelDownstream(u,f)},i=this._getHubSizes(),a=function(u){var f=i[u];if(f===0)return"break";Ne(e.body.nodeIndices,function(c){var d=e.body.nodes[c];f===e._getActiveEdges(d).length&&e._crawlNetwork(r,c)})},o=0;o<i.length;++o){var s=a(o);if(s==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,r=1e5,i=function(s,l,u){},a=function(s,l,u){var f=e.hierarchical.levels[s.id];f===void 0&&(f=e.hierarchical.levels[s.id]=r);var c=i(ir.cloneOptions(s,"node"),ir.cloneOptions(l,"node"),ir.cloneOptions(u,"edge"));e.hierarchical.levels[l.id]=f+c};this._crawlNetwork(a),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,r=this,i=sE(e=this.body.nodeIndices).call(e,function(a,o){return a.set(o,r.body.nodes[o]),a},new Lk);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=lle(i):this.hierarchical.levels=sle(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this,r=function(a,o){e.hierarchical.levels[o.id]>e.hierarchical.levels[a.id]&&e.hierarchical.addRelation(a.id,o.id)};this._crawlNetwork(r),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,a={},o=function d(h,v){if(a[h.id]===void 0){e.hierarchical.setTreeIndex(h,v),a[h.id]=!0;for(var p,y=e._getActiveEdges(h),g=0;g<y.length;g++){var m=y[g];m.connected===!0&&(m.toId==h.id?p=m.from:p=m.to,h.id!=p.id&&(r(h,p,m),d(p,v)))}}};if(i===void 0)for(var s=0,l=0;l<this.body.nodeIndices.length;l++){var u=this.body.nodeIndices[l];if(a[u]===void 0){var f=this.body.nodes[u];o(f,s),s+=1}}else{var c=this.body.nodes[i];if(c===void 0){console.error("Node not found:",i);return}o(c)}}},{key:"_shiftBlock",value:function(e,r){var i=this,a={},o=function s(l){if(!a[l]){a[l]=!0,i.direction.shift(l,r);var u=i.hierarchical.childrenReference[l];if(u!==void 0)for(var f=0;f<u.length;f++)s(u[f])}};o(e)}},{key:"_findCommonParent",value:function(e,r){var i=this,a={},o=function l(u,f){var c=i.hierarchical.parentReference[f];if(c!==void 0)for(var d=0;d<c.length;d++){var h=c[d];u[h]=!0,l(u,h)}},s=function l(u,f){var c=i.hierarchical.parentReference[f];if(c!==void 0)for(var d=0;d<c.length;d++){var h=c[d];if(u[h]!==void 0)return{foundParent:h,withChild:f};var v=l(u,h);if(v.foundParent!==null)return v}return{foundParent:null,withChild:f}};return o(a,e),s(a,r)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";e?this.direction=new Use(this):this.direction=new Gse(this)}},{key:"_getCenterPosition",value:function(e){for(var r=1e9,i=-1e9,a=0;a<e.length;a++){var o=void 0;if(e[a].id!==void 0)o=e[a];else{var s=e[a];o=this.body.nodes[s]}var l=this.direction.getPosition(o);r=Math.min(r,l),i=Math.max(i,l)}return .5*(r+i)}}]),n}();function cle(n,t){var e=typeof jn<"u"&&gn(n)||n["@@iterator"];if(!e){if(Ge(n)||(e=dle(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(o)throw s}}}}function dle(n,t){var e;if(n){if(typeof n=="string")return fb(n,t);var r=zt(e=Object.prototype.toString.call(n)).call(e,8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return di(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fb(n,t)}}function fb(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var hle=function(){function n(t,e,r,i){var a=this,o,s;ne(this,n),this.body=t,this.canvas=e,this.selectionHandler=r,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},At(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",Z(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Z(s=this._restore).call(s,this))}return ie(n,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,r,i){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=i.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=i.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,it(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),a=this.selectionHandler.getSelectedEdgeCount(),o=i+a,s=this.options.locales[this.options.locale],l=!1;this.options.addNode!==!1&&(this._createAddNodeButton(s),l=!0),this.options.addEdge!==!1&&(l===!0?this._createSeperator(1):l=!0,this._createAddEdgeButton(s)),i===1&&typeof this.options.editNode=="function"?(l===!0?this._createSeperator(2):l=!0,this._createEditNodeButton(s)):a===1&&i===0&&this.options.editEdge!==!1&&(l===!0?this._createSeperator(3):l=!0,this._createEditEdgeButton(s)),o!==0&&(i>0&&this.options.deleteNode!==!1?(l===!0&&this._createSeperator(4),this._createDeleteButton(s)):i===0&&this.options.deleteEdge!==!1&&(l===!0&&this._createSeperator(4),this._createDeleteButton(s))),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Z(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Z(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",Z(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var r=this.selectionHandler.getSelectedNodes()[0];if(r!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(r.isCluster!==!0){var i=it({},r.options,!1);if(i.x=r.x,i.y=r.y,this.options.editNode.length===2)this.options.editNode(i,function(a){a!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(a),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,r,i,a,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var s,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Z(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",Z(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Z(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",Z(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Z(a=this._finishConnect).call(a,this)),this._temporaryBindUI("onDragStart",Z(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",Je(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id);return}if(this.guiEnabled===!0){var r,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Z(r=this.toggleEditMode).call(r,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var a,o,s,l,u=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(u.from.x,u.from.y),c=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(c.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[c.id]=c,this.body.nodeIndices.push(c.id),this._temporaryBindUI("onTouch",Z(a=this._controlNodeTouch).call(a,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",Z(o=this._controlNodeDragStart).call(o,this)),this._temporaryBindUI("onDrag",Z(s=this._controlNodeDrag).call(s,this)),this._temporaryBindUI("onDragEnd",Z(l=this._controlNodeDragEnd).call(l,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(d){var h=u.edgeType.findBorderPositions(d);f.selected===!1&&(f.x=h.from.x,f.y=h.from.y),c.selected===!1&&(c.x=h.to.x,c.y=h.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var r=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),a=void 0;if(r.length>0){for(var o=0;o<r.length;o++)if(this.body.nodes[r[o]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(a=this.options.deleteNode)}else i.length>0&&typeof this.options.deleteEdge=="function"&&(a=this.options.deleteEdge);if(typeof a=="function"){var s={nodes:r,edges:i};if(a.length===2)a(s,function(l){l!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(l.edges),e.body.data.nodes.getDataSet().remove(l.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(r),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(e,r){var i=it({},this.options.controlNodeStyle);i.id="targetNode"+Ro(),i.hidden=!1,i.physics=!1,i.x=e,i.y=r;var a=this.body.functions.createNode(i);return a.shape.boundingBox={left:e,right:e,top:r,bottom:r},a}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},Kn(this.editModeDiv);var r=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Z(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(Kn(this.editModeDiv),Kn(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,r=cle(Cn(e=this._domEventListenerCleanupQueue).call(e,0)),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;a()}}catch(o){r.e(o)}finally{r.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Kn(this.manipulationDiv),Kn(this.editModeDiv),Kn(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var r,i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.addNodeMode).call(r,this))}},{key:"_createAddEdgeButton",value:function(e){var r,i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.addEdgeMode).call(r,this))}},{key:"_createEditNodeButton",value:function(e){var r,i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.editNode).call(r,this))}},{key:"_createEditEdgeButton",value:function(e){var r,i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.editEdgeMode).call(r,this))}},{key:"_createDeleteButton",value:function(e){var r,i;this.options.rtl?i="vis-delete-rtl":i="vis-delete";var a=this._createButton("delete",i,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,Z(r=this.deleteSelected).call(r,this))}},{key:"_createBackButton",value:function(e){var r,i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.showManipulatorToolbar).call(r,this))}},{key:"_createButton",value:function(e,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=a,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}},{key:"_temporaryBindUI",value:function(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Vs(bt(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var r=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,i)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,r){var i=new Ia(e,{});Ou(i,r),this._domEventListenerCleanupQueue.push(function(){i.destroy()});var a=function(s){var l=s.keyCode,u=s.key;(u==="Enter"||u===" "||l===13||l===32)&&r()};e.addEventListener("keyup",a,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",a,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var r;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var i=He(r=this.body.edgeIndices).call(r,this.temporaryIds.edges[e]);if(i!==-1){var a;Cn(a=this.body.edgeIndices).call(a,i,1)}}for(var o=0;o<this.temporaryIds.nodes.length;o++){var s;delete this.body.nodes[this.temporaryIds.nodes[o]];var l=He(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[o]);if(l!==-1){var u;Cn(u=this.body.nodeIndices).call(u,l,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=At({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],a=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=i.isOverlappingWith(r),l=a.isOverlappingWith(r);s===!0?(this.selectedControlNode=i,o.edgeType.from=i):l===!0&&(this.selectedControlNode=a,o.edgeType.to=a),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var r=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r),a=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,l=o.length-1;l>=0;l--)if(o[l]!==this.selectedControlNode.id){s=this.body.nodes[o[l]];break}if(s!==void 0&&this.selectedControlNode!==void 0)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var u=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===u.id?this._performEditEdge(s.id,a.to.id):this._performEditEdge(a.from.id,s.id)}else a.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=At({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var r=this.lastTouch,i=this.selectionHandler.getNodeAt(r);if(i!==void 0)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this._getNewTargetNode(i.x,i.y);this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id);var o=this.body.functions.createEdge({id:"connectionEdge"+Ro(),from:i.id,to:a.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(a.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,l=o.length-1;l>=0;l--){var u;if(He(u=this.temporaryIds.nodes).call(u,o[l])===-1){s=this.body.nodes[o[l]];break}}if(e.controlEdge={from:a,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){var f=this.body.nodes[this.temporaryIds.nodes[0]];f.x=this.canvas._XconvertDOMtoCanvas(r.x),f.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,l=o.length-1;l>=0;l--){var u;if(He(u=this.temporaryIds.nodes).call(u,o[l])===-1){s=this.body.nodes[o[l]];break}}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[a]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(a,s.id)),e.controlEdge={from:a,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}},{key:"_performAddNode",value:function(e){var r=this,i={id:Ro(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(i,function(a){a!=null&&r.inMode==="addNode"&&r.body.data.nodes.getDataSet().add(a),r.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,r){var i=this,a={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(a,function(o){o!=null&&i.inMode==="addEdge"&&(i.body.data.edges.getDataSet().add(o),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,r){var i=this,a={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if(Je(o)==="object"&&(o=o.editWithoutDrag),typeof o=="function")if(o.length===2)o(a,function(s){s==null||i.inMode!=="editEdge"?(i.body.edges[a.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(s),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),n}(),ee="string",Q="boolean",V="number",So="array",he="object",hE="dom",vle="any",Dd=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Rd={borderWidth:{number:V},borderWidthSelected:{number:V,undefined:"undefined"},brokenImage:{string:ee,undefined:"undefined"},chosen:{label:{boolean:Q,function:"function"},node:{boolean:Q,function:"function"},__type__:{object:he,boolean:Q}},color:{border:{string:ee},background:{string:ee},highlight:{border:{string:ee},background:{string:ee},__type__:{object:he,string:ee}},hover:{border:{string:ee},background:{string:ee},__type__:{object:he,string:ee}},__type__:{object:he,string:ee}},opacity:{number:V,undefined:"undefined"},fixed:{x:{boolean:Q},y:{boolean:Q},__type__:{object:he,boolean:Q}},font:{align:{string:ee},color:{string:ee},size:{number:V},face:{string:ee},background:{string:ee},strokeWidth:{number:V},strokeColor:{string:ee},vadjust:{number:V},multi:{boolean:Q,string:ee},bold:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},boldital:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},ital:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},mono:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},__type__:{object:he,string:ee}},group:{string:ee,number:V,undefined:"undefined"},heightConstraint:{minimum:{number:V},valign:{string:ee},__type__:{object:he,boolean:Q,number:V}},hidden:{boolean:Q},icon:{face:{string:ee},code:{string:ee},size:{number:V},color:{string:ee},weight:{string:ee,number:V},__type__:{object:he}},id:{string:ee,number:V},image:{selected:{string:ee,undefined:"undefined"},unselected:{string:ee,undefined:"undefined"},__type__:{object:he,string:ee}},imagePadding:{top:{number:V},right:{number:V},bottom:{number:V},left:{number:V},__type__:{object:he,number:V}},label:{string:ee,undefined:"undefined"},labelHighlightBold:{boolean:Q},level:{number:V,undefined:"undefined"},margin:{top:{number:V},right:{number:V},bottom:{number:V},left:{number:V},__type__:{object:he,number:V}},mass:{number:V},physics:{boolean:Q},scaling:{min:{number:V},max:{number:V},label:{enabled:{boolean:Q},min:{number:V},max:{number:V},maxVisible:{number:V},drawThreshold:{number:V},__type__:{object:he,boolean:Q}},customScalingFunction:{function:"function"},__type__:{object:he}},shadow:{enabled:{boolean:Q},color:{string:ee},size:{number:V},x:{number:V},y:{number:V},__type__:{object:he,boolean:Q}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Q,array:So},borderRadius:{number:V},interpolation:{boolean:Q},useImageSize:{boolean:Q},useBorderWithImage:{boolean:Q},coordinateOrigin:{string:["center","top-left"]},__type__:{object:he}},size:{number:V},title:{string:ee,dom:hE,undefined:"undefined"},value:{number:V,undefined:"undefined"},widthConstraint:{minimum:{number:V},maximum:{number:V},__type__:{object:he,boolean:Q,number:V}},x:{number:V},y:{number:V},__type__:{object:he}},ple={configure:{enabled:{boolean:Q},filter:{boolean:Q,string:ee,array:So,function:"function"},container:{dom:hE},showButton:{boolean:Q},__type__:{object:he,boolean:Q,string:ee,array:So,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Q},scaleFactor:{number:V},type:{string:Dd},imageHeight:{number:V},imageWidth:{number:V},src:{string:ee},__type__:{object:he,boolean:Q}},middle:{enabled:{boolean:Q},scaleFactor:{number:V},type:{string:Dd},imageWidth:{number:V},imageHeight:{number:V},src:{string:ee},__type__:{object:he,boolean:Q}},from:{enabled:{boolean:Q},scaleFactor:{number:V},type:{string:Dd},imageWidth:{number:V},imageHeight:{number:V},src:{string:ee},__type__:{object:he,boolean:Q}},__type__:{string:["from","to","middle"],object:he}},endPointOffset:{from:{number:V},to:{number:V},__type__:{object:he,number:V}},arrowStrikethrough:{boolean:Q},background:{enabled:{boolean:Q},color:{string:ee},size:{number:V},dashes:{boolean:Q,array:So},__type__:{object:he,boolean:Q}},chosen:{label:{boolean:Q,function:"function"},edge:{boolean:Q,function:"function"},__type__:{object:he,boolean:Q}},color:{color:{string:ee},highlight:{string:ee},hover:{string:ee},inherit:{string:["from","to","both"],boolean:Q},opacity:{number:V},__type__:{object:he,string:ee}},dashes:{boolean:Q,array:So},font:{color:{string:ee},size:{number:V},face:{string:ee},background:{string:ee},strokeWidth:{number:V},strokeColor:{string:ee},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:V},multi:{boolean:Q,string:ee},bold:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},boldital:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},ital:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},mono:{color:{string:ee},size:{number:V},face:{string:ee},mod:{string:ee},vadjust:{number:V},__type__:{object:he,string:ee}},__type__:{object:he,string:ee}},hidden:{boolean:Q},hoverWidth:{function:"function",number:V},label:{string:ee,undefined:"undefined"},labelHighlightBold:{boolean:Q},length:{number:V,undefined:"undefined"},physics:{boolean:Q},scaling:{min:{number:V},max:{number:V},label:{enabled:{boolean:Q},min:{number:V},max:{number:V},maxVisible:{number:V},drawThreshold:{number:V},__type__:{object:he,boolean:Q}},customScalingFunction:{function:"function"},__type__:{object:he}},selectionWidth:{function:"function",number:V},selfReferenceSize:{number:V},selfReference:{size:{number:V},angle:{number:V},renderBehindTheNode:{boolean:Q},__type__:{object:he}},shadow:{enabled:{boolean:Q},color:{string:ee},size:{number:V},x:{number:V},y:{number:V},__type__:{object:he,boolean:Q}},smooth:{enabled:{boolean:Q},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:V},forceDirection:{string:["horizontal","vertical","none"],boolean:Q},__type__:{object:he,boolean:Q}},title:{string:ee,undefined:"undefined"},width:{number:V},widthConstraint:{maximum:{number:V},__type__:{object:he,boolean:Q,number:V}},value:{number:V,undefined:"undefined"},__type__:{object:he}},groups:{useDefaultGroups:{boolean:Q},__any__:Rd,__type__:{object:he}},interaction:{dragNodes:{boolean:Q},dragView:{boolean:Q},hideEdgesOnDrag:{boolean:Q},hideEdgesOnZoom:{boolean:Q},hideNodesOnDrag:{boolean:Q},hover:{boolean:Q},keyboard:{enabled:{boolean:Q},speed:{x:{number:V},y:{number:V},zoom:{number:V},__type__:{object:he}},bindToWindow:{boolean:Q},autoFocus:{boolean:Q},__type__:{object:he,boolean:Q}},multiselect:{boolean:Q},navigationButtons:{boolean:Q},selectable:{boolean:Q},selectConnectedEdges:{boolean:Q},hoverConnectedEdges:{boolean:Q},tooltipDelay:{number:V},zoomView:{boolean:Q},zoomSpeed:{number:V},__type__:{object:he}},layout:{randomSeed:{undefined:"undefined",number:V,string:ee},improvedLayout:{boolean:Q},clusterThreshold:{number:V},hierarchical:{enabled:{boolean:Q},levelSeparation:{number:V},nodeSpacing:{number:V},treeSpacing:{number:V},blockShifting:{boolean:Q},edgeMinimization:{boolean:Q},parentCentralization:{boolean:Q},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:he,boolean:Q}},__type__:{object:he}},manipulation:{enabled:{boolean:Q},initiallyActive:{boolean:Q},addNode:{boolean:Q,function:"function"},addEdge:{boolean:Q,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:he,boolean:Q,function:"function"}},deleteNode:{boolean:Q,function:"function"},deleteEdge:{boolean:Q,function:"function"},controlNodeStyle:Rd,__type__:{object:he,boolean:Q}},nodes:Rd,physics:{enabled:{boolean:Q},barnesHut:{theta:{number:V},gravitationalConstant:{number:V},centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:he}},forceAtlas2Based:{theta:{number:V},gravitationalConstant:{number:V},centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:he}},repulsion:{centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},nodeDistance:{number:V},damping:{number:V},__type__:{object:he}},hierarchicalRepulsion:{centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},nodeDistance:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:he}},maxVelocity:{number:V},minVelocity:{number:V},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Q},iterations:{number:V},updateInterval:{number:V},onlyDynamicEdges:{boolean:Q},fit:{boolean:Q},__type__:{object:he,boolean:Q}},timestep:{number:V},adaptiveTimestep:{boolean:Q},wind:{x:{number:V},y:{number:V},__type__:{object:he}},__type__:{object:he,boolean:Q}},autoResize:{boolean:Q},clickToUse:{boolean:Q},locale:{string:ee},locales:{__any__:{any:vle},__type__:{object:he}},height:{string:ee},width:{string:ee},__type__:{object:he}},vE={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},gle=function(t,e,r){var i;return!!(cn(t).call(t,"physics")&&cn(i=vE.physics.solver).call(i,e)&&r.physics.solver!==e&&e!=="wind")},mle=function(){function n(){ne(this,n)}return ie(n,[{key:"getDistances",value:function(e,r,i){for(var a={},o=e.edges,s=0;s<r.length;s++){var l=r[s],u={};a[l]=u;for(var f=0;f<r.length;f++)u[r[f]]=s==f?0:1e9}for(var c=0;c<i.length;c++){var d=o[i[c]];d.connected===!0&&a[d.fromId]!==void 0&&a[d.toId]!==void 0&&(a[d.fromId][d.toId]=1,a[d.toId][d.fromId]=1)}for(var h=r.length,v=0;v<h;v++)for(var p=r[v],y=a[p],g=0;g<h-1;g++)for(var m=r[g],_=a[m],E=g+1;E<h;E++){var b=r[E],S=a[b],O=Math.min(_[b],_[p]+y[b]);_[b]=O,S[m]=O}return a}}]),n}(),yle=function(){function n(t,e,r){ne(this,n),this.body=t,this.springLength=e,this.springConstant=r,this.distanceSolver=new mle}return ie(n,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(a),this._createK_matrix(a),this._createE_matrix();for(var o=.01,s=1,l=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),f=5,c=1e9,d=0,h=0,v=0,p=0,y=0;c>o&&l<u;){l+=1;var g=this._getHighestEnergyNode(i),m=_t(g,4);for(d=m[0],c=m[1],h=m[2],v=m[3],p=c,y=0;p>s&&y<f;){y+=1,this._moveNode(d,h,v);var _=this._getEnergy(d),E=_t(_,3);p=E[0],h=E[1],v=E[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var r=this.body.nodeIndices,i=this.body.nodes,a=0,o=r[0],s=0,l=0,u=0;u<r.length;u++){var f=r[u];if(i[f].predefinedPosition!==!0||i[f].isCluster===!0&&e===!0||i[f].options.fixed.x!==!0||i[f].options.fixed.y!==!0){var c=this._getEnergy(f),d=_t(c,3),h=d[0],v=d[1],p=d[2];a<h&&(a=h,o=f,s=v,l=p)}}return[o,a,s,l]}},{key:"_getEnergy",value:function(e){var r=_t(this.E_sums[e],2),i=r[0],a=r[1],o=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));return[o,i,a]}},{key:"_moveNode",value:function(e,r,i){for(var a=this.body.nodeIndices,o=this.body.nodes,s=0,l=0,u=0,f=o[e].x,c=o[e].y,d=this.K_matrix[e],h=this.L_matrix[e],v=0;v<a.length;v++){var p=a[v];if(p!==e){var y=o[p].x,g=o[p].y,m=d[p],_=h[p],E=1/Math.pow(Math.pow(f-y,2)+Math.pow(c-g,2),1.5);s+=m*(1-_*Math.pow(c-g,2)*E),l+=m*(_*(f-y)*(c-g)*E),u+=m*(1-_*Math.pow(f-y,2)*E)}}var b=s,S=l,O=r,I=u,w=i,k=(O/b+w/S)/(S/b-I/S),R=-(S*k+O)/b;o[e].x+=R,o[e].y+=k,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var r=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var a=0;a<r.length;a++){this.L_matrix[r[a]]={};for(var o=0;o<r.length;o++)this.L_matrix[r[a]][r[o]]=i*e[r[a]][r[o]]}}},{key:"_createK_matrix",value:function(e){var r=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var a=0;a<r.length;a++){this.K_matrix[r[a]]={};for(var o=0;o<r.length;o++)this.K_matrix[r[a]][r[o]]=i*Math.pow(e[r[a]][r[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(var a=0;a<e.length;a++){for(var o=e[a],s=r[o].x,l=r[o].y,u=0,f=0,c=a;c<e.length;c++){var d=e[c];if(d!==o){var h=r[d].x,v=r[d].y,p=1/Math.sqrt(Math.pow(s-h,2)+Math.pow(l-v,2));this.E_matrix[o][c]=[this.K_matrix[o][d]*(s-h-this.L_matrix[o][d]*(s-h)*p),this.K_matrix[o][d]*(l-v-this.L_matrix[o][d]*(l-v)*p)],this.E_matrix[d][a]=this.E_matrix[o][c],u+=this.E_matrix[o][c][0],f+=this.E_matrix[o][c][1]}}this.E_sums[o]=[u,f]}}},{key:"_updateE_matrix",value:function(e){for(var r=this.body.nodeIndices,i=this.body.nodes,a=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],l=i[e].x,u=i[e].y,f=0,c=0,d=0;d<r.length;d++){var h=r[d];if(h!==e){var v=a[d],p=v[0],y=v[1],g=i[h].x,m=i[h].y,_=1/Math.sqrt(Math.pow(l-g,2)+Math.pow(u-m,2)),E=o[h]*(l-g-s[h]*(l-g)*_),b=o[h]*(u-m-s[h]*(u-m)*_);a[d]=[E,b],f+=E,c+=b;var S=this.E_sums[h];S[0]+=E-p,S[1]+=b-y}}this.E_sums[e]=[f,c]}}]),n}();function de(n,t,e){var r,i,a,o,s=this;if(!(this instanceof de))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:_ee,clickToUse:!1},At(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Z(r=this.on).call(r,this),off:Z(i=this.off).call(i,this),emit:Z(a=this.emit).call(a,this),once:Z(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new kee(function(){return s.body.emitter.emit("_requestRedraw")}),this.groups=new xte,this.canvas=new soe(this.body),this.selectionHandler=new Voe(this.body,this.canvas),this.interactionHandler=new hoe(this.body,this.canvas,this.selectionHandler),this.view=new uoe(this.body,this.canvas),this.renderer=new noe(this.body,this.canvas),this.physics=new Vae(this.body),this.layoutEngine=new fle(this.body),this.clustering=new Jae(this.body),this.manipulation=new hle(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Pie(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Rae(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new yle(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(t)}D2(de.prototype);de.prototype.setOptions=function(n){var t=this;if(n===null&&(n=void 0),n!==void 0){var e=QJ.validate(n,ple);e===!0&&console.error("%cErrors have been found in the supplied options object.",Sk);var r=["locale","locales","clickToUse"];if(fo(r,this.options,n),n.locale!==void 0&&(n.locale=$ee(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),n.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new YJ(this,this.body.container,vE,this.canvas.pixelRatio,gle)),this.configurator.setOptions(n.configure)),this.configurator&&this.configurator.options.enabled===!0){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};it(i.nodes,this.nodesHandler.options),it(i.edges,this.edgesHandler.options),it(i.layout,this.layoutEngine.options),it(i.interaction,this.selectionHandler.options),it(i.interaction,this.renderer.options),it(i.interaction,this.interactionHandler.options),it(i.manipulation,this.manipulation.options),it(i.physics,this.physics.options),it(i.global,this.canvas.options),it(i.global,this.options),this.configurator.setModuleOptions(i)}n.clickToUse!==void 0?n.clickToUse===!0?this.activator===void 0&&(this.activator=new KJ(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};de.prototype._updateVisibleIndices=function(){var n=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&!this.clustering._isClusteredNode(e)&&n[e].options.hidden===!1&&this.body.nodeIndices.push(n[e].id);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r],a=n[i.fromId],o=n[i.toId],s=a!==void 0&&o!==void 0,l=!this.clustering._isClusteredEdge(r)&&i.options.hidden===!1&&s&&a.options.hidden===!1&&o.options.hidden===!1;l&&this.body.edgeIndices.push(i.id)}};de.prototype.bindEventListeners=function(){var n=this;this.body.emitter.on("_dataChanged",function(){n.edgesHandler._updateState(),n.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){n.clustering._updateState(),n._updateVisibleIndices(),n._updateValueRange(n.body.nodes),n._updateValueRange(n.body.edges),n.body.emitter.emit("startSimulation"),n.body.emitter.emit("_requestRedraw")})};de.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=see(n.dot);this.setData(t);return}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var e=lee(n.gephi);this.setData(e);return}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};de.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Kn(this.body.container)};de.prototype._updateValueRange=function(n){var t,e=void 0,r=void 0,i=0;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var a=n[t].getValue();a!==void 0&&(e=e===void 0?a:Math.min(a,e),r=r===void 0?a:Math.max(a,r),i+=a)}if(e!==void 0&&r!==void 0)for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&n[t].setValueRange(e,r,i)};de.prototype.isActive=function(){return!this.activator||this.activator.active};de.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};de.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};de.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};de.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};de.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};de.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};de.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};de.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};de.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};de.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};de.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};de.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};de.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};de.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};de.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};de.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};de.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};de.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};de.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};de.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};de.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};de.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};de.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};de.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};de.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};de.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};de.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};de.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};de.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};de.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};de.prototype.getConnectedNodes=function(n){return this.body.nodes[n]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};de.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};de.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};de.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};de.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};de.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};de.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};de.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};de.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};de.prototype.getNodeAt=function(){var n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};de.prototype.getEdgeAt=function(){var n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};de.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};de.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};de.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};de.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};de.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};de.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};de.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};de.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};de.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};de.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};de.prototype.getOptionsFromConfigurator=function(){var n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};function cb(n,t,e){const r=n.slice();return r[5]=t[e],r}function db(n,t,e){const r=n.slice();return r[5]=t[e],r}function hb(n,t,e){const r=n.slice();return r[5]=t[e],r}function vb(n,t,e){const r=n.slice();return r[5]=t[e],r}function pb(n,t,e){const r=n.slice();return r[5]=t[e],r}function gb(n,t,e){const r=n.slice();return r[5]=t[e],r}function mb(n){let t,e=[n[5]],r={};for(let i=0;i<e.length;i+=1)r=ye(r,e[i]);return{c(){t=It("path"),this.h()},l(i){t=Ct(i,"path",{}),F(t).forEach($),this.h()},h(){mr(t,r)},m(i,a){x(i,t,a)},p(i,a){mr(t,r=pt(e,[a&2&&i[5]]))},d(i){i&&$(t)}}}function yb(n){let t,e=[n[5]],r={};for(let i=0;i<e.length;i+=1)r=ye(r,e[i]);return{c(){t=It("rect"),this.h()},l(i){t=Ct(i,"rect",{}),F(t).forEach($),this.h()},h(){mr(t,r)},m(i,a){x(i,t,a)},p(i,a){mr(t,r=pt(e,[a&2&&i[5]]))},d(i){i&&$(t)}}}function bb(n){let t,e=[n[5]],r={};for(let i=0;i<e.length;i+=1)r=ye(r,e[i]);return{c(){t=It("circle"),this.h()},l(i){t=Ct(i,"circle",{}),F(t).forEach($),this.h()},h(){mr(t,r)},m(i,a){x(i,t,a)},p(i,a){mr(t,r=pt(e,[a&2&&i[5]]))},d(i){i&&$(t)}}}function _b(n){let t,e=[n[5]],r={};for(let i=0;i<e.length;i+=1)r=ye(r,e[i]);return{c(){t=It("polygon"),this.h()},l(i){t=Ct(i,"polygon",{}),F(t).forEach($),this.h()},h(){mr(t,r)},m(i,a){x(i,t,a)},p(i,a){mr(t,r=pt(e,[a&2&&i[5]]))},d(i){i&&$(t)}}}function $b(n){let t,e=[n[5]],r={};for(let i=0;i<e.length;i+=1)r=ye(r,e[i]);return{c(){t=It("polyline"),this.h()},l(i){t=Ct(i,"polyline",{}),F(t).forEach($),this.h()},h(){mr(t,r)},m(i,a){x(i,t,a)},p(i,a){mr(t,r=pt(e,[a&2&&i[5]]))},d(i){i&&$(t)}}}function wb(n){let t,e=[n[5]],r={};for(let i=0;i<e.length;i+=1)r=ye(r,e[i]);return{c(){t=It("line"),this.h()},l(i){t=Ct(i,"line",{}),F(t).forEach($),this.h()},h(){mr(t,r)},m(i,a){x(i,t,a)},p(i,a){mr(t,r=pt(e,[a&2&&i[5]]))},d(i){i&&$(t)}}}function ble(n){var b,S,O,I,w,k,R;let t,e,r,i,a,o,s=((b=n[1])==null?void 0:b.path)??[],l=[];for(let T=0;T<s.length;T+=1)l[T]=mb(gb(n,s,T));let u=((S=n[1])==null?void 0:S.rect)??[],f=[];for(let T=0;T<u.length;T+=1)f[T]=yb(pb(n,u,T));let c=((O=n[1])==null?void 0:O.circle)??[],d=[];for(let T=0;T<c.length;T+=1)d[T]=bb(vb(n,c,T));let h=((I=n[1])==null?void 0:I.polygon)??[],v=[];for(let T=0;T<h.length;T+=1)v[T]=_b(hb(n,h,T));let p=((w=n[1])==null?void 0:w.polyline)??[],y=[];for(let T=0;T<p.length;T+=1)y[T]=$b(db(n,p,T));let g=((k=n[1])==null?void 0:k.line)??[],m=[];for(let T=0;T<g.length;T+=1)m[T]=wb(cb(n,g,T));let _=[(R=n[1])==null?void 0:R.a,{xmlns:"http://www.w3.org/2000/svg"},{width:n[0]},{height:n[0]},n[2]],E={};for(let T=0;T<_.length;T+=1)E=ye(E,_[T]);return{c(){t=It("svg");for(let T=0;T<l.length;T+=1)l[T].c();e=$e();for(let T=0;T<f.length;T+=1)f[T].c();r=$e();for(let T=0;T<d.length;T+=1)d[T].c();i=$e();for(let T=0;T<v.length;T+=1)v[T].c();a=$e();for(let T=0;T<y.length;T+=1)y[T].c();o=$e();for(let T=0;T<m.length;T+=1)m[T].c();this.h()},l(T){t=Ct(T,"svg",{xmlns:!0,width:!0,height:!0});var P=F(t);for(let A=0;A<l.length;A+=1)l[A].l(P);e=$e();for(let A=0;A<f.length;A+=1)f[A].l(P);r=$e();for(let A=0;A<d.length;A+=1)d[A].l(P);i=$e();for(let A=0;A<v.length;A+=1)v[A].l(P);a=$e();for(let A=0;A<y.length;A+=1)y[A].l(P);o=$e();for(let A=0;A<m.length;A+=1)m[A].l(P);P.forEach($),this.h()},h(){mr(t,E)},m(T,P){x(T,t,P);for(let A=0;A<l.length;A+=1)l[A].m(t,null);D(t,e);for(let A=0;A<f.length;A+=1)f[A].m(t,null);D(t,r);for(let A=0;A<d.length;A+=1)d[A].m(t,null);D(t,i);for(let A=0;A<v.length;A+=1)v[A].m(t,null);D(t,a);for(let A=0;A<y.length;A+=1)y[A].m(t,null);D(t,o);for(let A=0;A<m.length;A+=1)m[A].m(t,null)},p(T,[P]){var A,K,U,fe,L,W,Y;if(P&2){s=((A=T[1])==null?void 0:A.path)??[];let B;for(B=0;B<s.length;B+=1){const H=gb(T,s,B);l[B]?l[B].p(H,P):(l[B]=mb(H),l[B].c(),l[B].m(t,e))}for(;B<l.length;B+=1)l[B].d(1);l.length=s.length}if(P&2){u=((K=T[1])==null?void 0:K.rect)??[];let B;for(B=0;B<u.length;B+=1){const H=pb(T,u,B);f[B]?f[B].p(H,P):(f[B]=yb(H),f[B].c(),f[B].m(t,r))}for(;B<f.length;B+=1)f[B].d(1);f.length=u.length}if(P&2){c=((U=T[1])==null?void 0:U.circle)??[];let B;for(B=0;B<c.length;B+=1){const H=vb(T,c,B);d[B]?d[B].p(H,P):(d[B]=bb(H),d[B].c(),d[B].m(t,i))}for(;B<d.length;B+=1)d[B].d(1);d.length=c.length}if(P&2){h=((fe=T[1])==null?void 0:fe.polygon)??[];let B;for(B=0;B<h.length;B+=1){const H=hb(T,h,B);v[B]?v[B].p(H,P):(v[B]=_b(H),v[B].c(),v[B].m(t,a))}for(;B<v.length;B+=1)v[B].d(1);v.length=h.length}if(P&2){p=((L=T[1])==null?void 0:L.polyline)??[];let B;for(B=0;B<p.length;B+=1){const H=db(T,p,B);y[B]?y[B].p(H,P):(y[B]=$b(H),y[B].c(),y[B].m(t,o))}for(;B<y.length;B+=1)y[B].d(1);y.length=p.length}if(P&2){g=((W=T[1])==null?void 0:W.line)??[];let B;for(B=0;B<g.length;B+=1){const H=cb(T,g,B);m[B]?m[B].p(H,P):(m[B]=wb(H),m[B].c(),m[B].m(t,null))}for(;B<m.length;B+=1)m[B].d(1);m.length=g.length}mr(t,E=pt(_,[P&2&&((Y=T[1])==null?void 0:Y.a),{xmlns:"http://www.w3.org/2000/svg"},P&1&&{width:T[0]},P&1&&{height:T[0]},P&4&&T[2]]))},i:_e,o:_e,d(T){T&&$(t),nr(l,T),nr(f,T),nr(d,T),nr(v,T),nr(y,T),nr(m,T)}}}function _le(n,t,e){let r;const i=["src","size","theme"];let a=ot(t,i),{src:o}=t,{size:s="100%"}=t,{theme:l="default"}=t;if(s!=="100%"&&s.slice(-1)!="x"&&s.slice(-1)!="m"&&s.slice(-1)!="%")try{s=parseInt(s)+"px"}catch{s="100%"}return n.$$set=u=>{t=ye(ye({},t),st(u)),e(2,a=ot(t,i)),"src"in u&&e(3,o=u.src),"size"in u&&e(0,s=u.size),"theme"in u&&e(4,l=u.theme)},n.$$.update=()=>{n.$$.dirty&24&&e(1,r=(o==null?void 0:o[l])??(o==null?void 0:o.default))},[s,r,a,o,l]}class Qt extends Le{constructor(t){super(),xe(this,t,_le,ble,Ae,{src:3,size:0,theme:4})}}const kb={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z","clip-rule":"evenodd"},{"fill-rule":"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm5.03 4.72a.75.75 0 010 1.06l-1.72 1.72h10.94a.75.75 0 010 1.5H10.81l1.72 1.72a.75.75 0 11-1.06 1.06l-3-3a.75.75 0 010-1.06l3-3a.75.75 0 011.06 0z","clip-rule":"evenodd"}]}},$le={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"}]}},Eb={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z","clip-rule":"evenodd"},{"fill-rule":"evenodd",d:"M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm10.72 4.72a.75.75 0 011.06 0l3 3a.75.75 0 010 1.06l-3 3a.75.75 0 11-1.06-1.06l1.72-1.72H9a.75.75 0 010-1.5h10.94l-1.72-1.72a.75.75 0 010-1.06z","clip-rule":"evenodd"}]}},Sb={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z","clip-rule":"evenodd"}]}},wle={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z","clip-rule":"evenodd"}]}},kle={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{d:"M21 6.375c0 2.692-4.03 4.875-9 4.875S3 9.067 3 6.375 7.03 1.5 12 1.5s9 2.183 9 4.875z"},{d:"M12 12.75c2.685 0 5.19-.586 7.078-1.609a8.283 8.283 0 001.897-1.384c.016.121.025.244.025.368C21 12.817 16.97 15 12 15s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.285 8.285 0 001.897 1.384C6.809 12.164 9.315 12.75 12 12.75z"},{d:"M12 16.5c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 001.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 001.897 1.384C6.809 15.914 9.315 16.5 12 16.5z"},{d:"M12 20.25c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 001.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 001.897 1.384C6.809 19.664 9.315 20.25 12 20.25z"}]}},Ele={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"},{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M7.84 1.804A1 1 0 018.82 1h2.36a1 1 0 01.98.804l.331 1.652a6.993 6.993 0 011.929 1.115l1.598-.54a1 1 0 011.186.447l1.18 2.044a1 1 0 01-.205 1.251l-1.267 1.113a7.047 7.047 0 010 2.228l1.267 1.113a1 1 0 01.206 1.25l-1.18 2.045a1 1 0 01-1.187.447l-1.598-.54a6.993 6.993 0 01-1.929 1.115l-.33 1.652a1 1 0 01-.98.804H8.82a1 1 0 01-.98-.804l-.331-1.652a6.993 6.993 0 01-1.929-1.115l-1.598.54a1 1 0 01-1.186-.447l-1.18-2.044a1 1 0 01.205-1.251l1.267-1.114a7.05 7.05 0 010-2.227L1.821 7.773a1 1 0 01-.206-1.25l1.18-2.045a1 1 0 011.187-.447l1.598.54A6.993 6.993 0 017.51 3.456l.33-1.652zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z","clip-rule":"evenodd"}]}},Sle={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"}]}},Ole={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{d:"M12.232 4.232a2.5 2.5 0 013.536 3.536l-1.225 1.224a.75.75 0 001.061 1.06l1.224-1.224a4 4 0 00-5.656-5.656l-3 3a4 4 0 00.225 5.865.75.75 0 00.977-1.138 2.5 2.5 0 01-.142-3.667l3-3z"},{d:"M11.603 7.963a.75.75 0 00-.977 1.138 2.5 2.5 0 01.142 3.667l-3 3a2.5 2.5 0 01-3.536-3.536l1.225-1.224a.75.75 0 00-1.061-1.06l-1.224 1.224a4 4 0 105.656 5.656l3-3a4 4 0 00-.225-5.865z"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M19.902 4.098a3.75 3.75 0 00-5.304 0l-4.5 4.5a3.75 3.75 0 001.035 6.037.75.75 0 01-.646 1.353 5.25 5.25 0 01-1.449-8.45l4.5-4.5a5.25 5.25 0 117.424 7.424l-1.757 1.757a.75.75 0 11-1.06-1.06l1.757-1.757a3.75 3.75 0 000-5.304zm-7.389 4.267a.75.75 0 011-.353 5.25 5.25 0 011.449 8.45l-4.5 4.5a5.25 5.25 0 11-7.424-7.424l1.757-1.757a.75.75 0 111.06 1.06l-1.757 1.757a3.75 3.75 0 105.304 5.304l4.5-4.5a3.75 3.75 0 00-1.035-6.037.75.75 0 01-.354-1z","clip-rule":"evenodd"}]}},Ob={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"}]}},Tb={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5V6.75a4.5 4.5 0 119 0v3.75M3.75 21.75h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H3.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M14.5 1A4.5 4.5 0 0010 5.5V9H3a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-1.5V5.5a3 3 0 116 0v2.75a.75.75 0 001.5 0V5.5A4.5 4.5 0 0014.5 1z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{d:"M18 1.5c2.9 0 5.25 2.35 5.25 5.25v3.75a.75.75 0 01-1.5 0V6.75a3.75 3.75 0 10-7.5 0v3a3 3 0 013 3v6.75a3 3 0 01-3 3H3.75a3 3 0 01-3-3v-6.75a3 3 0 013-3h9v-3c0-2.9 2.35-5.25 5.25-5.25z"}]}},pE={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"}]}},Ib={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"},{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"},{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"}]}},Tle={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 01-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 01-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 01-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584zM12 18a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"}]}},Ile={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"}]}},Pp={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"}]}};function Cle(n){let t;return{c(){t=ve("Not implemented")},l(e){t=pe(e,"Not implemented")},m(e,r){x(e,t,r)},p:_e,i:_e,o:_e,d(e){e&&$(t)}}}function Ple(n){let t,e,r,i,a,o,s,l,u,f,c,d,h,v,p=n[1].fixed?"Unlock":"Lock",y,g,m,_,E,b,S,O,I;return r=new Qt({props:{src:Sle}}),l=new Qt({props:{src:pE}}),h=new Qt({props:{src:n[1].fixed?Tb:Ob}}),E=new Qt({props:{src:Ile}}),{c(){t=z("button"),e=z("div"),ae(r.$$.fragment),i=ve(`

				Information`),a=te(),o=z("button"),s=z("div"),ae(l.$$.fragment),u=ve(`

				Focus`),f=te(),c=z("button"),d=z("div"),ae(h.$$.fragment),v=te(),y=ve(p),g=te(),m=z("button"),_=z("div"),ae(E.$$.fragment),b=ve(`

				Remove`),this.h()},l(w){t=j(w,"BUTTON",{class:!0});var k=F(t);e=j(k,"DIV",{class:!0});var R=F(e);le(r.$$.fragment,R),R.forEach($),i=pe(k,`

				Information`),k.forEach($),a=re(w),o=j(w,"BUTTON",{class:!0});var T=F(o);s=j(T,"DIV",{class:!0});var P=F(s);le(l.$$.fragment,P),P.forEach($),u=pe(T,`

				Focus`),T.forEach($),f=re(w),c=j(w,"BUTTON",{class:!0});var A=F(c);d=j(A,"DIV",{class:!0});var K=F(d);le(h.$$.fragment,K),K.forEach($),v=re(A),y=pe(A,p),A.forEach($),g=re(w),m=j(w,"BUTTON",{class:!0});var U=F(m);_=j(U,"DIV",{class:!0});var fe=F(_);le(E.$$.fragment,fe),fe.forEach($),b=pe(U,`

				Remove`),U.forEach($),this.h()},h(){C(e,"class","icon svelte-noctd3"),C(t,"class","context-menu-item dark:hover:bg-black/30 hover:bg-black/10 svelte-noctd3"),C(s,"class","icon svelte-noctd3"),C(o,"class","context-menu-item dark:hover:bg-black/30 hover:bg-black/10 svelte-noctd3"),C(d,"class","icon svelte-noctd3"),C(c,"class","context-menu-item dark:hover:bg-black/30 hover:bg-black/10 svelte-noctd3"),C(_,"class","icon svelte-noctd3"),C(m,"class","context-menu-item dark:hover:bg-black/30 hover:bg-black/10 text-[#EF4444] svelte-noctd3")},m(w,k){x(w,t,k),D(t,e),oe(r,e,null),D(t,i),x(w,a,k),x(w,o,k),D(o,s),oe(l,s,null),D(o,u),x(w,f,k),x(w,c,k),D(c,d),oe(h,d,null),D(c,v),D(c,y),x(w,g,k),x(w,m,k),D(m,_),oe(E,_,null),D(m,b),S=!0,O||(I=[J(t,"click",n[6]),J(o,"click",n[4]),J(c,"click",n[5]),J(m,"click",n[3])],O=!0)},p(w,k){const R={};k&2&&(R.src=w[1].fixed?Tb:Ob),h.$set(R),(!S||k&2)&&p!==(p=w[1].fixed?"Unlock":"Lock")&&tt(y,p)},i(w){S||(M(r.$$.fragment,w),M(l.$$.fragment,w),M(h.$$.fragment,w),M(E.$$.fragment,w),S=!0)},o(w){N(r.$$.fragment,w),N(l.$$.fragment,w),N(h.$$.fragment,w),N(E.$$.fragment,w),S=!1},d(w){w&&$(t),se(r),w&&$(a),w&&$(o),se(l),w&&$(f),w&&$(c),se(h),w&&$(g),w&&$(m),se(E),O=!1,Lr(I)}}}function Ale(n){let t,e,r,i,a;const o=[Ple,Cle],s=[];function l(u,f){return u[1]?0:1}return r=l(n),i=s[r]=o[r](n),{c(){t=z("div"),e=z("div"),i.c(),this.h()},l(u){t=j(u,"DIV",{class:!0});var f=F(t);e=j(f,"DIV",{class:!0});var c=F(e);i.l(c),c.forEach($),f.forEach($),this.h()},h(){C(e,"class","context-menu svelte-noctd3"),t.hidden=n[0],C(t,"class","border dark:border-dark-muted dark:bg-dark-bg bg-white shadow-md z-40 absolute p-2 rounded-lg")},m(u,f){x(u,t,f),D(t,e),s[r].m(e,null),n[10](t),a=!0},p(u,[f]){let c=r;r=l(u),r===c?s[r].p(u,f):(Fe(),N(s[c],1,1,()=>{s[c]=null}),Be(),i=s[r],i?i.p(u,f):(i=s[r]=o[r](u),i.c()),M(i,1),i.m(e,null)),(!a||f&1)&&(t.hidden=u[0])},i(u){a||(M(i),a=!0)},o(u){N(i),a=!1},d(u){u&&$(t),s[r].d(),n[10](null)}}}function Mle(n,t,e){let{menu_position:r={x:0,y:0}}=t,{hidden:i=!0}=t,{selection:a=void 0}=t,{graph:o}=t,{on_information:s}=t,l;function u(p){l&&(e(2,l.style.top=p.y+"px",l),e(2,l.style.left=p.x+"px",l))}function f(){a&&o.hide_node(a),e(0,i=!0)}function c(){var p;a&&((p=o.network)==null||p.focus(a.id,{scale:1,animation:{duration:1e3,easingFunction:"easeInOutQuad"}})),e(0,i=!0)}function d(){var p;a&&o.toggle_node_lock(a,((p=o.network)==null?void 0:p.getPosition(a.id))??{x:0,y:0}),e(0,i=!0)}function h(){a&&s(a),e(0,i=!0)}function v(p){yt[p?"unshift":"push"](()=>{l=p,e(2,l)})}return n.$$set=p=>{"menu_position"in p&&e(7,r=p.menu_position),"hidden"in p&&e(0,i=p.hidden),"selection"in p&&e(1,a=p.selection),"graph"in p&&e(8,o=p.graph),"on_information"in p&&e(9,s=p.on_information)},n.$$.update=()=>{n.$$.dirty&132&&u(r)},[i,a,l,f,c,d,h,r,o,s,v]}class Dle extends Le{constructor(t){super(),xe(this,t,Mle,Ale,Ae,{menu_position:7,hidden:0,selection:1,graph:8,on_information:9})}}function Bn(n){return Array.isArray?Array.isArray(n):yE(n)==="[object Array]"}const Rle=1/0;function Nle(n){if(typeof n=="string")return n;let t=n+"";return t=="0"&&1/n==-Rle?"-0":t}function Fle(n){return n==null?"":Nle(n)}function un(n){return typeof n=="string"}function gE(n){return typeof n=="number"}function Ble(n){return n===!0||n===!1||Lle(n)&&yE(n)=="[object Boolean]"}function mE(n){return typeof n=="object"}function Lle(n){return mE(n)&&n!==null}function kr(n){return n!=null}function Nd(n){return!n.trim().length}function yE(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const xle="Incorrect 'index' type",zle=n=>`Invalid value for key ${n}`,jle=n=>`Pattern length exceeds max of ${n}.`,Hle=n=>`Missing ${n} property in key`,Wle=n=>`Property 'weight' in key '${n}' must be a positive integer`,Cb=Object.prototype.hasOwnProperty;class Vle{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(r=>{let i=bE(r);e+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,e+=i.weight}),this._keys.forEach(r=>{r.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function bE(n){let t=null,e=null,r=null,i=1,a=null;if(un(n)||Bn(n))r=n,t=Pb(n),e=Xh(n);else{if(!Cb.call(n,"name"))throw new Error(Hle("name"));const o=n.name;if(r=o,Cb.call(n,"weight")&&(i=n.weight,i<=0))throw new Error(Wle(o));t=Pb(o),e=Xh(o),a=n.getFn}return{path:t,id:e,weight:i,src:r,getFn:a}}function Pb(n){return Bn(n)?n:n.split(".")}function Xh(n){return Bn(n)?n.join("."):n}function Ule(n,t){let e=[],r=!1;const i=(a,o,s)=>{if(kr(a))if(!o[s])e.push(a);else{let l=o[s];const u=a[l];if(!kr(u))return;if(s===o.length-1&&(un(u)||gE(u)||Ble(u)))e.push(Fle(u));else if(Bn(u)){r=!0;for(let f=0,c=u.length;f<c;f+=1)i(u[f],o,s+1)}else o.length&&i(u,o,s+1)}};return i(n,un(t)?t.split("."):t,0),r?e:e[0]}const Gle={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},qle={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,t)=>n.score===t.score?n.idx<t.idx?-1:1:n.score<t.score?-1:1},Kle={location:0,threshold:.6,distance:100},Yle={useExtendedSearch:!1,getFn:Ule,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Oe={...qle,...Gle,...Kle,...Yle};const Xle=/[^ ]+/g;function Qle(n=1,t=3){const e=new Map,r=Math.pow(10,t);return{get(i){const a=i.match(Xle).length;if(e.has(a))return e.get(a);const o=1/Math.pow(a,.5*n),s=parseFloat(Math.round(o*r)/r);return e.set(a,s),s},clear(){e.clear()}}}class Ap{constructor({getFn:t=Oe.getFn,fieldNormWeight:e=Oe.fieldNormWeight}={}){this.norm=Qle(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,r)=>{this._keysMap[e.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,un(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();un(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,r=this.size();e<r;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!kr(t)||Nd(t))return;let r={v:t,i:e,n:this.norm.get(t)};this.records.push(r)}_addObject(t,e){let r={i:e,$:{}};this.keys.forEach((i,a)=>{let o=i.getFn?i.getFn(t):this.getFn(t,i.path);if(kr(o)){if(Bn(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:f}=l.pop();if(kr(f))if(un(f)&&!Nd(f)){let c={v:f,i:u,n:this.norm.get(f)};s.push(c)}else Bn(f)&&f.forEach((c,d)=>{l.push({nestedArrIndex:d,value:c})})}r.$[a]=s}else if(un(o)&&!Nd(o)){let s={v:o,n:this.norm.get(o)};r.$[a]=s}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function _E(n,t,{getFn:e=Oe.getFn,fieldNormWeight:r=Oe.fieldNormWeight}={}){const i=new Ap({getFn:e,fieldNormWeight:r});return i.setKeys(n.map(bE)),i.setSources(t),i.create(),i}function Zle(n,{getFn:t=Oe.getFn,fieldNormWeight:e=Oe.fieldNormWeight}={}){const{keys:r,records:i}=n,a=new Ap({getFn:t,fieldNormWeight:e});return a.setKeys(r),a.setIndexRecords(i),a}function Ll(n,{errors:t=0,currentLocation:e=0,expectedLocation:r=0,distance:i=Oe.distance,ignoreLocation:a=Oe.ignoreLocation}={}){const o=t/n.length;if(a)return o;const s=Math.abs(r-e);return i?o+s/i:s?1:o}function Jle(n=[],t=Oe.minMatchCharLength){let e=[],r=-1,i=-1,a=0;for(let o=n.length;a<o;a+=1){let s=n[a];s&&r===-1?r=a:!s&&r!==-1&&(i=a-1,i-r+1>=t&&e.push([r,i]),r=-1)}return n[a-1]&&a-r>=t&&e.push([r,a-1]),e}const Si=32;function eue(n,t,e,{location:r=Oe.location,distance:i=Oe.distance,threshold:a=Oe.threshold,findAllMatches:o=Oe.findAllMatches,minMatchCharLength:s=Oe.minMatchCharLength,includeMatches:l=Oe.includeMatches,ignoreLocation:u=Oe.ignoreLocation}={}){if(t.length>Si)throw new Error(jle(Si));const f=t.length,c=n.length,d=Math.max(0,Math.min(r,c));let h=a,v=d;const p=s>1||l,y=p?Array(c):[];let g;for(;(g=n.indexOf(t,v))>-1;){let O=Ll(t,{currentLocation:g,expectedLocation:d,distance:i,ignoreLocation:u});if(h=Math.min(O,h),v=g+f,p){let I=0;for(;I<f;)y[g+I]=1,I+=1}}v=-1;let m=[],_=1,E=f+c;const b=1<<f-1;for(let O=0;O<f;O+=1){let I=0,w=E;for(;I<w;)Ll(t,{errors:O,currentLocation:d+w,expectedLocation:d,distance:i,ignoreLocation:u})<=h?I=w:E=w,w=Math.floor((E-I)/2+I);E=w;let k=Math.max(1,d-w+1),R=o?c:Math.min(d+w,c)+f,T=Array(R+2);T[R+1]=(1<<O)-1;for(let A=R;A>=k;A-=1){let K=A-1,U=e[n.charAt(K)];if(p&&(y[K]=+!!U),T[A]=(T[A+1]<<1|1)&U,O&&(T[A]|=(m[A+1]|m[A])<<1|1|m[A+1]),T[A]&b&&(_=Ll(t,{errors:O,currentLocation:K,expectedLocation:d,distance:i,ignoreLocation:u}),_<=h)){if(h=_,v=K,v<=d)break;k=Math.max(1,2*d-v)}}if(Ll(t,{errors:O+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>h)break;m=T}const S={isMatch:v>=0,score:Math.max(.001,_)};if(p){const O=Jle(y,s);O.length?l&&(S.indices=O):S.isMatch=!1}return S}function tue(n){let t={};for(let e=0,r=n.length;e<r;e+=1){const i=n.charAt(e);t[i]=(t[i]||0)|1<<r-e-1}return t}class $E{constructor(t,{location:e=Oe.location,threshold:r=Oe.threshold,distance:i=Oe.distance,includeMatches:a=Oe.includeMatches,findAllMatches:o=Oe.findAllMatches,minMatchCharLength:s=Oe.minMatchCharLength,isCaseSensitive:l=Oe.isCaseSensitive,ignoreLocation:u=Oe.ignoreLocation}={}){if(this.options={location:e,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=(d,h)=>{this.chunks.push({pattern:d,alphabet:tue(d),startIndex:h})},c=this.pattern.length;if(c>Si){let d=0;const h=c%Si,v=c-h;for(;d<v;)f(this.pattern.substr(d,Si),d),d+=Si;if(h){const p=c-Si;f(this.pattern.substr(p),p)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:r}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let v={isMatch:!0,score:0};return r&&(v.indices=[[0,t.length-1]]),v}const{location:i,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,ignoreLocation:u}=this.options;let f=[],c=0,d=!1;this.chunks.forEach(({pattern:v,alphabet:p,startIndex:y})=>{const{isMatch:g,score:m,indices:_}=eue(t,v,p,{location:i+y,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});g&&(d=!0),c+=m,g&&_&&(f=[...f,..._])});let h={isMatch:d,score:d?c/this.chunks.length:1};return d&&r&&(h.indices=f),h}}class gi{constructor(t){this.pattern=t}static isMultiMatch(t){return Ab(t,this.multiRegex)}static isSingleMatch(t){return Ab(t,this.singleRegex)}search(){}}function Ab(n,t){const e=n.match(t);return e?e[1]:null}class rue extends gi{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class nue extends gi{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class iue extends gi{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class aue extends gi{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class oue extends gi{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class sue extends gi{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class wE extends gi{constructor(t,{location:e=Oe.location,threshold:r=Oe.threshold,distance:i=Oe.distance,includeMatches:a=Oe.includeMatches,findAllMatches:o=Oe.findAllMatches,minMatchCharLength:s=Oe.minMatchCharLength,isCaseSensitive:l=Oe.isCaseSensitive,ignoreLocation:u=Oe.ignoreLocation}={}){super(t),this._bitapSearch=new $E(t,{location:e,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class kE extends gi{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,r;const i=[],a=this.pattern.length;for(;(r=t.indexOf(this.pattern,e))>-1;)e=r+a,i.push([r,e-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Qh=[rue,kE,iue,aue,sue,oue,nue,wE],Mb=Qh.length,lue=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,uue="|";function fue(n,t={}){return n.split(uue).map(e=>{let r=e.trim().split(lue).filter(a=>a&&!!a.trim()),i=[];for(let a=0,o=r.length;a<o;a+=1){const s=r[a];let l=!1,u=-1;for(;!l&&++u<Mb;){const f=Qh[u];let c=f.isMultiMatch(s);c&&(i.push(new f(c,t)),l=!0)}if(!l)for(u=-1;++u<Mb;){const f=Qh[u];let c=f.isSingleMatch(s);if(c){i.push(new f(c,t));break}}}return i})}const cue=new Set([wE.type,kE.type]);class due{constructor(t,{isCaseSensitive:e=Oe.isCaseSensitive,includeMatches:r=Oe.includeMatches,minMatchCharLength:i=Oe.minMatchCharLength,ignoreLocation:a=Oe.ignoreLocation,findAllMatches:o=Oe.findAllMatches,location:s=Oe.location,threshold:l=Oe.threshold,distance:u=Oe.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:a,location:s,threshold:l,distance:u},this.pattern=e?t:t.toLowerCase(),this.query=fue(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let a=0,o=[],s=0;for(let l=0,u=e.length;l<u;l+=1){const f=e[l];o.length=0,a=0;for(let c=0,d=f.length;c<d;c+=1){const h=f[c],{isMatch:v,indices:p,score:y}=h.search(t);if(v){if(a+=1,s+=y,r){const g=h.constructor.type;cue.has(g)?o=[...o,...p]:o.push(p)}}else{s=0,a=0,o.length=0;break}}if(a){let c={isMatch:!0,score:s/a};return r&&(c.indices=o),c}}return{isMatch:!1,score:1}}}const Zh=[];function hue(...n){Zh.push(...n)}function Jh(n,t){for(let e=0,r=Zh.length;e<r;e+=1){let i=Zh[e];if(i.condition(n,t))return new i(n,t)}return new $E(n,t)}const Iu={AND:"$and",OR:"$or"},ev={PATH:"$path",PATTERN:"$val"},tv=n=>!!(n[Iu.AND]||n[Iu.OR]),vue=n=>!!n[ev.PATH],pue=n=>!Bn(n)&&mE(n)&&!tv(n),Db=n=>({[Iu.AND]:Object.keys(n).map(t=>({[t]:n[t]}))});function EE(n,t,{auto:e=!0}={}){const r=i=>{let a=Object.keys(i);const o=vue(i);if(!o&&a.length>1&&!tv(i))return r(Db(i));if(pue(i)){const l=o?i[ev.PATH]:a[0],u=o?i[ev.PATTERN]:i[l];if(!un(u))throw new Error(zle(l));const f={keyId:Xh(l),pattern:u};return e&&(f.searcher=Jh(u,t)),f}let s={children:[],operator:a[0]};return a.forEach(l=>{const u=i[l];Bn(u)&&u.forEach(f=>{s.children.push(r(f))})}),s};return tv(n)||(n=Db(n)),r(n)}function gue(n,{ignoreFieldNorm:t=Oe.ignoreFieldNorm}){n.forEach(e=>{let r=1;e.matches.forEach(({key:i,norm:a,score:o})=>{const s=i?i.weight:null;r*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(t?1:a))}),e.score=r})}function mue(n,t){const e=n.matches;t.matches=[],kr(e)&&e.forEach(r=>{if(!kr(r.indices)||!r.indices.length)return;const{indices:i,value:a}=r;let o={indices:i,value:a};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function yue(n,t){t.score=n.score}function bue(n,t,{includeMatches:e=Oe.includeMatches,includeScore:r=Oe.includeScore}={}){const i=[];return e&&i.push(mue),r&&i.push(yue),n.map(a=>{const{idx:o}=a,s={item:t[o],refIndex:o};return i.length&&i.forEach(l=>{l(a,s)}),s})}class Ki{constructor(t,e={},r){this.options={...Oe,...e},this.options.useExtendedSearch,this._keyStore=new Vle(this.options.keys),this.setCollection(t,r)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Ap))throw new Error(xle);this._myIndex=e||_E(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){kr(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let r=0,i=this._docs.length;r<i;r+=1){const a=this._docs[r];t(a,r)&&(this.removeAt(r),r-=1,i-=1,e.push(a))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:a,sortFn:o,ignoreFieldNorm:s}=this.options;let l=un(t)?un(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return gue(l,{ignoreFieldNorm:s}),a&&l.sort(o),gE(e)&&e>-1&&(l=l.slice(0,e)),bue(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const e=Jh(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:a,i:o,n:s})=>{if(!kr(a))return;const{isMatch:l,score:u,indices:f}=e.searchIn(a);l&&i.push({item:a,idx:o,matches:[{score:u,value:a,norm:s,indices:f}]})}),i}_searchLogical(t){const e=EE(t,this.options),r=(s,l,u)=>{if(!s.children){const{keyId:c,searcher:d}=s,h=this._findMatches({key:this._keyStore.get(c),value:this._myIndex.getValueForItemAtKeyId(l,c),searcher:d});return h&&h.length?[{idx:u,item:l,matches:h}]:[]}const f=[];for(let c=0,d=s.children.length;c<d;c+=1){const h=s.children[c],v=r(h,l,u);if(v.length)f.push(...v);else if(s.operator===Iu.AND)return[]}return f},i=this._myIndex.records,a={},o=[];return i.forEach(({$:s,i:l})=>{if(kr(s)){let u=r(e,s,l);u.length&&(a[l]||(a[l]={idx:l,item:s,matches:[]},o.push(a[l])),u.forEach(({matches:f})=>{a[l].matches.push(...f)}))}}),o}_searchObjectList(t){const e=Jh(t,this.options),{keys:r,records:i}=this._myIndex,a=[];return i.forEach(({$:o,i:s})=>{if(!kr(o))return;let l=[];r.forEach((u,f)=>{l.push(...this._findMatches({key:u,value:o[f],searcher:e}))}),l.length&&a.push({idx:s,item:o,matches:l})}),a}_findMatches({key:t,value:e,searcher:r}){if(!kr(e))return[];let i=[];if(Bn(e))e.forEach(({v:a,i:o,n:s})=>{if(!kr(a))return;const{isMatch:l,score:u,indices:f}=r.searchIn(a);l&&i.push({score:u,key:t,value:a,idx:o,norm:s,indices:f})});else{const{v:a,n:o}=e,{isMatch:s,score:l,indices:u}=r.searchIn(a);s&&i.push({score:l,key:t,value:a,norm:o,indices:u})}return i}}Ki.version="6.6.2";Ki.createIndex=_E;Ki.parseIndex=Zle;Ki.config=Oe;Ki.parseQuery=EE;hue(due);function _ue(n,t,e,r){var i,a,o=!1,s="withOld"in e,l=(g,m)=>{if(i=m,s&&(a=g),!o){let _=t(g,m);if(t.length<2)m(_);else return _}o=!1},u=UE(n,l,r),f=!Array.isArray(n),c=g=>{f?(o=!0,n.set(g)):g.forEach((m,_)=>{o=!0,n[_].set(m)}),o=!1};s&&(e=e.withOld);var d=e.length>=(s?3:2),h=null;function v(g){if(h&&(h(),h=null),s)var m=e(g,a,c);else var m=e(g,c);d?typeof m=="function"&&(h=m):c(m)}var p=!1;function y(g){var m,_,E,b;if(p){b=g(Mr(u)),i(b);return}var S=u.subscribe(O=>{p?m?_=!0:m=!0:E=O});b=g(E),p=!0,i(b),S(),p=!1,_&&(b=Mr(u)),m&&v(b)}return{subscribe:u.subscribe,set(g){y(()=>g)},update:y}}const $ue=20,aa=ov([]),Mp=ov(null),eu=new Map,Rb=n=>{if(eu.has(n))return;const t=setTimeout(()=>{eu.delete(n),OE(n)},1e3);eu.set(n,t)},wue=n=>{const t=eu.get(n);t&&clearTimeout(t)};function SE(n){n.id&&wue(n.id),aa.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function kue(n){aa.update(t=>[n,...t].slice(0,$ue))}function Eue(n){Mr(aa).find(t=>t.id===n.id)?SE(n):kue(n)}function Sue(n){aa.update(t=>(n?Rb(n):t.forEach(e=>{Rb(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function OE(n){aa.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function Oue(n){Mp.set(n)}function Tue(n){let t;Mp.update(e=>(t=n-(e||0),null)),aa.update(e=>e.map(r=>({...r,pauseDuration:r.pauseDuration+t})))}const Iue={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function Cue(n={}){return{toasts:_ue(aa,e=>e.map(r=>{var i,a;return{...n,...n[r.type],...r,duration:r.duration||((i=n[r.type])==null?void 0:i.duration)||(n==null?void 0:n.duration)||Iue[r.type],style:[n.style,(a=n[r.type])==null?void 0:a.style,r.style].join(";")}}),e=>e),pausedAt:Mp}}const Pue=n=>typeof n=="function",Nb=(n,t)=>Pue(n)?n(t):n,Aue=(()=>{let n=0;return()=>(n+=1,n.toString())})(),TE=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Mue=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Aue()}),Zs=n=>(t,e)=>{const r=Mue(t,n,e);return Eue(r),r.id},Yr=(n,t)=>Zs("blank")(n,t);Yr.error=Zs("error");Yr.success=Zs("success");Yr.loading=Zs("loading");Yr.custom=Zs("custom");Yr.dismiss=n=>{Sue(n)};Yr.remove=n=>OE(n);Yr.promise=(n,t,e)=>{const r=Yr.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(i=>(Yr.success(Nb(t.success,i),{id:r,...e,...e==null?void 0:e.success}),i)).catch(i=>{Yr.error(Nb(t.error,i),{id:r,...e,...e==null?void 0:e.error})}),n};const rv=Yr;function Due(n,t,e){const{reverseOrder:r,gutter:i=8,defaultPosition:a}=e||{},o=t.filter(f=>(f.position||a)===(n.position||a)&&f.height),s=o.findIndex(f=>f.id===n.id),l=o.filter((f,c)=>c<s&&f.visible).length;return o.filter(f=>f.visible).slice(...r?[l+1]:[0,l]).reduce((f,c)=>f+(c.height||0)+i,0)}const Rue={startPause(){Oue(Date.now())},endPause(){Tue(Date.now())},updateHeight:(n,t)=>{SE({id:n,height:t})},calculateOffset:Due};function Nue(n){const{toasts:t,pausedAt:e}=Cue(n),r=new Map;let i;const a=[e.subscribe(o=>{if(o){for(const[,s]of r)clearTimeout(s);r.clear()}i=o}),t.subscribe(o=>{if(i)return;const s=Date.now();for(const l of o){if(r.has(l.id)||l.duration===1/0)continue;const u=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(u<0)return l.visible&&rv.dismiss(l.id),null;r.set(l.id,setTimeout(()=>rv.dismiss(l.id),u))}})];return N_(()=>{for(const o of a)o()}),{toasts:t,handlers:Rue}}function Fue(n){let t;return{c(){t=z("div"),this.h()},l(e){t=j(e,"DIV",{class:!0}),F(t).forEach($),this.h()},h(){C(t,"class","svelte-1vib967"),Ue(t,"--primary",n[0]),Ue(t,"--secondary",n[1])},m(e,r){x(e,t,r)},p(e,[r]){r&1&&Ue(t,"--primary",e[0]),r&2&&Ue(t,"--secondary",e[1])},i:_e,o:_e,d(e){e&&$(t)}}}function Bue(n,t,e){let{primary:r="#61d345"}=t,{secondary:i="#fff"}=t;return n.$$set=a=>{"primary"in a&&e(0,r=a.primary),"secondary"in a&&e(1,i=a.secondary)},[r,i]}class Lue extends Le{constructor(t){super(),xe(this,t,Bue,Fue,Ae,{primary:0,secondary:1})}}const xue=Lue;function zue(n){let t;return{c(){t=z("div"),this.h()},l(e){t=j(e,"DIV",{class:!0}),F(t).forEach($),this.h()},h(){C(t,"class","svelte-14jc2sj"),Ue(t,"--primary",n[0]),Ue(t,"--secondary",n[1])},m(e,r){x(e,t,r)},p(e,[r]){r&1&&Ue(t,"--primary",e[0]),r&2&&Ue(t,"--secondary",e[1])},i:_e,o:_e,d(e){e&&$(t)}}}function jue(n,t,e){let{primary:r="#ff4b4b"}=t,{secondary:i="#fff"}=t;return n.$$set=a=>{"primary"in a&&e(0,r=a.primary),"secondary"in a&&e(1,i=a.secondary)},[r,i]}class Hue extends Le{constructor(t){super(),xe(this,t,jue,zue,Ae,{primary:0,secondary:1})}}const Wue=Hue;function Vue(n){let t;return{c(){t=z("div"),this.h()},l(e){t=j(e,"DIV",{class:!0}),F(t).forEach($),this.h()},h(){C(t,"class","svelte-el8rh1"),Ue(t,"--primary",n[0]),Ue(t,"--secondary",n[1])},m(e,r){x(e,t,r)},p(e,[r]){r&1&&Ue(t,"--primary",e[0]),r&2&&Ue(t,"--secondary",e[1])},i:_e,o:_e,d(e){e&&$(t)}}}function Uue(n,t,e){let{primary:r="#616161"}=t,{secondary:i="#e0e0e0"}=t;return n.$$set=a=>{"primary"in a&&e(0,r=a.primary),"secondary"in a&&e(1,i=a.secondary)},[r,i]}class Gue extends Le{constructor(t){super(),xe(this,t,Uue,Vue,Ae,{primary:0,secondary:1})}}const que=Gue;function Kue(n){let t,e,r,i;const a=[n[0]];let o={};for(let l=0;l<a.length;l+=1)o=ye(o,a[l]);e=new que({props:o});let s=n[2]!=="loading"&&Fb(n);return{c(){t=z("div"),ae(e.$$.fragment),r=te(),s&&s.c(),this.h()},l(l){t=j(l,"DIV",{class:!0});var u=F(t);le(e.$$.fragment,u),r=re(u),s&&s.l(u),u.forEach($),this.h()},h(){C(t,"class","indicator svelte-1yutmpl")},m(l,u){x(l,t,u),oe(e,t,null),D(t,r),s&&s.m(t,null),i=!0},p(l,u){const f=u&1?pt(a,[Zo(l[0])]):{};e.$set(f),l[2]!=="loading"?s?(s.p(l,u),u&4&&M(s,1)):(s=Fb(l),s.c(),M(s,1),s.m(t,null)):s&&(Fe(),N(s,1,1,()=>{s=null}),Be())},i(l){i||(M(e.$$.fragment,l),M(s),i=!0)},o(l){N(e.$$.fragment,l),N(s),i=!1},d(l){l&&$(t),se(e),s&&s.d()}}}function Yue(n){let t,e,r;var i=n[1];function a(o){return{}}return i&&(t=vn(i,a())),{c(){t&&ae(t.$$.fragment),e=$e()},l(o){t&&le(t.$$.fragment,o),e=$e()},m(o,s){t&&oe(t,o,s),x(o,e,s),r=!0},p(o,s){if(i!==(i=o[1])){if(t){Fe();const l=t;N(l.$$.fragment,1,0,()=>{se(l,1)}),Be()}i?(t=vn(i,a()),ae(t.$$.fragment),M(t.$$.fragment,1),oe(t,e.parentNode,e)):t=null}},i(o){r||(t&&M(t.$$.fragment,o),r=!0)},o(o){t&&N(t.$$.fragment,o),r=!1},d(o){o&&$(e),t&&se(t,o)}}}function Xue(n){let t,e;return{c(){t=z("div"),e=ve(n[1]),this.h()},l(r){t=j(r,"DIV",{class:!0});var i=F(t);e=pe(i,n[1]),i.forEach($),this.h()},h(){C(t,"class","animated svelte-1yutmpl")},m(r,i){x(r,t,i),D(t,e)},p(r,i){i&2&&tt(e,r[1])},i:_e,o:_e,d(r){r&&$(t)}}}function Fb(n){let t,e,r,i;const a=[Zue,Que],o=[];function s(l,u){return l[2]==="error"?0:1}return e=s(n),r=o[e]=a[e](n),{c(){t=z("div"),r.c(),this.h()},l(l){t=j(l,"DIV",{class:!0});var u=F(t);r.l(u),u.forEach($),this.h()},h(){C(t,"class","status svelte-1yutmpl")},m(l,u){x(l,t,u),o[e].m(t,null),i=!0},p(l,u){let f=e;e=s(l),e===f?o[e].p(l,u):(Fe(),N(o[f],1,1,()=>{o[f]=null}),Be(),r=o[e],r?r.p(l,u):(r=o[e]=a[e](l),r.c()),M(r,1),r.m(t,null))},i(l){i||(M(r),i=!0)},o(l){N(r),i=!1},d(l){l&&$(t),o[e].d()}}}function Que(n){let t,e;const r=[n[0]];let i={};for(let a=0;a<r.length;a+=1)i=ye(i,r[a]);return t=new xue({props:i}),{c(){ae(t.$$.fragment)},l(a){le(t.$$.fragment,a)},m(a,o){oe(t,a,o),e=!0},p(a,o){const s=o&1?pt(r,[Zo(a[0])]):{};t.$set(s)},i(a){e||(M(t.$$.fragment,a),e=!0)},o(a){N(t.$$.fragment,a),e=!1},d(a){se(t,a)}}}function Zue(n){let t,e;const r=[n[0]];let i={};for(let a=0;a<r.length;a+=1)i=ye(i,r[a]);return t=new Wue({props:i}),{c(){ae(t.$$.fragment)},l(a){le(t.$$.fragment,a)},m(a,o){oe(t,a,o),e=!0},p(a,o){const s=o&1?pt(r,[Zo(a[0])]):{};t.$set(s)},i(a){e||(M(t.$$.fragment,a),e=!0)},o(a){N(t.$$.fragment,a),e=!1},d(a){se(t,a)}}}function Jue(n){let t,e,r,i;const a=[Xue,Yue,Kue],o=[];function s(l,u){return typeof l[1]=="string"?0:typeof l[1]<"u"?1:l[2]!=="blank"?2:-1}return~(t=s(n))&&(e=o[t]=a[t](n)),{c(){e&&e.c(),r=$e()},l(l){e&&e.l(l),r=$e()},m(l,u){~t&&o[t].m(l,u),x(l,r,u),i=!0},p(l,[u]){let f=t;t=s(l),t===f?~t&&o[t].p(l,u):(e&&(Fe(),N(o[f],1,1,()=>{o[f]=null}),Be()),~t?(e=o[t],e?e.p(l,u):(e=o[t]=a[t](l),e.c()),M(e,1),e.m(r.parentNode,r)):e=null)},i(l){i||(M(e),i=!0)},o(l){N(e),i=!1},d(l){~t&&o[t].d(l),l&&$(r)}}}function efe(n,t,e){let r,i,a,{toast:o}=t;return n.$$set=s=>{"toast"in s&&e(3,o=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:r,icon:i,iconTheme:a}=o,r,(e(1,i),e(3,o)),(e(0,a),e(3,o)))},[a,i,r,o]}class tfe extends Le{constructor(t){super(),xe(this,t,efe,Jue,Ae,{toast:3})}}const Dp=tfe;function rfe(n){let t,e,r;var i=n[0].message;function a(o){return{props:{toast:o[0]}}}return i&&(t=vn(i,a(n))),{c(){t&&ae(t.$$.fragment),e=$e()},l(o){t&&le(t.$$.fragment,o),e=$e()},m(o,s){t&&oe(t,o,s),x(o,e,s),r=!0},p(o,s){const l={};if(s&1&&(l.toast=o[0]),i!==(i=o[0].message)){if(t){Fe();const u=t;N(u.$$.fragment,1,0,()=>{se(u,1)}),Be()}i?(t=vn(i,a(o)),ae(t.$$.fragment),M(t.$$.fragment,1),oe(t,e.parentNode,e)):t=null}else i&&t.$set(l)},i(o){r||(t&&M(t.$$.fragment,o),r=!0)},o(o){t&&N(t.$$.fragment,o),r=!1},d(o){o&&$(e),t&&se(t,o)}}}function nfe(n){let t=n[0].message+"",e;return{c(){e=ve(t)},l(r){e=pe(r,t)},m(r,i){x(r,e,i)},p(r,i){i&1&&t!==(t=r[0].message+"")&&tt(e,t)},i:_e,o:_e,d(r){r&&$(e)}}}function ife(n){let t,e,r,i;const a=[nfe,rfe],o=[];function s(f,c){return typeof f[0].message=="string"?0:1}e=s(n),r=o[e]=a[e](n);let l=[{class:"message"},n[0].ariaProps],u={};for(let f=0;f<l.length;f+=1)u=ye(u,l[f]);return{c(){t=z("div"),r.c(),this.h()},l(f){t=j(f,"DIV",{class:!0});var c=F(t);r.l(c),c.forEach($),this.h()},h(){vt(t,u),Ze(t,"svelte-o805t1",!0)},m(f,c){x(f,t,c),o[e].m(t,null),i=!0},p(f,[c]){let d=e;e=s(f),e===d?o[e].p(f,c):(Fe(),N(o[d],1,1,()=>{o[d]=null}),Be(),r=o[e],r?r.p(f,c):(r=o[e]=a[e](f),r.c()),M(r,1),r.m(t,null)),vt(t,u=pt(l,[{class:"message"},c&1&&f[0].ariaProps])),Ze(t,"svelte-o805t1",!0)},i(f){i||(M(r),i=!0)},o(f){N(r),i=!1},d(f){f&&$(t),o[e].d()}}}function afe(n,t,e){let{toast:r}=t;return n.$$set=i=>{"toast"in i&&e(0,r=i.toast)},[r]}class ofe extends Le{constructor(t){super(),xe(this,t,afe,ife,Ae,{toast:0})}}const Ff=ofe;const sfe=n=>({toast:n&1}),Bb=n=>({ToastIcon:Dp,ToastMessage:Ff,toast:n[0]});function lfe(n){let t;const e=n[6].default,r=ut(e,n,n[7],Bb),i=r||ffe(n);return{c(){i&&i.c()},l(a){i&&i.l(a)},m(a,o){i&&i.m(a,o),t=!0},p(a,o){r?r.p&&(!t||o&129)&&ft(r,e,a,a[7],t?dt(e,a[7],o,sfe):ct(a[7]),Bb):i&&i.p&&(!t||o&1)&&i.p(a,t?o:-1)},i(a){t||(M(i,a),t=!0)},o(a){N(i,a),t=!1},d(a){i&&i.d(a)}}}function ufe(n){let t,e,r;var i=n[2];function a(o){return{props:{$$slots:{message:[dfe],icon:[cfe]},$$scope:{ctx:o}}}}return i&&(t=vn(i,a(n))),{c(){t&&ae(t.$$.fragment),e=$e()},l(o){t&&le(t.$$.fragment,o),e=$e()},m(o,s){t&&oe(t,o,s),x(o,e,s),r=!0},p(o,s){const l={};if(s&129&&(l.$$scope={dirty:s,ctx:o}),i!==(i=o[2])){if(t){Fe();const u=t;N(u.$$.fragment,1,0,()=>{se(u,1)}),Be()}i?(t=vn(i,a(o)),ae(t.$$.fragment),M(t.$$.fragment,1),oe(t,e.parentNode,e)):t=null}else i&&t.$set(l)},i(o){r||(t&&M(t.$$.fragment,o),r=!0)},o(o){t&&N(t.$$.fragment,o),r=!1},d(o){o&&$(e),t&&se(t,o)}}}function ffe(n){let t,e,r,i;return t=new Dp({props:{toast:n[0]}}),r=new Ff({props:{toast:n[0]}}),{c(){ae(t.$$.fragment),e=te(),ae(r.$$.fragment)},l(a){le(t.$$.fragment,a),e=re(a),le(r.$$.fragment,a)},m(a,o){oe(t,a,o),x(a,e,o),oe(r,a,o),i=!0},p(a,o){const s={};o&1&&(s.toast=a[0]),t.$set(s);const l={};o&1&&(l.toast=a[0]),r.$set(l)},i(a){i||(M(t.$$.fragment,a),M(r.$$.fragment,a),i=!0)},o(a){N(t.$$.fragment,a),N(r.$$.fragment,a),i=!1},d(a){se(t,a),a&&$(e),se(r,a)}}}function cfe(n){let t,e;return t=new Dp({props:{toast:n[0],slot:"icon"}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,i){const a={};i&1&&(a.toast=r[0]),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function dfe(n){let t,e;return t=new Ff({props:{toast:n[0],slot:"message"}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,i){const a={};i&1&&(a.toast=r[0]),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function hfe(n){let t,e,r,i,a,o;const s=[ufe,lfe],l=[];function u(f,c){return f[2]?0:1}return e=u(n),r=l[e]=s[e](n),{c(){t=z("div"),r.c(),this.h()},l(f){t=j(f,"DIV",{class:!0,style:!0});var c=F(t);r.l(c),c.forEach($),this.h()},h(){C(t,"class",i="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-jj17sd"),C(t,"style",a=n[1]+"; "+n[0].style),Ue(t,"--factor",n[3])},m(f,c){x(f,t,c),l[e].m(t,null),o=!0},p(f,[c]){let d=e;e=u(f),e===d?l[e].p(f,c):(Fe(),N(l[d],1,1,()=>{l[d]=null}),Be(),r=l[e],r?r.p(f,c):(r=l[e]=s[e](f),r.c()),M(r,1),r.m(t,null)),(!o||c&17&&i!==(i="base "+(f[0].height?f[4]:"transparent")+" "+(f[0].className||"")+" svelte-jj17sd"))&&C(t,"class",i),(!o||c&3&&a!==(a=f[1]+"; "+f[0].style))&&C(t,"style",a),c&8&&Ue(t,"--factor",f[3])},i(f){o||(M(r),o=!0)},o(f){N(r),o=!1},d(f){f&&$(t),l[e].d()}}}function vfe(n,t,e){let{$$slots:r={},$$scope:i}=t,{toast:a}=t,{position:o=void 0}=t,{style:s=""}=t,{Component:l=void 0}=t,u,f;return n.$$set=c=>{"toast"in c&&e(0,a=c.toast),"position"in c&&e(5,o=c.position),"style"in c&&e(1,s=c.style),"Component"in c&&e(2,l=c.Component),"$$scope"in c&&e(7,i=c.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const c=(a.position||o||"top-center").includes("top");e(3,u=c?1:-1);const[d,h]=TE()?["fadeIn","fadeOut"]:["enter","exit"];e(4,f=a.visible?d:h)}},[a,s,l,u,f,o,r,i]}class pfe extends Le{constructor(t){super(),xe(this,t,vfe,hfe,Ae,{toast:0,position:5,style:1,Component:2})}}const gfe=pfe;const mfe=n=>({toast:n&1}),Lb=n=>({toast:n[0]});function yfe(n){let t;const e=n[8].default,r=ut(e,n,n[7],Lb),i=r||_fe(n);return{c(){i&&i.c()},l(a){i&&i.l(a)},m(a,o){i&&i.m(a,o),t=!0},p(a,o){r?r.p&&(!t||o&129)&&ft(r,e,a,a[7],t?dt(e,a[7],o,mfe):ct(a[7]),Lb):i&&i.p&&(!t||o&1)&&i.p(a,t?o:-1)},i(a){t||(M(i,a),t=!0)},o(a){N(i,a),t=!1},d(a){i&&i.d(a)}}}function bfe(n){let t,e;return t=new Ff({props:{toast:n[0]}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,i){const a={};i&1&&(a.toast=r[0]),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function _fe(n){let t,e;return t=new gfe({props:{toast:n[0],position:n[0].position}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,i){const a={};i&1&&(a.toast=r[0]),i&1&&(a.position=r[0].position),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function $fe(n){let t,e,r,i;const a=[bfe,yfe],o=[];function s(l,u){return l[0].type==="custom"?0:1}return e=s(n),r=o[e]=a[e](n),{c(){t=z("div"),r.c(),this.h()},l(l){t=j(l,"DIV",{class:!0});var u=F(t);r.l(u),u.forEach($),this.h()},h(){C(t,"class","wrapper svelte-1pakgpd"),Ze(t,"active",n[0].visible),Ze(t,"transition",!TE()),Ue(t,"--factor",n[3]),Ue(t,"--offset",n[0].offset),Ue(t,"top",n[5]),Ue(t,"bottom",n[4]),Ue(t,"justify-content",n[2])},m(l,u){x(l,t,u),o[e].m(t,null),n[9](t),i=!0},p(l,[u]){let f=e;e=s(l),e===f?o[e].p(l,u):(Fe(),N(o[f],1,1,()=>{o[f]=null}),Be(),r=o[e],r?r.p(l,u):(r=o[e]=a[e](l),r.c()),M(r,1),r.m(t,null)),(!i||u&1)&&Ze(t,"active",l[0].visible),u&8&&Ue(t,"--factor",l[3]),u&1&&Ue(t,"--offset",l[0].offset),u&32&&Ue(t,"top",l[5]),u&16&&Ue(t,"bottom",l[4]),u&4&&Ue(t,"justify-content",l[2])},i(l){i||(M(r),i=!0)},o(l){N(r),i=!1},d(l){l&&$(t),o[e].d(),n[9](null)}}}function wfe(n,t,e){let r,i,a,o,{$$slots:s={},$$scope:l}=t,{toast:u}=t,{setHeight:f}=t,c;Au(()=>{f(c.getBoundingClientRect().height)});function d(h){yt[h?"unshift":"push"](()=>{c=h,e(1,c)})}return n.$$set=h=>{"toast"in h&&e(0,u=h.toast),"setHeight"in h&&e(6,f=h.setHeight),"$$scope"in h&&e(7,l=h.$$scope)},n.$$.update=()=>{var h,v,p,y,g;n.$$.dirty&1&&e(5,r=(h=u.position)!=null&&h.includes("top")?0:null),n.$$.dirty&1&&e(4,i=(v=u.position)!=null&&v.includes("bottom")?0:null),n.$$.dirty&1&&e(3,a=(p=u.position)!=null&&p.includes("top")?1:-1),n.$$.dirty&1&&e(2,o=((y=u.position)==null?void 0:y.includes("center"))&&"center"||((g=u.position)==null?void 0:g.includes("right"))&&"flex-end"||null)},[u,c,o,a,i,r,f,l,s,d]}class kfe extends Le{constructor(t){super(),xe(this,t,wfe,$fe,Ae,{toast:0,setHeight:6})}}const Efe=kfe;function xb(n,t,e){const r=n.slice();return r[11]=t[e],r}function zb(n,t){let e,r,i;function a(...o){return t[10](t[11],...o)}return r=new Efe({props:{toast:t[11],setHeight:a}}),{key:n,first:null,c(){e=$e(),ae(r.$$.fragment),this.h()},l(o){e=$e(),le(r.$$.fragment,o),this.h()},h(){this.first=e},m(o,s){x(o,e,s),oe(r,o,s),i=!0},p(o,s){t=o;const l={};s&4&&(l.toast=t[11]),s&4&&(l.setHeight=a),r.$set(l)},i(o){i||(M(r.$$.fragment,o),i=!0)},o(o){N(r.$$.fragment,o),i=!1},d(o){o&&$(e),se(r,o)}}}function Sfe(n){let t,e=[],r=new Map,i,a,o,s,l=n[2];const u=f=>f[11].id;for(let f=0;f<l.length;f+=1){let c=xb(n,l,f),d=u(c);r.set(d,e[f]=zb(d,c))}return{c(){t=z("div");for(let f=0;f<e.length;f+=1)e[f].c();this.h()},l(f){t=j(f,"DIV",{class:!0,style:!0});var c=F(t);for(let d=0;d<e.length;d+=1)e[d].l(c);c.forEach($),this.h()},h(){C(t,"class",i="toaster "+(n[1]||"")+" svelte-jyff3d"),C(t,"style",n[0])},m(f,c){x(f,t,c);for(let d=0;d<e.length;d+=1)e[d].m(t,null);a=!0,o||(s=[J(t,"mouseenter",n[4].startPause),J(t,"mouseleave",n[4].endPause)],o=!0)},p(f,[c]){c&20&&(l=f[2],Fe(),e=GE(e,c,u,1,f,l,r,t,qE,zb,null,xb),Be()),(!a||c&2&&i!==(i="toaster "+(f[1]||"")+" svelte-jyff3d"))&&C(t,"class",i),(!a||c&1)&&C(t,"style",f[0])},i(f){if(!a){for(let c=0;c<l.length;c+=1)M(e[c]);a=!0}},o(f){for(let c=0;c<e.length;c+=1)N(e[c]);a=!1},d(f){f&&$(t);for(let c=0;c<e.length;c+=1)e[c].d();o=!1,Lr(s)}}}function Ofe(n,t,e){let r,{reverseOrder:i=!1}=t,{position:a="top-center"}=t,{toastOptions:o=void 0}=t,{gutter:s=8}=t,{containerStyle:l=void 0}=t,{containerClassName:u=void 0}=t;const{toasts:f,handlers:c}=Nue(o);Jo(n,f,v=>e(9,r=v));let d;const h=(v,p)=>c.updateHeight(v.id,p);return n.$$set=v=>{"reverseOrder"in v&&e(5,i=v.reverseOrder),"position"in v&&e(6,a=v.position),"toastOptions"in v&&e(7,o=v.toastOptions),"gutter"in v&&e(8,s=v.gutter),"containerStyle"in v&&e(0,l=v.containerStyle),"containerClassName"in v&&e(1,u=v.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,d=r.map(v=>({...v,position:v.position||a,offset:c.calculateOffset(v,r,{reverseOrder:i,gutter:s,defaultPosition:a})})))},[l,u,d,f,c,i,a,o,s,r,h]}class Tfe extends Le{constructor(t){super(),xe(this,t,Ofe,Sfe,Ae,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}const Ife=Tfe;function Cfe(n){let t,e,r;return{c(){t=It("svg"),e=It("path"),r=It("path"),this.h()},l(i){t=Ct(i,"svg",{"aria-hidden":!0,class:!0,viewBox:!0,fill:!0,xmlns:!0});var a=F(t);e=Ct(a,"path",{d:!0,fill:!0}),F(e).forEach($),r=Ct(a,"path",{d:!0,fill:!0}),F(r).forEach($),a.forEach($),this.h()},h(){C(e,"d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"),C(e,"fill","currentColor"),C(r,"d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"),C(r,"fill","currentFill"),C(t,"aria-hidden","true"),C(t,"class","text-gray-200 animate-spin dark:text-gray-600 fill-dark"),C(t,"viewBox","0 0 100 101"),C(t,"fill","none"),C(t,"xmlns","http://www.w3.org/2000/svg")},m(i,a){x(i,t,a),D(t,e),D(t,r)},p:_e,i:_e,o:_e,d(i){i&&$(t)}}}class Js extends Le{constructor(t){super(),xe(this,t,null,Cfe,Ae,{})}}const Pfe=(n,t)=>{const e=ov(t),r=localStorage.getItem(n);return r!=null&&e.set(JSON.parse(r)),e.subscribe(i=>{i==null||i==null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))}),window.addEventListener("storage",()=>{const i=localStorage.getItem(n);if(i==null)return;const a=JSON.parse(i);a!==Mr(e)&&e.set(a)}),e},mt=Pfe("settings",{advanced_settings:!1,advanced_settings_height:258,fetch_related:!0,endpoint_url:"https://skynet.coypu.org/wikidata/",rate_limit:5,size_limit:100,fetch_image:!0,animations:!0,hide_edges_on_drag:!1});var Xn=Rfe,Afe=/^(?:\w+:)?\/\/(\S+)$/,Mfe=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,Dfe=/^[^\s\.]+\.\S{2,}$/;function Rfe(n){if(typeof n!="string")return!1;var t=n.match(Afe);if(!t)return!1;var e=t[1];return e?!!(Mfe.test(e)||Dfe.test(e)):!1}var IE={},Cu={},Nfe={get exports(){return Cu},set exports(n){Cu=n}},Pa=typeof Reflect=="object"?Reflect:null,jb=Pa&&typeof Pa.apply=="function"?Pa.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},tu;Pa&&typeof Pa.ownKeys=="function"?tu=Pa.ownKeys:Object.getOwnPropertySymbols?tu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:tu=function(t){return Object.getOwnPropertyNames(t)};function Ffe(n){console&&console.warn&&console.warn(n)}var CE=Number.isNaN||function(t){return t!==t};function Xe(){Xe.init.call(this)}Nfe.exports=Xe;Cu.once=zfe;Xe.EventEmitter=Xe;Xe.prototype._events=void 0;Xe.prototype._eventsCount=0;Xe.prototype._maxListeners=void 0;var Hb=10;function Bf(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(Xe,"defaultMaxListeners",{enumerable:!0,get:function(){return Hb},set:function(n){if(typeof n!="number"||n<0||CE(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");Hb=n}});Xe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||CE(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function PE(n){return n._maxListeners===void 0?Xe.defaultMaxListeners:n._maxListeners}Xe.prototype.getMaxListeners=function(){return PE(this)};Xe.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[t];if(l===void 0)return!1;if(typeof l=="function")jb(l,this,e);else for(var u=l.length,f=NE(l,u),r=0;r<u;++r)jb(f[r],this,e);return!0};function AE(n,t,e,r){var i,a,o;if(Bf(e),a=n._events,a===void 0?(a=n._events=Object.create(null),n._eventsCount=0):(a.newListener!==void 0&&(n.emit("newListener",t,e.listener?e.listener:e),a=n._events),o=a[t]),o===void 0)o=a[t]=e,++n._eventsCount;else if(typeof o=="function"?o=a[t]=r?[e,o]:[o,e]:r?o.unshift(e):o.push(e),i=PE(n),i>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=n,s.type=t,s.count=o.length,Ffe(s)}return n}Xe.prototype.addListener=function(t,e){return AE(this,t,e,!1)};Xe.prototype.on=Xe.prototype.addListener;Xe.prototype.prependListener=function(t,e){return AE(this,t,e,!0)};function Bfe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ME(n,t,e){var r={fired:!1,wrapFn:void 0,target:n,type:t,listener:e},i=Bfe.bind(r);return i.listener=e,r.wrapFn=i,i}Xe.prototype.once=function(t,e){return Bf(e),this.on(t,ME(this,t,e)),this};Xe.prototype.prependOnceListener=function(t,e){return Bf(e),this.prependListener(t,ME(this,t,e)),this};Xe.prototype.removeListener=function(t,e){var r,i,a,o,s;if(Bf(e),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(a=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,a=o;break}if(a<0)return this;a===0?r.shift():Lfe(r,a),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||e)}return this};Xe.prototype.off=Xe.prototype.removeListener;Xe.prototype.removeAllListeners=function(t){var e,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var a=Object.keys(r),o;for(i=0;i<a.length;++i)o=a[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this};function DE(n,t,e){var r=n._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?xfe(i):NE(i,i.length)}Xe.prototype.listeners=function(t){return DE(this,t,!0)};Xe.prototype.rawListeners=function(t){return DE(this,t,!1)};Xe.listenerCount=function(n,t){return typeof n.listenerCount=="function"?n.listenerCount(t):RE.call(n,t)};Xe.prototype.listenerCount=RE;function RE(n){var t=this._events;if(t!==void 0){var e=t[n];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}Xe.prototype.eventNames=function(){return this._eventsCount>0?tu(this._events):[]};function NE(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n[r];return e}function Lfe(n,t){for(;t+1<n.length;t++)n[t]=n[t+1];n.pop()}function xfe(n){for(var t=new Array(n.length),e=0;e<t.length;++e)t[e]=n[e].listener||n[e];return t}function zfe(n,t){return new Promise(function(e,r){function i(o){n.removeListener(t,a),r(o)}function a(){typeof n.removeListener=="function"&&n.removeListener("error",i),e([].slice.call(arguments))}FE(n,t,a,{once:!0}),t!=="error"&&jfe(n,i,{once:!0})})}function jfe(n,t,e){typeof n.on=="function"&&FE(n,"error",t,e)}function FE(n,t,e,r){if(typeof n.on=="function")r.once?n.once(t,e):n.on(t,e);else if(typeof n.addEventListener=="function")n.addEventListener(t,function i(a){r.once&&n.removeEventListener(t,i),e(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}Object.defineProperty(IE,"__esModule",{value:!0});var Hfe=IE.TypedEmitter=Cu.EventEmitter;class Wfe extends Hfe{constructor(){super();Qe(this,"prefix",`
			PREFIX schema: <http://schema.org/>
			PREFIX wdt: <http://www.wikidata.org/prop/direct/>
			PREFIX bd: <http://www.bigdata.com/rdf#>
			PREFIX wd: <http://www.wikidata.org/entity/>
			PREFIX wikibase: <http://wikiba.se/ontology#>
			PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
			PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>`);Qe(this,"current_progress");Qe(this,"last_fetch",0);Qe(this,"queue",[]);Qe(this,"last_queue",0);this.setMaxListeners(1)}get rate_limit(){return+Mr(mt).rate_limit}get size_limit(){return+Mr(mt).size_limit}get endpoint(){let e=Mr(mt).endpoint_url;return(!Xn(e)||e.length===0)&&(e="https://query.wikidata.org/sparql"),e}get progress(){return this.current_progress}async query(e){const r=Date.now();if(r-this.last_fetch<this.rate_limit&&e){this.queue.push(e);const o=Math.max(this.last_queue,this.last_fetch)+this.rate_limit-r;return this.last_queue=o+r,new Promise(s=>setTimeout(async()=>{s(await this.query())},o))}this.last_fetch=r,this.queue.length>0&&!e&&(e=this.queue.shift());const a=new URLSearchParams;a.append("query",this.prefix+e);try{const o=await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:a});if(o.status!=200){const u=await o.text();throw new Error(`SPARQL query: ${u}`)}const s=await o.json(),l=[];for(const u of s.results.bindings)l.push(u);return l}catch(o){return console.error(o),o instanceof Error&&this.emit("error",o),[]}}async fetch_description(e){var i;return((i=(await this.query(`

		SELECT DISTINCT ?description WHERE {
			VALUES ?subject {
				<${e}>
			}
			?subject schema:description ?description
			FILTER (lang(?description) = 'en')
		} LIMIT 1`))[0])==null?void 0:i.description.value)??""}async fetch_related_nodes(e,r,i){let a;const o=new Promise(u=>a=u);i&&this.emit("loading_related",o);const s=await this.query(`
			SELECT DISTINCT ?object ?objectLabel ?objectDescription  WHERE {
				{
				  ?object <${r}> <${e}> .
				} UNION{
					<${e}> <${r}> ?object
				}
				OPTIONAL {
					?object rdfs:label ?objectLabel 
					FILTER (lang(?objectLabel) = 'en')
				}
				} LIMIT ${this.size_limit}`);return a(),s.map(u=>{var f;return{uri:u.object.value,type:u.object.type,label:((f=u.objectLabel)==null?void 0:f.value)??u.object.value}})}async fetch_image(e){if(!Xn(e))return;const r=await this.query(`
			
			SELECT DISTINCT ?image WHERE {
			  VALUES ?subject {
				<${e}>
				  }
	
			?subject wdt:P18 ?image
			
			}
				`);if(r.length>0)return r[0].image.value}async fetch_images(e){return(await this.query(`
			
			SELECT DISTINCT ?subject ?image WHERE {
			  VALUES ?subject {
				${e.filter(i=>Xn(i)).map(i=>`<${i}>`).join(`
`)}
				  }
	
			?subject wdt:P18 ?image
			
			}
				`)).map(i=>({image:i.image.value,uri:i.subject.value}))}async fetch_labels(e){const r=await this.query(`
			SELECT DISTINCT ?subject ?subjectLabel  WHERE {
			  VALUES ?subject {
				${e.filter(i=>Xn(i)).map(i=>`<${i}>`).join(`
`)}
				  }		
				OPTIONAL{
				  ${this.endpoint.includes("wikidata")?"?prop wikibase:directClaim ?subject . ?prop rdfs:label ?subjectLabel  ":"?subject rdf:type rdf:Property .  ?subject rdfs:label ?subjectLabel "}
					FILTER (lang(?subjectLabel) = 'en')
				}
				  
			}
				`);return r.length>0?r.map(i=>{var a;return{uri:i.subject.value,label:((a=i.subjectLabel)==null?void 0:a.value)??i.subject}}):e.map(i=>({uri:i,label:i}))}async fetch_info(e){var i,a;const r=await this.query(`
			SELECT DISTINCT ?label ?description WHERE {
			  VALUES ?subject {
				<${e}>
				  }
	
			OPTIONAL {
			?subject rdfs:label ?label 
			FILTER (lang(?label) = 'en')
			}
			OPTIONAL {
				?subject schema:description ?description
				FILTER (lang(?description) = 'en')
			}
			
			}
				`);return r.length>0?{label:((i=r[0].label)==null?void 0:i.value)??e,description:((a=r[0].description)==null?void 0:a.value)??""}:{label:e,description:""}}async fetch_multiple_relations(e,r,i=!0){let a;const o=new Promise(u=>a=u);i&&this.emit("loading_relations",o);const s=(await this.fetch_relations(e,r)).map(u=>{const f=u.dir.value==="out";return{subject:f?u.subject:u.object,property:u.property,object:f?u.object:u.subject,property_label:u.property.value}}),l=await this.fetch_labels(s.map(u=>u.property.value));for(let u=0;u<s.length;u++){const f=s[u],c=l.find(d=>d.uri===f.property.value);c&&(f.property_label=c.label)}return a(),s}async fetch_relations(e,r){let i=`VALUES ?subject {
`;for(let s=0;s<e.length;s++){const l=e[s];Xn(l)&&(i+=`<${l}>
`)}i+="}";let a=`VALUES ?object {
`;for(let s=0;s<r.length;s++){const l=r[s];Xn(l)&&(a+=`<${l}>
`)}return a+="}",await this.query(`
			
			SELECT DISTINCT ?object ?property ?subject ?dir WHERE
			{
				${i}
				${a}
				{
					BIND("in" as ?dir) . ?object ?property ?subject .
				}
				UNION
				{	
					BIND("out" as ?dir) . ?subject ?property ?object . 
				}
				
			}`)}async fetch_property_count(e,r){var a;const i=await this.query(`
			
			SELECT DISTINCT ?propLabel (COUNT(?outObject) AS ?outCount) (COUNT(?inObject) AS ?inCount)    WHERE {
			{
				SELECT DISTINCT ?outObject WHERE {
				<${e}> <${r}> ?outObject.
				}
				LIMIT ${this.size_limit}
			}
			UNION
			{
				SELECT DISTINCT ?inObject WHERE {
				?inObject <${r}> <${e}>.
				}
				LIMIT ${this.size_limit}
			}
			OPTIONAL {
				${this.endpoint.includes("wikidata")?`?prop wikibase:directClaim <${r}> . ?prop rdfs:label ?propLabel .`:`<${r}> rdf:type rdf:Property . <${r}> rdfs:label ?propLabel .`}
			}
			
			FILTER (lang(?propLabel) = 'en')
			} GROUP BY ?propLabel`);if(i.length>0){const o=i[0];return{label:(a=o.propLabel)==null?void 0:a.value,uri:r,out_count:+o.outCount.value,in_count:+o.inCount.value}}else return{label:r,uri:r,out_count:0,in_count:0}}async fetch_properties(e){const r=await this.query(`
			
			SELECT DISTINCT ?property  WHERE {
				{
				  ?o ?property <${e}> .
				} UNION{
					<${e}> ?property ?o
				}
				${this.endpoint.includes("wikidata")?"?prop wikibase:directClaim ?property .":"?property rdf:type rdf:Property ."}
				}`),i=[];let a;const o=new Promise(u=>a=u);this.emit("loading_properties",o);const s=r.map(u=>u.property.value),l=[];s.forEach(u=>l.push(this.fetch_property_count(e,u)));for(let u=0;u<l.length;u++)i.push(await l[u]),this.emit("progress",Math.floor(u/l.length*100));return a(),i}}const Xt=new Wfe;function Wb(n,t,e){const r=n.slice();return r[52]=t[e],r}function Vb(n,t,e){const r=n.slice();return r[46]=t[e],r[48]=e,r}function Ub(n,t,e){const r=n.slice();return r[43]=t[e],r}function Gb(n,t,e){const r=n.slice();return r[46]=t[e],r[48]=e,r}function qb(n,t,e){const r=n.slice();return r[49]=t[e],r}function Kb(n){let t,e,r,i,a=n[0].label+"",o,s,l,u,f,c,d,h,v,p,y,g,m,_,E,b,S,O,I,w,k,R,T,P,A,K,U,fe,L=n[5]&&Yb(n);h=new Qt({props:{src:Pp,theme:"solid",class:"h-5 w-5  absolute z-10 bottom-1/2 translate-y-1/2 cursor-pointer right-2 "+(n[11]&&n[4].length>0?"visible":"hidden")}}),m=new Qt({props:{src:pE,theme:"solid",class:"h-5 w-5 absolute z-10 bottom-1/2 translate-y-1/2 pointer-events-none cursor-pointer "+(n[11]&&"left-2")}}),S=new Qt({props:{src:Ole,theme:"solid",class:"h-5 w-5 cursor-pointer"}});const W=[Gfe,Ufe,Vfe],Y=[];function B(H,G){return H[0].properties.length>0&&H[5]===void 0?0:H[6].length>0?1:2}return P=B(n),A=Y[P]=W[P](n),{c(){t=z("div"),e=z("div"),r=z("h1"),i=z("button"),o=ve(a),s=te(),L&&L.c(),u=te(),f=z("div"),c=z("button"),d=z("button"),ae(h.$$.fragment),v=te(),p=z("input"),g=te(),ae(m.$$.fragment),E=te(),b=z("a"),ae(S.$$.fragment),I=te(),w=z("div"),k=z("div"),R=z("div"),T=te(),A.c(),this.h()},l(H){t=j(H,"DIV",{class:!0});var G=F(t);e=j(G,"DIV",{class:!0});var me=F(e);r=j(me,"H1",{class:!0,title:!0});var ge=F(r);i=j(ge,"BUTTON",{class:!0});var Pe=F(i);o=pe(Pe,a),Pe.forEach($),s=re(ge),L&&L.l(ge),ge.forEach($),u=re(me),f=j(me,"DIV",{class:!0});var Re=F(f);c=j(Re,"BUTTON",{class:!0});var ze=F(c);d=j(ze,"BUTTON",{class:!0});var ue=F(d);le(h.$$.fragment,ue),ue.forEach($),v=re(ze),p=j(ze,"INPUT",{type:!0,class:!0}),g=re(ze),le(m.$$.fragment,ze),ze.forEach($),E=re(Re),b=j(Re,"A",{href:!0,target:!0,rel:!0,class:!0});var Se=F(b);le(S.$$.fragment,Se),Se.forEach($),Re.forEach($),me.forEach($),I=re(G),w=j(G,"DIV",{class:!0});var ht=F(w);k=j(ht,"DIV",{class:!0});var Hn=F(k);R=j(Hn,"DIV",{class:!0,style:!0}),F(R).forEach($),Hn.forEach($),ht.forEach($),T=re(G),A.l(G),G.forEach($),this.h()},h(){C(i,"class","svelte-pr1852"),C(r,"class","truncate svelte-pr1852"),C(r,"title",l=n[0].label+(n[5]?" / "+n[5].label:"")),C(d,"class","contents svelte-pr1852"),C(p,"type","text"),C(p,"class",y=(n[11]?"dark:bg-slate-800  pl-8 visible pr-7 shadow-inset":"hidden")+" w-full rounded-lg placeholder:text-gray-400 text-sm py-2 outline-none font-normal border-none focus:ring-primary svelte-pr1852"),C(c,"class",_="w-6 h-10 relative transition-all "+(n[11]?"w-36":"cursor-pointer")+" svelte-pr1852"),C(b,"href",O=n[0].id),C(b,"target","_blank"),C(b,"rel","noreferrer"),C(b,"class","svelte-pr1852"),C(f,"class","flex items-center gap-3 svelte-pr1852"),C(e,"class","text-lg font-bold mx-2 flex items-center gap-5 justify-between svelte-pr1852"),C(R,"class","bg-dark-muted h-1.5 rounded-full svelte-pr1852"),Ue(R,"width",(n[0].properties.length==0?n[8].toString():100)+"%"),C(k,"class","w-full bg-slate-400 rounded-full h-1.5 dark:bg-slate-.500  svelte-pr1852"),C(w,"class","mx-2 my-2 svelte-pr1852"),C(t,"class","wrapper border dark:border-dark-muted dark:bg-dark-bg bg-white shadow-md z-40 rounded-2xl flex flex-col svelte-pr1852")},m(H,G){x(H,t,G),D(t,e),D(e,r),D(r,i),D(i,o),D(r,s),L&&L.m(r,null),D(e,u),D(e,f),D(f,c),D(c,d),oe(h,d,null),D(c,v),D(c,p),n[26](p),Aa(p,n[4]),D(c,g),oe(m,c,null),D(f,E),D(f,b),oe(S,b,null),D(t,I),D(t,w),D(w,k),D(k,R),D(t,T),Y[P].m(t,null),n[39](t),K=!0,U||(fe=[J(i,"click",n[24]),J(d,"click",n[25]),J(p,"input",n[27]),J(c,"click",n[28]),Mu(QE.call(null,c)),J(c,"click_outside",n[29]),J(t,"mouseover",n[35]),J(t,"focus",n[36]),J(t,"mouseout",n[37]),J(t,"blur",n[38])],U=!0)},p(H,G){(!K||G[0]&1)&&a!==(a=H[0].label+"")&&tt(o,a),H[5]?L?L.p(H,G):(L=Yb(H),L.c(),L.m(r,null)):L&&(L.d(1),L=null),(!K||G[0]&33&&l!==(l=H[0].label+(H[5]?" / "+H[5].label:"")))&&C(r,"title",l);const me={};G[0]&2064&&(me.class="h-5 w-5  absolute z-10 bottom-1/2 translate-y-1/2 cursor-pointer right-2 "+(H[11]&&H[4].length>0?"visible":"hidden")),h.$set(me),(!K||G[0]&2048&&y!==(y=(H[11]?"dark:bg-slate-800  pl-8 visible pr-7 shadow-inset":"hidden")+" w-full rounded-lg placeholder:text-gray-400 text-sm py-2 outline-none font-normal border-none focus:ring-primary svelte-pr1852"))&&C(p,"class",y),G[0]&16&&p.value!==H[4]&&Aa(p,H[4]);const ge={};G[0]&2048&&(ge.class="h-5 w-5 absolute z-10 bottom-1/2 translate-y-1/2 pointer-events-none cursor-pointer "+(H[11]&&"left-2")),m.$set(ge),(!K||G[0]&2048&&_!==(_="w-6 h-10 relative transition-all "+(H[11]?"w-36":"cursor-pointer")+" svelte-pr1852"))&&C(c,"class",_),(!K||G[0]&1&&O!==(O=H[0].id))&&C(b,"href",O),(!K||G[0]&257)&&Ue(R,"width",(H[0].properties.length==0?H[8].toString():100)+"%");let Pe=P;P=B(H),P===Pe?Y[P].p(H,G):(Fe(),N(Y[Pe],1,1,()=>{Y[Pe]=null}),Be(),A=Y[P],A?A.p(H,G):(A=Y[P]=W[P](H),A.c()),M(A,1),A.m(t,null))},i(H){K||(M(h.$$.fragment,H),M(m.$$.fragment,H),M(S.$$.fragment,H),M(A),K=!0)},o(H){N(h.$$.fragment,H),N(m.$$.fragment,H),N(S.$$.fragment,H),N(A),K=!1},d(H){H&&$(t),L&&L.d(),se(h),n[26](null),se(m),se(S),Y[P].d(),n[39](null),U=!1,Lr(fe)}}}function Yb(n){let t,e,r=n[5].label+"",i;return{c(){t=z("span"),e=ve("/ "),i=ve(r),this.h()},l(a){t=j(a,"SPAN",{class:!0});var o=F(t);e=pe(o,"/ "),i=pe(o,r),o.forEach($),this.h()},h(){C(t,"class","text-sm font-normal svelte-pr1852")},m(a,o){x(a,t,o),D(t,e),D(t,i)},p(a,o){o[0]&32&&r!==(r=a[5].label+"")&&tt(i,r)},d(a){a&&$(t)}}}function Vfe(n){let t,e,r,i,a,o,s;return r=new Js({}),{c(){t=z("div"),e=z("div"),ae(r.$$.fragment),i=te(),a=z("span"),o=ve("Loading..."),this.h()},l(l){t=j(l,"DIV",{class:!0});var u=F(t);e=j(u,"DIV",{role:!0,class:!0});var f=F(e);le(r.$$.fragment,f),i=re(f),a=j(f,"SPAN",{class:!0});var c=F(a);o=pe(c,"Loading..."),c.forEach($),f.forEach($),u.forEach($),this.h()},h(){C(a,"class","sr-only svelte-pr1852"),C(e,"role","status"),C(e,"class","svelte-pr1852"),C(t,"class","properties m-auto w-full items-center justify-center p-5 svelte-pr1852")},m(l,u){x(l,t,u),D(t,e),oe(r,e,null),D(e,i),D(e,a),D(a,o),s=!0},p:_e,i(l){s||(M(r.$$.fragment,l),s=!0)},o(l){N(r.$$.fragment,l),s=!1},d(l){l&&$(t),se(r)}}}function Ufe(n){let t,e,r,i,a,o,s,l,u,f,c=n[12].length+"",d,h,v=n[13].length+"",p,y,g,m,_,E,b,S,O=n[13],I=[];for(let w=0;w<O.length;w+=1)I[w]=Qb(Wb(n,O,w));return{c(){t=z("div"),e=z("div"),r=z("div"),i=z("input"),o=te(),s=z("label"),l=ve("Select All"),u=te(),f=z("div"),d=ve(c),h=ve(" / "),p=ve(v),y=te(),g=z("ul");for(let w=0;w<I.length;w+=1)I[w].c();m=te(),_=z("button"),E=ve("Add selected"),this.h()},l(w){t=j(w,"DIV",{class:!0});var k=F(t);e=j(k,"DIV",{class:!0});var R=F(e);r=j(R,"DIV",{class:!0});var T=F(r);i=j(T,"INPUT",{id:!0,type:!0,class:!0}),o=re(T),s=j(T,"LABEL",{for:!0,class:!0});var P=F(s);l=pe(P,"Select All"),P.forEach($),T.forEach($),R.forEach($),u=re(k),f=j(k,"DIV",{class:!0});var A=F(f);d=pe(A,c),h=pe(A," / "),p=pe(A,v),A.forEach($),k.forEach($),y=re(w),g=j(w,"UL",{class:!0});var K=F(g);for(let fe=0;fe<I.length;fe+=1)I[fe].l(K);K.forEach($),m=re(w),_=j(w,"BUTTON",{class:!0});var U=F(_);E=pe(U,"Add selected"),U.forEach($),this.h()},h(){C(i,"id","select_all"),C(i,"type","checkbox"),i.value="",i.checked=a=n[12].length===n[6].length,C(i,"class","w-4 h-4 text-primary bg-gray-100 rounded border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 svelte-pr1852"),C(s,"for","select_all"),C(s,"class","cursor-pointer ml-2 font-medium text-gray-900 dark:text-gray-300 select-none svelte-pr1852"),C(r,"class","flex items-center cursor-pointer svelte-pr1852"),C(e,"class","flex h-10 svelte-pr1852"),C(f,"class","svelte-pr1852"),C(t,"class","flex justify-between items-center mb-1 mx-2 svelte-pr1852"),C(g,"class","rounded-lg mx-2 overflow-y-auto flex flex-col gap-2 flex-grow svelte-pr1852"),C(_,"class","ml-auto gr-button-primary gr-button !block mt-2 mr-2 h-8 flex-shrink-0 !text-base  svelte-pr1852")},m(w,k){x(w,t,k),D(t,e),D(e,r),D(r,i),D(r,o),D(r,s),D(s,l),D(t,u),D(t,f),D(f,d),D(f,h),D(f,p),x(w,y,k),x(w,g,k);for(let R=0;R<I.length;R+=1)I[R].m(g,null);x(w,m,k),x(w,_,k),D(_,E),b||(S=[J(i,"change",n[19]),J(_,"click",n[20])],b=!0)},p(w,k){if(k[0]&4160&&a!==(a=w[12].length===w[6].length)&&(i.checked=a),k[0]&4096&&c!==(c=w[12].length+"")&&tt(d,c),k[0]&8192&&v!==(v=w[13].length+"")&&tt(p,v),k[0]&12288){O=w[13];let R;for(R=0;R<O.length;R+=1){const T=Wb(w,O,R);I[R]?I[R].p(T,k):(I[R]=Qb(T),I[R].c(),I[R].m(g,null))}for(;R<I.length;R+=1)I[R].d(1);I.length=O.length}},i:_e,o:_e,d(w){w&&$(t),w&&$(y),w&&$(g),nr(I,w),w&&$(m),w&&$(_),b=!1,Lr(S)}}}function Gfe(n){let t,e,r,i,a,o=n[15],s=[];for(let d=0;d<o.length;d+=1)s[d]=Zb(qb(n,o,d));let l=n[9],u=[];for(let d=0;d<l.length;d+=1)u[d]=e_(Ub(n,l,d));const f=d=>N(u[d],1,1,()=>{u[d]=null});let c=n[1]&&t_();return{c(){t=z("div");for(let d=0;d<s.length;d+=1)s[d].c();e=te(),r=z("div");for(let d=0;d<u.length;d+=1)u[d].c();i=te(),c&&c.c(),this.h()},l(d){t=j(d,"DIV",{class:!0});var h=F(t);for(let p=0;p<s.length;p+=1)s[p].l(h);h.forEach($),e=re(d),r=j(d,"DIV",{class:!0});var v=F(r);for(let p=0;p<u.length;p+=1)u[p].l(v);i=re(v),c&&c.l(v),v.forEach($),this.h()},h(){C(t,"class","flex mb-1 svelte-pr1852"),C(r,"class","properties svelte-pr1852")},m(d,h){x(d,t,h);for(let v=0;v<s.length;v+=1)s[v].m(t,null);x(d,e,h),x(d,r,h);for(let v=0;v<u.length;v+=1)u[v].m(r,null);D(r,i),c&&c.m(r,null),a=!0},p(d,h){if(h[0]&98316){o=d[15];let v;for(v=0;v<o.length;v+=1){const p=qb(d,o,v);s[v]?s[v].p(p,h):(s[v]=Zb(p),s[v].c(),s[v].m(t,null))}for(;v<s.length;v+=1)s[v].d(1);s.length=o.length}if(h[0]&147969){l=d[9];let v;for(v=0;v<l.length;v+=1){const p=Ub(d,l,v);u[v]?(u[v].p(p,h),M(u[v],1)):(u[v]=e_(p),u[v].c(),M(u[v],1),u[v].m(r,i))}for(Fe(),v=l.length;v<u.length;v+=1)f(v);Be()}d[1]?c?h[0]&2&&M(c,1):(c=t_(),c.c(),M(c,1),c.m(r,null)):c&&(Fe(),N(c,1,1,()=>{c=null}),Be())},i(d){if(!a){for(let h=0;h<l.length;h+=1)M(u[h]);M(c),a=!0}},o(d){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)N(u[h]);N(c),a=!1},d(d){d&&$(t),nr(s,d),d&&$(e),d&&$(r),nr(u,d),c&&c.d()}}}function qfe(n){let t,e=n[52].node.id+"",r,i;return{c(){t=z("span"),r=ve(e),this.h()},l(a){t=j(a,"SPAN",{class:!0,title:!0});var o=F(t);r=pe(o,e),o.forEach($),this.h()},h(){C(t,"class","truncate svelte-pr1852"),C(t,"title",i=n[52].node.id)},m(a,o){x(a,t,o),D(t,r)},p(a,o){o[0]&8192&&e!==(e=a[52].node.id+"")&&tt(r,e),o[0]&8192&&i!==(i=a[52].node.id)&&C(t,"title",i)},d(a){a&&$(t)}}}function Kfe(n){let t,e;function r(o,s){return o[52].matches&&o[52].matches.length>0?Xfe:Yfe}let i=r(n),a=i(n);return{c(){t=z("span"),a.c(),this.h()},l(o){t=j(o,"SPAN",{class:!0,title:!0});var s=F(t);a.l(s),s.forEach($),this.h()},h(){C(t,"class"," svelte-pr1852"),C(t,"title",e=n[52].node.label)},m(o,s){x(o,t,s),a.m(t,null)},p(o,s){i===(i=r(o))&&a?a.p(o,s):(a.d(1),a=i(o),a&&(a.c(),a.m(t,null))),s[0]&8192&&e!==(e=o[52].node.label)&&C(t,"title",e)},d(o){o&&$(t),a.d()}}}function Yfe(n){let t=n[52].node.label+"",e;return{c(){e=ve(t)},l(r){e=pe(r,t)},m(r,i){x(r,e,i)},p(r,i){i[0]&8192&&t!==(t=r[52].node.label+"")&&tt(e,t)},d(r){r&&$(e)}}}function Xfe(n){let t=n[52].node.label.slice(0,n[52].matches[0].indices[0][0])+"",e,r,i=n[52].matches[0].indices,a=[];for(let o=0;o<i.length;o+=1)a[o]=Xb(Vb(n,i,o));return{c(){e=ve(t);for(let o=0;o<a.length;o+=1)a[o].c();r=$e()},l(o){e=pe(o,t);for(let s=0;s<a.length;s+=1)a[s].l(o);r=$e()},m(o,s){x(o,e,s);for(let l=0;l<a.length;l+=1)a[l].m(o,s);x(o,r,s)},p(o,s){if(s[0]&8192&&t!==(t=o[52].node.label.slice(0,o[52].matches[0].indices[0][0])+"")&&tt(e,t),s[0]&8192){i=o[52].matches[0].indices;let l;for(l=0;l<i.length;l+=1){const u=Vb(o,i,l);a[l]?a[l].p(u,s):(a[l]=Xb(u),a[l].c(),a[l].m(r.parentNode,r))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(o){o&&$(e),nr(a,o),o&&$(r)}}}function Xb(n){var o;let t,e=n[52].node.label.slice(n[46][0],n[46][1]+1)+"",r,i=n[52].node.label.slice(n[46][1]+1,((o=n[52].matches[0].indices[n[48]+1])==null?void 0:o[0])??n[52].node.label.length)+"",a;return{c(){t=z("span"),r=ve(e),a=ve(i),this.h()},l(s){t=j(s,"SPAN",{class:!0});var l=F(t);r=pe(l,e),l.forEach($),a=pe(s,i),this.h()},h(){C(t,"class","text-primary svelte-pr1852")},m(s,l){x(s,t,l),D(t,r),x(s,a,l)},p(s,l){var u;l[0]&8192&&e!==(e=s[52].node.label.slice(s[46][0],s[46][1]+1)+"")&&tt(r,e),l[0]&8192&&i!==(i=s[52].node.label.slice(s[46][1]+1,((u=s[52].matches[0].indices[s[48]+1])==null?void 0:u[0])??s[52].node.label.length)+"")&&tt(a,i)},d(s){s&&$(t),s&&$(a)}}}function Qb(n){let t,e,r,i,a,o,s,l,u,f,c;function d(y,g){return y[52].node.label?Kfe:qfe}let h=d(n),v=h(n);function p(){return n[34](n[52])}return{c(){t=z("li"),e=z("div"),r=z("input"),o=te(),s=z("label"),v.c(),u=te(),this.h()},l(y){t=j(y,"LI",{class:!0});var g=F(t);e=j(g,"DIV",{class:!0});var m=F(e);r=j(m,"INPUT",{id:!0,type:!0,class:!0}),o=re(m),s=j(m,"LABEL",{for:!0,class:!0});var _=F(s);v.l(_),_.forEach($),m.forEach($),u=re(g),g.forEach($),this.h()},h(){C(r,"id",i=n[52].node.id),C(r,"type","checkbox"),r.__value=a=n[52].node,r.value=r.__value,C(r,"class","w-4 h-4 text-primary bg-gray-100 rounded border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 svelte-pr1852"),n[33][0].push(r),C(s,"for",l=n[52].node.id),C(s,"class","cursor-pointer ml-2 font-medium text-gray-900 dark:text-gray-300 select-none truncate svelte-pr1852"),C(e,"class","flex items-center cursor-pointer min-w-0 flex-grow select-none svelte-pr1852"),C(t,"class","px-3 rounded-lg bg-transparent flex transition-all duration-200 ease-in-out svelte-pr1852")},m(y,g){x(y,t,g),D(t,e),D(e,r),r.checked=~n[12].indexOf(r.__value),D(e,o),D(e,s),v.m(s,null),D(t,u),f||(c=[J(r,"click",rce),J(r,"change",n[32]),J(s,"click",nce),J(t,"click",p)],f=!0)},p(y,g){n=y,g[0]&8192&&i!==(i=n[52].node.id)&&C(r,"id",i),g[0]&8192&&a!==(a=n[52].node)&&(r.__value=a,r.value=r.__value),g[0]&4096&&(r.checked=~n[12].indexOf(r.__value)),h===(h=d(n))&&v?v.p(n,g):(v.d(1),v=h(n),v&&(v.c(),v.m(s,null))),g[0]&8192&&l!==(l=n[52].node.id)&&C(s,"for",l)},d(y){y&&$(t),n[33][0].splice(n[33][0].indexOf(r),1),v.d(),f=!1,Lr(c)}}}function Zb(n){let t,e,r=(n[49]!="direction"?n[49]:"")+"",i,a,o,s,l,u,f,c,d;function h(){return n[30](n[49])}return{c(){t=z("button"),e=z("span"),i=ve(r),a=te(),o=It("svg"),s=It("path"),u=te(),this.h()},l(v){t=j(v,"BUTTON",{class:!0});var p=F(t);e=j(p,"SPAN",{class:!0});var y=F(e);i=pe(y,r),y.forEach($),a=re(p),o=Ct(p,"svg",{width:!0,height:!0,class:!0,viewBox:!0,fill:!0,xmlns:!0});var g=F(o);s=Ct(g,"path",{d:!0,class:!0}),F(s).forEach($),g.forEach($),u=re(p),p.forEach($),this.h()},h(){C(e,"class","capitalize  svelte-pr1852"),C(s,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),C(s,"class","svelte-pr1852"),C(o,"width","1em"),C(o,"height","1em"),C(o,"class",l="fill-current text-[10px] "+(n[3]===n[49]&&n[2]===1?"-scale-y-[1]":"")+" svelte-pr1852"),C(o,"viewBox","0 0 9 7"),C(o,"fill","none"),C(o,"xmlns","http://www.w3.org/2000/svg"),C(t,"class",f=Pr(`select-none gap-2 flex flex-none items-center justify-center p-2 cursor-pointer  leading-snug transform transition-all ${n[3]!==n[49]?"text-dark-muted dark:text-light-muted":"text-primary"} 
						${n[49]=="count"?"ml-auto":""}
						`)+" svelte-pr1852")},m(v,p){x(v,t,p),D(t,e),D(e,i),D(t,a),D(t,o),D(o,s),D(t,u),c||(d=J(t,"click",h),c=!0)},p(v,p){n=v,p[0]&12&&l!==(l="fill-current text-[10px] "+(n[3]===n[49]&&n[2]===1?"-scale-y-[1]":"")+" svelte-pr1852")&&C(o,"class",l),p[0]&8&&f!==(f=Pr(`select-none gap-2 flex flex-none items-center justify-center p-2 cursor-pointer  leading-snug transform transition-all ${n[3]!==n[49]?"text-dark-muted dark:text-light-muted":"text-primary"} 
						${n[49]=="count"?"ml-auto":""}
						`)+" svelte-pr1852")&&C(t,"class",f)},d(v){v&&$(t),c=!1,d()}}}function Qfe(n){let t,e=n[43].property.uri+"",r,i;return{c(){t=z("span"),r=ve(e),this.h()},l(a){t=j(a,"SPAN",{class:!0,title:!0});var o=F(t);r=pe(o,e),o.forEach($),this.h()},h(){C(t,"class","truncate svelte-pr1852"),C(t,"title",i=n[43].property.uri)},m(a,o){x(a,t,o),D(t,r)},p(a,o){o[0]&512&&e!==(e=a[43].property.uri+"")&&tt(r,e),o[0]&512&&i!==(i=a[43].property.uri)&&C(t,"title",i)},d(a){a&&$(t)}}}function Zfe(n){let t,e;function r(o,s){return o[43].matches&&o[43].matches.length>0?ece:Jfe}let i=r(n),a=i(n);return{c(){t=z("span"),a.c(),this.h()},l(o){t=j(o,"SPAN",{class:!0,title:!0});var s=F(t);a.l(s),s.forEach($),this.h()},h(){C(t,"class","truncate svelte-pr1852"),C(t,"title",e=n[43].property.label)},m(o,s){x(o,t,s),a.m(t,null)},p(o,s){i===(i=r(o))&&a?a.p(o,s):(a.d(1),a=i(o),a&&(a.c(),a.m(t,null))),s[0]&512&&e!==(e=o[43].property.label)&&C(t,"title",e)},d(o){o&&$(t),a.d()}}}function Jfe(n){let t=n[43].property.label+"",e;return{c(){e=ve(t)},l(r){e=pe(r,t)},m(r,i){x(r,e,i)},p(r,i){i[0]&512&&t!==(t=r[43].property.label+"")&&tt(e,t)},d(r){r&&$(e)}}}function ece(n){let t=n[43].property.label.slice(0,n[43].matches[0].indices[0][0])+"",e,r,i=n[43].matches[0].indices,a=[];for(let o=0;o<i.length;o+=1)a[o]=Jb(Gb(n,i,o));return{c(){e=ve(t);for(let o=0;o<a.length;o+=1)a[o].c();r=$e()},l(o){e=pe(o,t);for(let s=0;s<a.length;s+=1)a[s].l(o);r=$e()},m(o,s){x(o,e,s);for(let l=0;l<a.length;l+=1)a[l].m(o,s);x(o,r,s)},p(o,s){if(s[0]&512&&t!==(t=o[43].property.label.slice(0,o[43].matches[0].indices[0][0])+"")&&tt(e,t),s[0]&512){i=o[43].matches[0].indices;let l;for(l=0;l<i.length;l+=1){const u=Gb(o,i,l);a[l]?a[l].p(u,s):(a[l]=Jb(u),a[l].c(),a[l].m(r.parentNode,r))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(o){o&&$(e),nr(a,o),o&&$(r)}}}function Jb(n){var o;let t,e=n[43].property.label.slice(n[46][0],n[46][1]+1)+"",r,i=n[43].property.label.slice(n[46][1]+1,((o=n[43].matches[0].indices[n[48]+1])==null?void 0:o[0])??n[43].property.label.length)+"",a;return{c(){t=z("span"),r=ve(e),a=ve(i),this.h()},l(s){t=j(s,"SPAN",{class:!0});var l=F(t);r=pe(l,e),l.forEach($),a=pe(s,i),this.h()},h(){C(t,"class","text-primary svelte-pr1852")},m(s,l){x(s,t,l),D(t,r),x(s,a,l)},p(s,l){var u;l[0]&512&&e!==(e=s[43].property.label.slice(s[46][0],s[46][1]+1)+"")&&tt(r,e),l[0]&512&&i!==(i=s[43].property.label.slice(s[46][1]+1,((u=s[43].matches[0].indices[s[48]+1])==null?void 0:u[0])??s[43].property.label.length)+"")&&tt(a,i)},d(s){s&&$(t),s&&$(a)}}}function e_(n){let t,e,r,i,a,o,s,l=(n[43].property.in_count+n[43].property.out_count>n[14].size_limit*2?n[14].size_limit:n[43].property.in_count+n[43].property.out_count)+"",u,f,c,d;r=new Qt({props:{src:n[43].property.in_count<n[43].property.out_count?Eb:kb,theme:"solid",class:"h-5 w-5  mr-3",title:"test"}});function h(g,m){return g[43].property.label?Zfe:Qfe}let v=h(n),p=v(n);function y(){return n[31](n[43])}return{c(){t=z("button"),e=z("div"),ae(r.$$.fragment),a=te(),p.c(),o=te(),s=z("span"),u=ve(l),this.h()},l(g){t=j(g,"BUTTON",{class:!0});var m=F(t);e=j(m,"DIV",{title:!0,class:!0});var _=F(e);le(r.$$.fragment,_),_.forEach($),a=re(m),p.l(m),o=re(m),s=j(m,"SPAN",{class:!0});var E=F(s);u=pe(E,l),E.forEach($),m.forEach($),this.h()},h(){C(e,"title",i=`${n[43].property.in_count<n[43].property.out_count?"Target of":"Source of"} "${n[43].property.label}"`),C(e,"class","svelte-pr1852"),C(s,"class","ml-auto w-6 bg-dark-muted text-light rounded-full inline-flex items-center justify-center -mb-0.5 text-xs font-semibold p-1  svelte-pr1852"),C(t,"class","button flex px-2 rounded-lg bg-transparent h-10 hover:bg-black/5 dark:hover:bg-black/30 transition-all duration-200 ease-in-out  svelte-pr1852")},m(g,m){x(g,t,m),D(t,e),oe(r,e,null),D(t,a),p.m(t,null),D(t,o),D(t,s),D(s,u),f=!0,c||(d=J(t,"click",y),c=!0)},p(g,m){n=g;const _={};m[0]&512&&(_.src=n[43].property.in_count<n[43].property.out_count?Eb:kb),r.$set(_),(!f||m[0]&512&&i!==(i=`${n[43].property.in_count<n[43].property.out_count?"Target of":"Source of"} "${n[43].property.label}"`))&&C(e,"title",i),v===(v=h(n))&&p?p.p(n,m):(p.d(1),p=v(n),p&&(p.c(),p.m(t,o))),(!f||m[0]&16896)&&l!==(l=(n[43].property.in_count+n[43].property.out_count>n[14].size_limit*2?n[14].size_limit:n[43].property.in_count+n[43].property.out_count)+"")&&tt(u,l)},i(g){f||(M(r.$$.fragment,g),f=!0)},o(g){N(r.$$.fragment,g),f=!1},d(g){g&&$(t),se(r),p.d(),c=!1,d()}}}function t_(n){let t,e,r;return e=new Js({}),{c(){t=z("div"),ae(e.$$.fragment),this.h()},l(i){t=j(i,"DIV",{class:!0});var a=F(t);le(e.$$.fragment,a),a.forEach($),this.h()},h(){C(t,"class","w-8 h-8 mx-auto mt-2 svelte-pr1852")},m(i,a){x(i,t,a),oe(e,t,null),r=!0},i(i){r||(M(e.$$.fragment,i),r=!0)},o(i){N(e.$$.fragment,i),r=!1},d(i){i&&$(t),se(e)}}}function tce(n){let t,e,r=n[0]&&Kb(n);return{c(){r&&r.c(),t=$e()},l(i){r&&r.l(i),t=$e()},m(i,a){r&&r.m(i,a),x(i,t,a),e=!0},p(i,a){i[0]?r?(r.p(i,a),a[0]&1&&M(r,1)):(r=Kb(i),r.c(),M(r,1),r.m(t.parentNode,t)):r&&(Fe(),N(r,1,1,()=>{r=null}),Be())},i(i){e||(M(r),e=!0)},o(i){N(r),e=!1},d(i){r&&r.d(i),i&&$(t)}}}const r_=30,Fd=16,rce=n=>{n.stopPropagation()},nce=n=>{n.stopPropagation()};function ice(n,t,e){let r;Jo(n,mt,ue=>e(14,r=ue));let{selected_node:i=void 0}=t,{menu_position:a={x:0,y:0}}=t,{graph:o}=t,{information_tab_visible:s=!1}=t,{loading:l=!1}=t,u=0;const f=["direction","name","count"];let c=-1,d="name",h=[],v="",p,y=!1,g,m=[],_=[],E=[],b;Xt.listenerCount("progress")===0&&Xt.on("progress",ue=>{e(8,u=ue)});function S(){e(5,g=void 0),e(6,m=[]),e(12,_=[]),e(13,E=[])}function O(){e(12,_=[])}function I(ue){ue==d?c===1?e(2,c=-1):c===-1&&e(2,c=1):e(3,d=ue)}async function w(ue,Se){var ht;e(5,g=Se),e(6,m=[]),e(4,v=""),e(11,y=!1),e(6,m=await o.load_related_nodes(ue,Se,!1,(ht=o.network)==null?void 0:ht.DOMtoCanvas(a)))}function k(ue){ue.key!=="Escape"&&ue.key.length==1&&(!y||document.activeElement!==p)?(e(4,v+=ue.key),e(11,y=!0),setTimeout(()=>{p==null||p.focus()},0)):y&&ue.key==="Escape"&&(e(11,y=!1),e(4,v=""))}function R(ue){const Se=ue.target;e(12,_=Se.checked?m:[])}function T(){o.show_nodes(_),e(0,i=void 0)}const P=[[]],A=()=>e(5,g=void 0),K=()=>e(4,v="");function U(ue){yt[ue?"unshift":"push"](()=>{p=ue,e(10,p)})}function fe(){v=this.value,e(4,v)}const L=()=>{e(11,y=!0),setTimeout(()=>p.focus(),0)},W=()=>v.length==0?e(11,y=!1):null,Y=ue=>I(ue),B=ue=>i&&w(i.id,ue.property);function H(){_=KE(P[0],this.__value,this.checked),e(12,_)}const G=ue=>{_.find(Se=>Se.id===ue.node.id)?e(12,_=_.filter(Se=>Se.id!==ue.node.id)):e(12,_=_.concat([ue.node]))},me=()=>document.addEventListener("keydown",k),ge=()=>document.addEventListener("keydown",k),Pe=()=>document.removeEventListener("keydown",k,!1),Re=()=>document.removeEventListener("keydown",k,!1);function ze(ue){yt[ue?"unshift":"push"](()=>{b=ue,e(7,b),e(21,a),e(23,s)})}return n.$$set=ue=>{"selected_node"in ue&&e(0,i=ue.selected_node),"menu_position"in ue&&e(21,a=ue.menu_position),"graph"in ue&&e(22,o=ue.graph),"information_tab_visible"in ue&&e(23,s=ue.information_tab_visible),"loading"in ue&&e(1,l=ue.loading)},n.$$.update=()=>{if(n.$$.dirty[0]&10485888&&b){const ue={x:a.x,y:a.y};let Se=window.innerWidth;s&&(Se-=400),ue.x+b.offsetWidth+r_>Se?ue.x=Se-b.offsetWidth-Fd:ue.x+=r_,ue.y+b.offsetHeight/2>window.innerHeight?ue.y=window.innerHeight-b.offsetHeight-Fd:ue.y-b.offsetHeight/2<0?ue.y=Fd:ue.y-=b.offsetHeight/2,e(7,b.style.top=ue.y+"px",b),e(7,b.style.left=ue.x+"px",b),e(8,u=0)}if(n.$$.dirty[0]&1&&S(),n.$$.dirty[0]&32&&O(),n.$$.dirty[0]&61&&i&&i.properties.length>0&&!g){let ue=[...i.properties].map(Se=>({property:Se,matches:[]}));v.length>0&&(ue=new Ki(i.properties,{keys:["label"],includeMatches:!0,threshold:.3,shouldSort:!0,distance:1e3}).search(v).map(ht=>({property:ht.item,matches:ht.matches}))),e(9,h=ue.sort((Se,ht)=>d=="count"?c*(Se.property.in_count+Se.property.out_count<=ht.property.in_count+ht.property.out_count?1:-1):d=="name"?!Se.property.label||!ht.property.label?1:c*(Se.property.label.toLocaleLowerCase()<=ht.property.label.toLocaleLowerCase()?1:-1):c*(Se.property.in_count<ht.property.in_count?1:-1)))}if(n.$$.dirty[0]&125&&i&&i.properties.length>0&&g&&m.length>0){let ue=[...m].map(Se=>({node:Se,matches:[]}));v.length>0&&(ue=new Ki(m,{keys:["label"],includeMatches:!0,threshold:.3,shouldSort:!0,distance:1e3}).search(v).map(ht=>({node:ht.item,matches:ht.matches}))),e(13,E=ue)}},[i,l,c,d,v,g,m,b,u,h,p,y,_,E,r,f,I,w,k,R,T,a,o,s,A,K,U,fe,L,W,Y,B,H,P,G,me,ge,Pe,Re,ze]}class ace extends Le{constructor(t){super(),xe(this,t,ice,tce,Ae,{selected_node:0,menu_position:21,graph:22,information_tab_visible:23,loading:1},null,[-1,-1])}}class oce{constructor(t,e,r="uri",i=!1,a,o={x:0,y:0},s=!1,l=""){Qe(this,"id");Qe(this,"label");Qe(this,"description");Qe(this,"visible");Qe(this,"is_fetched");Qe(this,"fixed");Qe(this,"image");Qe(this,"type");Qe(this,"x");Qe(this,"y");Qe(this,"properties",[]);Qe(this,"color");Qe(this,"shape","dot");this.id=t,this.label=e,this.visible=i,this.is_fetched=!1,this.type=r,this.x=o.x,this.y=o.y,this.fixed=s,this.description=l,a&&this.update_image(a)}update_image(t){this.image=t,this.shape="circularImage",this.color="transparent"}}class sce{constructor(t,e,r,i){Qe(this,"from");Qe(this,"uri");Qe(this,"to");Qe(this,"label");this.from=t,this.uri=e,this.to=r,this.label=i}compare(t){return this.from==t.from&&this.to==t.to&&this.uri==t.uri}}class lce{constructor(){Qe(this,"nodes");Qe(this,"edges");Qe(this,"network");Qe(this,"data");this.nodes=[],this.edges=[];const t=new Ba([]),e=new Ba([]);this.data={nodes:t,edges:e},this.update_data()}reset(){this.nodes=[],this.edges=[],this.data.nodes.clear(),this.data.edges.clear()}is_edge_visible(t){for(const e of this.nodes)if(e.id==t.from&&e.visible){for(const r of this.nodes)if(r!=e&&r.id==t.to&&r.visible)return!0}return!1}set_network(t){this.network=t}update_data(t=!0){var l;const e=this.nodes.filter(u=>u.visible),r=this.edges.filter(u=>this.is_edge_visible(u)),i=this.data.nodes,a=this.data.edges;for(const u of e)try{i.add(u)}catch{}for(const u of r)try{a.add(u)}catch{}const o=[];i.forEach(u=>{e.find(f=>f.id==u.id)||o.push(u)});for(const u of o)i.remove(u);const s=[];a.forEach(u=>{r.find(f=>f.compare(u))||s.push(u)});for(const u of s)a.remove(u);return!Mr(mt).animations&&t&&((l=this.network)==null||l.stabilize()),this.data}find_or_create_node(t,e,r="uri",i=!1,a,o={x:0,y:0},s=""){let l=this.nodes.find(u=>u.id==t);return l?(e!==t&&e.length>l.label.length&&(l.label=e),s.length>l.description.length&&(l.description=s)):(l=new oce(t,e,r,i,a,o,!1,s),this.nodes.push(l)),l}get_node(t){return this.nodes.find(e=>e.id==t)}update_node(t,e){e&&(t.x=e.x,t.y=e.y),this.data.nodes.update(t)}hide_node(t){t.visible=!1,this.update_data()}show_node(t){t.visible=!0,this.update_data()}show_nodes(t){t.forEach(e=>e.visible=!0),this.update_data()}toggle_node_lock(t,e){t.fixed=!t.fixed,this.update_node(t,e)}create_edge(t,e,r,i){if(this.edges.find(o=>o.from==t&&o.uri==e&&o.to==r||o.to==t&&o.uri==e&&o.from==r))return!1;const a=new sce(t,e,r,i);return this.edges.push(a),!0}async load_properties(t){const e=await Xt.fetch_properties(t);if(e.length>0){const r=this.find_or_create_node(t,t);r.is_fetched=!0,r.properties=e}}async load_node(t,e=!0){if(!Xn(t))return this.find_or_create_node(t,t,"literal",e);const r=Xt.fetch_info(t);let i=Promise.resolve(void 0);Mr(mt).fetch_image&&(i=Xt.fetch_image(t));const[a,o]=await Promise.all([r,i]);return this.find_or_create_node(t,a.label,"uri",e,o,void 0,a.description)}async load_nodes(t,e=!0){var l,u;const r=Xt.fetch_labels(t);let i=Promise.resolve([]);Mr(mt).fetch_image&&(i=Xt.fetch_images(t));const[a,o]=await Promise.all([r,i]),s=[];for(const f of t){const c=((l=a.find(v=>v.uri===f))==null?void 0:l.label)??f,d=(u=o.find(v=>v.uri===f))==null?void 0:u.image,h=this.find_or_create_node(f,c,"uri",e,d);s.push(h)}return s}async get_properties(t){const e=this.find_or_create_node(t,"");return e.is_fetched||await this.load_properties(e.id),e}async load_related_nodes(t,e,r=!0,i={x:0,y:0},a=!0){const o=this.find_or_create_node(t,t);let s=o.properties.find(c=>c.uri==e.uri);if(s!=null&&s.related)return s.related;s||(o.properties.push(e),s=e),s.related=[];const l=await Xt.fetch_related_nodes(t,e.uri,a),u=[],f=[];for(const c of l){const d=this.find_or_create_node(c.uri,c.label,c.type,r,void 0,i);d.visible?f.push(d):(d.x=i.x,d.y=i.y,d.visible=r,u.push(d)),this.create_edge(t,e.uri,c.uri,e.label??"label"),s.related.find(h=>h.id==d.id)==null&&(s.related.push(d),s.out_count++)}return this.update_data(r),Mr(mt).fetch_related&&Xt.fetch_multiple_relations(u.map(c=>c.id),this.nodes.map(c=>c.id),a).then(c=>{for(const d of c){this.create_edge(d.subject.value,d.property.value,d.object.value,d.property_label);const h=this.nodes.find(y=>y.id==d.subject.value),v=h==null?void 0:h.properties.find(y=>y.uri==d.property.value),p=this.nodes.find(y=>y.id==d.object.value);v?p&&(v.related||(v.related=[]),v.related.find(y=>y.id==p.id)==null&&(v.related.push(p),v.out_count++)):!v&&h&&h.properties.push({uri:d.property.value,label:d.property_label,related:p?[p]:void 0,in_count:0,out_count:1})}this.update_data(r)}),Mr(mt).fetch_image&&Xt.fetch_images(u.map(c=>c.id)).then(c=>{for(const d of c){const h=this.nodes.find(v=>v.id==d.uri);h&&(h.update_image(d.image),h.visible&&this.data.nodes.update(h))}}),u.concat(f)}}function uce(n,{delay:t=0,duration:e=400,easing:r=YE}={}){const i=+getComputedStyle(n).opacity;return{delay:t,duration:e,easing:r,css:a=>`opacity: ${a*i}`}}const{window:fce}=XE;function n_(n){let t,e,r,i,a,o,s,l,u,f,c,d,h,v,p,y,g,m=n[1].closeButton&&i_(n);var _=n[2];function E(b){return{}}return _&&(o=vn(_,E())),{c(){t=z("div"),e=z("div"),r=z("div"),m&&m.c(),i=te(),a=z("div"),o&&ae(o.$$.fragment),this.h()},l(b){t=j(b,"DIV",{class:!0,style:!0});var S=F(t);e=j(S,"DIV",{class:!0,style:!0});var O=F(e);r=j(O,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-label":!0,"aria-labelledby":!0,style:!0});var I=F(r);m&&m.l(I),i=re(I),a=j(I,"DIV",{class:!0,style:!0});var w=F(a);o&&le(o.$$.fragment,w),w.forEach($),I.forEach($),O.forEach($),S.forEach($),this.h()},h(){C(a,"class",s=Pr(n[1].classContent)+" svelte-n7cvum"),C(a,"style",n[9]),Ze(a,"content",!n[0]),C(r,"class",l=Pr(n[1].classWindow)+" svelte-n7cvum"),C(r,"role","dialog"),C(r,"aria-modal","true"),C(r,"aria-label",u=n[1].ariaLabelledBy?null:n[1].ariaLabel||null),C(r,"aria-labelledby",f=n[1].ariaLabelledBy||null),C(r,"style",n[8]),Ze(r,"window",!n[0]),C(e,"class",d=Pr(n[1].classWindowWrap)+" svelte-n7cvum"),C(e,"style",n[7]),Ze(e,"wrap",!n[0]),C(t,"class",h=Pr(n[1].classBg)+" svelte-n7cvum"),C(t,"style",n[6]),Ze(t,"bg",!n[0])},m(b,S){x(b,t,S),D(t,e),D(e,r),m&&m.m(r,null),D(r,i),D(r,a),o&&oe(o,a,null),n[49](r),n[50](e),n[51](t),p=!0,y||(g=[J(r,"introstart",function(){ba(n[13])&&n[13].apply(this,arguments)}),J(r,"outrostart",function(){ba(n[14])&&n[14].apply(this,arguments)}),J(r,"introend",function(){ba(n[15])&&n[15].apply(this,arguments)}),J(r,"outroend",function(){ba(n[16])&&n[16].apply(this,arguments)}),J(t,"mousedown",n[20]),J(t,"mouseup",n[21])],y=!0)},p(b,S){if(n=b,n[1].closeButton?m?(m.p(n,S),S[0]&2&&M(m,1)):(m=i_(n),m.c(),M(m,1),m.m(r,i)):m&&(Fe(),N(m,1,1,()=>{m=null}),Be()),_!==(_=n[2])){if(o){Fe();const O=o;N(O.$$.fragment,1,0,()=>{se(O,1)}),Be()}_?(o=vn(_,E()),ae(o.$$.fragment),M(o.$$.fragment,1),oe(o,a,null)):o=null}(!p||S[0]&2&&s!==(s=Pr(n[1].classContent)+" svelte-n7cvum"))&&C(a,"class",s),(!p||S[0]&512)&&C(a,"style",n[9]),(!p||S[0]&3)&&Ze(a,"content",!n[0]),(!p||S[0]&2&&l!==(l=Pr(n[1].classWindow)+" svelte-n7cvum"))&&C(r,"class",l),(!p||S[0]&2&&u!==(u=n[1].ariaLabelledBy?null:n[1].ariaLabel||null))&&C(r,"aria-label",u),(!p||S[0]&2&&f!==(f=n[1].ariaLabelledBy||null))&&C(r,"aria-labelledby",f),(!p||S[0]&256)&&C(r,"style",n[8]),(!p||S[0]&3)&&Ze(r,"window",!n[0]),(!p||S[0]&2&&d!==(d=Pr(n[1].classWindowWrap)+" svelte-n7cvum"))&&C(e,"class",d),(!p||S[0]&128)&&C(e,"style",n[7]),(!p||S[0]&3)&&Ze(e,"wrap",!n[0]),(!p||S[0]&2&&h!==(h=Pr(n[1].classBg)+" svelte-n7cvum"))&&C(t,"class",h),(!p||S[0]&64)&&C(t,"style",n[6]),(!p||S[0]&3)&&Ze(t,"bg",!n[0])},i(b){p||(M(m),o&&M(o.$$.fragment,b),Rp(()=>{c||(c=al(r,n[12],n[1].transitionWindowProps,!0)),c.run(1)}),Rp(()=>{v||(v=al(t,n[11],n[1].transitionBgProps,!0)),v.run(1)}),p=!0)},o(b){N(m),o&&N(o.$$.fragment,b),c||(c=al(r,n[12],n[1].transitionWindowProps,!1)),c.run(0),v||(v=al(t,n[11],n[1].transitionBgProps,!1)),v.run(0),p=!1},d(b){b&&$(t),m&&m.d(),o&&se(o),n[49](null),b&&c&&c.end(),n[50](null),n[51](null),b&&v&&v.end(),y=!1,Lr(g)}}}function i_(n){let t,e,r,i,a;const o=[dce,cce],s=[];function l(u,f){return f[0]&2&&(t=null),t==null&&(t=!!u[17](u[1].closeButton)),t?0:1}return e=l(n,[-1,-1,-1]),r=s[e]=o[e](n),{c(){r.c(),i=$e()},l(u){r.l(u),i=$e()},m(u,f){s[e].m(u,f),x(u,i,f),a=!0},p(u,f){let c=e;e=l(u,f),e===c?s[e].p(u,f):(Fe(),N(s[c],1,1,()=>{s[c]=null}),Be(),r=s[e],r?r.p(u,f):(r=s[e]=o[e](u),r.c()),M(r,1),r.m(i.parentNode,i))},i(u){a||(M(r),a=!0)},o(u){N(r),a=!1},d(u){s[e].d(u),u&&$(i)}}}function cce(n){let t,e,r,i;return{c(){t=z("button"),this.h()},l(a){t=j(a,"BUTTON",{class:!0,"aria-label":!0,style:!0,type:!0}),F(t).forEach($),this.h()},h(){C(t,"class",e=Pr(n[1].classCloseButton)+" svelte-n7cvum"),C(t,"aria-label","Close modal"),C(t,"style",n[10]),C(t,"type","button"),Ze(t,"close",!n[0])},m(a,o){x(a,t,o),r||(i=J(t,"click",n[18]),r=!0)},p(a,o){o[0]&2&&e!==(e=Pr(a[1].classCloseButton)+" svelte-n7cvum")&&C(t,"class",e),o[0]&1024&&C(t,"style",a[10]),o[0]&3&&Ze(t,"close",!a[0])},i:_e,o:_e,d(a){a&&$(t),r=!1,i()}}}function dce(n){let t,e,r;var i=n[1].closeButton;function a(o){return{props:{onClose:o[18]}}}return i&&(t=vn(i,a(n))),{c(){t&&ae(t.$$.fragment),e=$e()},l(o){t&&le(t.$$.fragment,o),e=$e()},m(o,s){t&&oe(t,o,s),x(o,e,s),r=!0},p(o,s){if(i!==(i=o[1].closeButton)){if(t){Fe();const l=t;N(l.$$.fragment,1,0,()=>{se(l,1)}),Be()}i?(t=vn(i,a(o)),ae(t.$$.fragment),M(t.$$.fragment,1),oe(t,e.parentNode,e)):t=null}},i(o){r||(t&&M(t.$$.fragment,o),r=!0)},o(o){t&&N(t.$$.fragment,o),r=!1},d(o){o&&$(e),t&&se(t,o)}}}function hce(n){let t,e,r,i,a=n[2]&&n_(n);const o=n[48].default,s=ut(o,n,n[47],null);return{c(){a&&a.c(),t=te(),s&&s.c()},l(l){a&&a.l(l),t=re(l),s&&s.l(l)},m(l,u){a&&a.m(l,u),x(l,t,u),s&&s.m(l,u),e=!0,r||(i=J(fce,"keydown",n[19]),r=!0)},p(l,u){l[2]?a?(a.p(l,u),u[0]&4&&M(a,1)):(a=n_(l),a.c(),M(a,1),a.m(t.parentNode,t)):a&&(Fe(),N(a,1,1,()=>{a=null}),Be()),s&&s.p&&(!e||u[1]&65536)&&ft(s,o,l,l[47],e?dt(o,l[47],u,null):ct(l[47]),null)},i(l){e||(M(a),M(s,l),e=!0)},o(l){N(a),N(s,l),e=!1},d(l){a&&a.d(l),l&&$(t),s&&s.d(l),r=!1,i()}}}function BE(n,t={}){return function(r){return new n({...r,props:{...t,...r.props}})}}function vce(n,t,e){let{$$slots:r={},$$scope:i}=t;const a=F_(),o=B_,s=X=>X.tabIndex>=0&&!X.hidden&&!X.disabled&&X.style.display!=="none"&&X.type!=="hidden"&&Boolean(X.offsetWidth||X.offsetHeight||X.getClientRects().length);let{isTabbable:l=s}=t,{show:u=null}=t,{key:f="simple-modal"}=t,{ariaLabel:c=null}=t,{ariaLabelledBy:d=null}=t,{closeButton:h=!0}=t,{closeOnEsc:v=!0}=t,{closeOnOuterClick:p=!0}=t,{styleBg:y={}}=t,{styleWindowWrap:g={}}=t,{styleWindow:m={}}=t,{styleContent:_={}}=t,{styleCloseButton:E={}}=t,{classBg:b=null}=t,{classWindowWrap:S=null}=t,{classWindow:O=null}=t,{classContent:I=null}=t,{classCloseButton:w=null}=t,{unstyled:k=!1}=t,{setContext:R=o}=t,{transitionBg:T=uce}=t,{transitionBgProps:P={duration:250}}=t,{transitionWindow:A=T}=t,{transitionWindowProps:K=P}=t,{disableFocusTrap:U=!1}=t;const fe={ariaLabel:c,ariaLabelledBy:d,closeButton:h,closeOnEsc:v,closeOnOuterClick:p,styleBg:y,styleWindowWrap:g,styleWindow:m,styleContent:_,styleCloseButton:E,classBg:b,classWindowWrap:S,classWindow:O,classContent:I,classCloseButton:w,transitionBg:T,transitionBgProps:P,transitionWindow:A,transitionWindowProps:K,disableFocusTrap:U,isTabbable:l,unstyled:k};let L={...fe},W=null,Y,B,H,G,me,ge,Pe,Re,ze,ue,Se,ht,Hn,Ft,gt;const Ie=X=>X.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Ce=X=>X?Object.keys(X).reduce((ho,bn)=>`${ho}; ${Ie(bn)}: ${X[bn]}`,""):"",Wn=X=>!!(X&&X.constructor&&X.call&&X.apply),mn=()=>{e(6,me=Ce(Object.assign({},{width:window.innerWidth,height:window.innerHeight},L.styleBg))),e(7,ge=Ce(L.styleWindowWrap)),e(8,Pe=Ce(L.styleWindow)),e(9,Re=Ce(L.styleContent)),e(10,ze=Ce(L.styleCloseButton)),e(11,ue=L.transitionBg),e(12,Se=L.transitionWindow)},jr=()=>{};let Hr=jr,yn=jr,co=jr,mi=jr;const yi=(X,ho={},bn={},lr={})=>{e(2,W=BE(X,ho)),e(1,L={...fe,...bn}),mn(),oa(),e(13,Hr=_n=>{lr.onOpen&&lr.onOpen(_n),a("open"),a("opening")}),e(14,yn=_n=>{lr.onClose&&lr.onClose(_n),a("close"),a("closing")}),e(15,co=_n=>{lr.onOpened&&lr.onOpened(_n),a("opened")}),e(16,mi=_n=>{lr.onClosed&&lr.onClosed(_n),a("closed")})},er=(X={})=>{W&&(e(14,yn=X.onClose||yn),e(16,mi=X.onClosed||mi),e(2,W=null),nl())},el=X=>{if(L.closeOnEsc&&W&&X.key==="Escape"&&(X.preventDefault(),er()),W&&X.key==="Tab"&&!L.disableFocusTrap){const ho=H.querySelectorAll("*"),bn=Array.from(ho).filter(L.isTabbable).sort((_n,HE)=>_n.tabIndex-HE.tabIndex);let lr=bn.indexOf(document.activeElement);lr===-1&&X.shiftKey&&(lr=0),lr+=bn.length+(X.shiftKey?-1:1),lr%=bn.length,bn[lr].focus(),X.preventDefault()}},tl=X=>{L.closeOnOuterClick&&(X.target===Y||X.target===B)&&(gt=X.target)},rl=X=>{L.closeOnOuterClick&&X.target===gt&&(X.preventDefault(),er())},oa=()=>{G=window.scrollY,ht=document.body.style.position,Hn=document.body.style.overflow,Ft=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${G}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},nl=()=>{document.body.style.position=ht||"",document.body.style.top="",document.body.style.overflow=Hn||"",document.body.style.width=Ft||"",window.scrollTo(0,G)};R(f,{open:yi,close:er});let il=!1;N_(()=>{il&&er()}),Au(()=>{e(46,il=!0)});function xE(X){yt[X?"unshift":"push"](()=>{H=X,e(5,H)})}function zE(X){yt[X?"unshift":"push"](()=>{B=X,e(4,B)})}function jE(X){yt[X?"unshift":"push"](()=>{Y=X,e(3,Y)})}return n.$$set=X=>{"isTabbable"in X&&e(22,l=X.isTabbable),"show"in X&&e(23,u=X.show),"key"in X&&e(24,f=X.key),"ariaLabel"in X&&e(25,c=X.ariaLabel),"ariaLabelledBy"in X&&e(26,d=X.ariaLabelledBy),"closeButton"in X&&e(27,h=X.closeButton),"closeOnEsc"in X&&e(28,v=X.closeOnEsc),"closeOnOuterClick"in X&&e(29,p=X.closeOnOuterClick),"styleBg"in X&&e(30,y=X.styleBg),"styleWindowWrap"in X&&e(31,g=X.styleWindowWrap),"styleWindow"in X&&e(32,m=X.styleWindow),"styleContent"in X&&e(33,_=X.styleContent),"styleCloseButton"in X&&e(34,E=X.styleCloseButton),"classBg"in X&&e(35,b=X.classBg),"classWindowWrap"in X&&e(36,S=X.classWindowWrap),"classWindow"in X&&e(37,O=X.classWindow),"classContent"in X&&e(38,I=X.classContent),"classCloseButton"in X&&e(39,w=X.classCloseButton),"unstyled"in X&&e(0,k=X.unstyled),"setContext"in X&&e(40,R=X.setContext),"transitionBg"in X&&e(41,T=X.transitionBg),"transitionBgProps"in X&&e(42,P=X.transitionBgProps),"transitionWindow"in X&&e(43,A=X.transitionWindow),"transitionWindowProps"in X&&e(44,K=X.transitionWindowProps),"disableFocusTrap"in X&&e(45,U=X.disableFocusTrap),"$$scope"in X&&e(47,i=X.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8388608|n.$$.dirty[1]&32768&&il&&(Wn(u)?yi(u):er())},[k,L,W,Y,B,H,me,ge,Pe,Re,ze,ue,Se,Hr,yn,co,mi,Wn,er,el,tl,rl,l,u,f,c,d,h,v,p,y,g,m,_,E,b,S,O,I,w,R,T,P,A,K,U,il,i,r,xE,zE,jE]}class pce extends Le{constructor(t){super(),xe(this,t,vce,hce,Ae,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}var nv={},gce={get exports(){return nv},set exports(n){nv=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var o=typeof a;if(o==="string"||o==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var s=e.apply(null,a);s&&r.push(s)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&r.push(l)}}}return r.join(" ")}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(gce);const Dt=nv;function mce(n){let t;const e=n[13].default,r=ut(e,n,n[12],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,a){r&&r.m(i,a),t=!0},p(i,a){r&&r.p&&(!t||a&4096)&&ft(r,e,i,i[12],t?dt(e,i[12],a,null):ct(i[12]),null)},i(i){t||(M(r,i),t=!0)},o(i){N(r,i),t=!1},d(i){r&&r.d(i)}}}function yce(n){let t,e;const r=n[13].default,i=ut(r,n,n[12],null);return{c(){t=z("span"),i&&i.c(),this.h()},l(a){t=j(a,"SPAN",{class:!0});var o=F(t);i&&i.l(o),o.forEach($),this.h()},h(){C(t,"class",n[5])},m(a,o){x(a,t,o),i&&i.m(t,null),e=!0},p(a,o){i&&i.p&&(!e||o&4096)&&ft(i,r,a,a[12],e?dt(r,a[12],o,null):ct(a[12]),null),(!e||o&32)&&C(t,"class",a[5])},i(a){e||(M(i,a),e=!0)},o(a){N(i,a),e=!1},d(a){a&&$(t),i&&i.d(a)}}}function Bd(n){let t,e,r,i,a,o,s;const l=[yce,mce],u=[];function f(h,v){return h[0]&&h[1]?0:1}e=f(n),r=u[e]=l[e](n);let c=[{type:i=n[2]?void 0:n[3]},{href:n[2]},n[6],{class:n[4]}],d={};for(let h=0;h<c.length;h+=1)d=ye(d,c[h]);return{c(){t=z(n[2]?"a":"button"),r.c(),this.h()},l(h){t=j(h,((n[2]?"a":"button")||"null").toUpperCase(),{type:!0,href:!0,class:!0});var v=F(t);r.l(v),v.forEach($),this.h()},h(){/-/.test(n[2]?"a":"button")?Ma(t,d):vt(t,d)},m(h,v){x(h,t,v),u[e].m(t,null),a=!0,o||(s=[J(t,"click",n[14]),J(t,"change",n[15]),J(t,"keydown",n[16]),J(t,"keyup",n[17]),J(t,"mouseenter",n[18]),J(t,"mouseleave",n[19])],o=!0)},p(h,v){let p=e;e=f(h),e===p?u[e].p(h,v):(Fe(),N(u[p],1,1,()=>{u[p]=null}),Be(),r=u[e],r?r.p(h,v):(r=u[e]=l[e](h),r.c()),M(r,1),r.m(t,null)),d=pt(c,[(!a||v&12&&i!==(i=h[2]?void 0:h[3]))&&{type:i},(!a||v&4)&&{href:h[2]},v&64&&h[6],(!a||v&16)&&{class:h[4]}]),/-/.test(h[2]?"a":"button")?Ma(t,d):vt(t,d)},i(h){a||(M(r),a=!0)},o(h){N(r),a=!1},d(h){h&&$(t),u[e].d(),o=!1,Lr(s)}}}function bce(n){let t=n[2]?"a":"button",e,r,i=(n[2]?"a":"button")&&Bd(n);return{c(){i&&i.c(),e=$e()},l(a){i&&i.l(a),e=$e()},m(a,o){i&&i.m(a,o),x(a,e,o),r=!0},p(a,[o]){a[2],t?Ae(t,a[2]?"a":"button")?(i.d(1),i=Bd(a),i.c(),i.m(e.parentNode,e)):i.p(a,o):(i=Bd(a),i.c(),i.m(e.parentNode,e)),t=a[2]?"a":"button"},i(a){r||(M(i),r=!0)},o(a){N(i),r=!1},d(a){a&&$(e),i&&i.d(a)}}}function _ce(n,t,e){const r=["pill","outline","gradient","size","href","btnClass","type","color","shadow"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t;const s=Bi("group");let{pill:l=!1}=t,{outline:u=!1}=t,{gradient:f=!1}=t,{size:c=s?"sm":"md"}=t,{href:d=void 0}=t,{btnClass:h=void 0}=t,{type:v="button"}=t,{color:p=s?u?"dark":"alternative":"blue"}=t,{shadow:y=null}=t;const g={blue:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",dark:"text-white bg-gray-800 hover:bg-gray-900 focus:ring-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700",alternative:"text-gray-900 bg-white border border-gray-200 dark:border-gray-600 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 hover:text-blue-700 focus:text-blue-700 dark:focus:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",green:"text-white bg-green-700 hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",red:"text-white bg-red-700 hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",yellow:"text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-yellow-300 dark:focus:ring-yellow-900",primary:"text-white bg-primary-700 hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",purple:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},m={blue:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-blue-300 dark:focus:ring-blue-800 ",green:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-green-300 dark:focus:ring-green-800",cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-cyan-300 dark:focus:ring-cyan-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-teal-300 dark:focus:ring-teal-800",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-lime-300 dark:focus:ring-lime-800",red:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-red-300 dark:focus:ring-red-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-purple-300 dark:focus:ring-purple-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-blue-300 dark:focus:ring-blue-800",cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-green-200 dark:focus:ring-green-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-purple-200 dark:focus:ring-purple-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-pink-200 dark:focus:ring-pink-800",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l focus:ring-lime-200 dark:focus:ring-teal-700",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl focus:ring-red-100 dark:focus:ring-red-400"},_={blue:"shadow-lg shadow-blue-500/50 dark:shadow-lg dark:shadow-blue-800/80",green:"shadow-lg shadow-green-500/50 dark:shadow-lg dark:shadow-green-800/80",cyan:"shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80",teal:"shadow-lg shadow-teal-500/50 dark:shadow-lg dark:shadow-teal-800/80 ",lime:"shadow-lg shadow-lime-500/50 dark:shadow-lg dark:shadow-lime-800/80",red:"shadow-lg shadow-red-500/50 dark:shadow-lg dark:shadow-red-800/80 ",pink:"shadow-lg shadow-pink-500/50 dark:shadow-lg dark:shadow-pink-800/80",purple:"shadow-lg shadow-purple-500/50 dark:shadow-lg dark:shadow-purple-800/80"},E={blue:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600 dark:focus:ring-blue-800",light:"text-gray-500 hover:text-gray-900 bg-white border border-gray-200 dark:border-gray-600 dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-400",dark:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus:bg-gray-900 focus:text-white focus:ring-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-800",green:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-green-300 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-800",red:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-red-300 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900",yellow:"text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 focus:ring-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400 dark:focus:ring-yellow-900",purple:"text-purple-700 hover:text-white border border-purple-700 hover:bg-purple-800 focus:ring-purple-300 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500 dark:focus:ring-purple-900"},b={xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"};function S(U=!1){return s?l?"first:rounded-l-full last:rounded-r-full":U?"first:rounded-l-md last:rounded-r-md":"first:rounded-l-lg last:rounded-r-lg":l?"rounded-full":U?"rounded-md":"rounded-lg"}const O=()=>u||p==="alternative"||p==="light";let I,w;function k(U){ke.call(this,n,U)}function R(U){ke.call(this,n,U)}function T(U){ke.call(this,n,U)}function P(U){ke.call(this,n,U)}function A(U){ke.call(this,n,U)}function K(U){ke.call(this,n,U)}return n.$$set=U=>{e(28,t=ye(ye({},t),st(U))),e(6,i=ot(t,r)),"pill"in U&&e(7,l=U.pill),"outline"in U&&e(0,u=U.outline),"gradient"in U&&e(1,f=U.gradient),"size"in U&&e(8,c=U.size),"href"in U&&e(2,d=U.href),"btnClass"in U&&e(9,h=U.btnClass),"type"in U&&e(3,v=U.type),"color"in U&&e(10,p=U.color),"shadow"in U&&e(11,y=U.shadow),"$$scope"in U&&e(12,o=U.$$scope)},n.$$.update=()=>{e(4,I=h||Dt("text-center font-medium",s?"focus:ring-2":"focus:ring-4",s&&"focus:z-10",s||"focus:outline-none",u&&f?"p-0.5":"inline-flex items-center justify-center "+b[c],f?m[p]:u?E[p]:g[p],p==="alternative"&&(s?"dark:bg-gray-700 dark:text-white dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-600":"dark:bg-transparent dark:border-gray-800 dark:hover:border-gray-700"),u&&p==="dark"&&(s?"dark:text-white dark:border-white":"dark:text-gray-400 dark:border-gray-700"),O()&&s&&"border-l-0 first:border-l",S(!1),y&&_[y],t.disabled&&"cursor-not-allowed opacity-50",t.class)),n.$$.dirty&256&&e(5,w=Dt("inline-flex items-center justify-center",b[c],S(!0),"bg-white text-gray-900 dark:bg-gray-900 dark:text-white","transition-all duration-75 ease-in group-hover:bg-opacity-0 group-hover:text-inherit"))},t=st(t),[u,f,d,v,I,w,i,l,c,h,p,y,o,a,k,R,T,P,A,K]}class a_ extends Le{constructor(t){super(),xe(this,t,_ce,bce,Ae,{pill:7,outline:0,gradient:1,size:8,href:2,btnClass:9,type:3,color:10,shadow:11})}}function $ce(n){let t;const e=n[5].default,r=ut(e,n,n[4],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,a){r&&r.m(i,a),t=!0},p(i,a){r&&r.p&&(!t||a&16)&&ft(r,e,i,i[4],t?dt(e,i[4],a,null):ct(i[4]),null)},i(i){t||(M(r,i),t=!0)},o(i){N(r,i),t=!1},d(i){r&&r.d(i)}}}function wce(n){let t=n[0],e,r,i=n[0]&&Ld(n);return{c(){i&&i.c(),e=$e()},l(a){i&&i.l(a),e=$e()},m(a,o){i&&i.m(a,o),x(a,e,o),r=!0},p(a,o){a[0]?t?Ae(t,a[0])?(i.d(1),i=Ld(a),i.c(),i.m(e.parentNode,e)):i.p(a,o):(i=Ld(a),i.c(),i.m(e.parentNode,e)):t&&(i.d(1),i=null),t=a[0]},i(a){r||(M(i),r=!0)},o(a){N(i),r=!1},d(a){a&&$(e),i&&i.d(a)}}}function Ld(n){let t,e,r,i;const a=n[5].default,o=ut(a,n,n[4],null);let s=[n[3]],l={};for(let u=0;u<s.length;u+=1)l=ye(l,s[u]);return{c(){t=z(n[0]),o&&o.c(),this.h()},l(u){t=j(u,(n[0]||"null").toUpperCase(),{});var f=F(t);o&&o.l(f),f.forEach($),this.h()},h(){/-/.test(n[0])?Ma(t,l):vt(t,l)},m(u,f){x(u,t,f),o&&o.m(t,null),e=!0,r||(i=Mu(n[2].call(null,t)),r=!0)},p(u,f){o&&o.p&&(!e||f&16)&&ft(o,a,u,u[4],e?dt(a,u[4],f,null):ct(u[4]),null),l=pt(s,[f&8&&u[3]]),/-/.test(u[0])?Ma(t,l):vt(t,l)},i(u){e||(M(o,u),e=!0)},o(u){N(o,u),e=!1},d(u){u&&$(t),o&&o.d(u),r=!1,i()}}}function kce(n){let t,e,r,i;const a=[wce,$ce],o=[];function s(l,u){return l[1]?0:1}return t=s(n),e=o[t]=a[t](n),{c(){e.c(),r=$e()},l(l){e.l(l),r=$e()},m(l,u){o[t].m(l,u),x(l,r,u),i=!0},p(l,[u]){let f=t;t=s(l),t===f?o[t].p(l,u):(Fe(),N(o[f],1,1,()=>{o[f]=null}),Be(),e=o[t],e?e.p(l,u):(e=o[t]=a[t](l),e.c()),M(e,1),e.m(r.parentNode,r))},i(l){i||(M(e),i=!0)},o(l){N(e),i=!1},d(l){o[t].d(l),l&&$(r)}}}function Ece(n,t,e){const r=["tag","show","use"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t,{tag:s="div"}=t,{show:l}=t,{use:u=()=>{}}=t;return n.$$set=f=>{t=ye(ye({},t),st(f)),e(3,i=ot(t,r)),"tag"in f&&e(0,s=f.tag),"show"in f&&e(1,l=f.show),"use"in f&&e(2,u=f.use),"$$scope"in f&&e(4,o=f.$$scope)},[s,l,u,i,o,a]}class Sce extends Le{constructor(t){super(),xe(this,t,Ece,kce,Ae,{tag:0,show:1,use:2})}}function Oce(n){let t;const e=n[7].default,r=ut(e,n,n[6],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,a){r&&r.m(i,a),t=!0},p(i,a){r&&r.p&&(!t||a&64)&&ft(r,e,i,i[6],t?dt(e,i[6],a,null):ct(i[6]),null)},i(i){t||(M(r,i),t=!0)},o(i){N(r,i),t=!1},d(i){r&&r.d(i)}}}function Tce(n){let t,e;const r=n[7].default,i=ut(r,n,n[6],null);let a=[n[3],{class:n[2]}],o={};for(let s=0;s<a.length;s+=1)o=ye(o,a[s]);return{c(){t=z("label"),i&&i.c(),this.h()},l(s){t=j(s,"LABEL",{class:!0});var l=F(t);i&&i.l(l),l.forEach($),this.h()},h(){vt(t,o)},m(s,l){x(s,t,l),i&&i.m(t,null),n[8](t),e=!0},p(s,l){i&&i.p&&(!e||l&64)&&ft(i,r,s,s[6],e?dt(r,s[6],l,null):ct(s[6]),null),vt(t,o=pt(a,[l&8&&s[3],(!e||l&4)&&{class:s[2]}]))},i(s){e||(M(i,s),e=!0)},o(s){N(i,s),e=!1},d(s){s&&$(t),i&&i.d(s),n[8](null)}}}function Ice(n){let t,e,r,i;const a=[Tce,Oce],o=[];function s(l,u){return l[0]?0:1}return t=s(n),e=o[t]=a[t](n),{c(){e.c(),r=$e()},l(l){e.l(l),r=$e()},m(l,u){o[t].m(l,u),x(l,r,u),i=!0},p(l,[u]){let f=t;t=s(l),t===f?o[t].p(l,u):(Fe(),N(o[f],1,1,()=>{o[f]=null}),Be(),e=o[t],e?e.p(l,u):(e=o[t]=a[t](l),e.c()),M(e,1),e.m(r.parentNode,r))},i(l){i||(M(e),i=!0)},o(l){N(e),i=!1},d(l){o[t].d(l),l&&$(r)}}}function Cce(n,t,e){let r;const i=["color","defaultClass","show"];let a=ot(t,i),{$$slots:o={},$$scope:s}=t,{color:l="gray"}=t,{defaultClass:u="text-sm font-medium block"}=t,{show:f=!0}=t,c;const d={gray:"text-gray-900 dark:text-gray-300",green:"text-green-700 dark:text-green-500",red:"text-red-700 dark:text-red-500",disabled:"text-gray-400 dark:text-gray-500"};function h(v){yt[v?"unshift":"push"](()=>{c=v,e(1,c)})}return n.$$set=v=>{e(10,t=ye(ye({},t),st(v))),e(3,a=ot(t,i)),"color"in v&&e(4,l=v.color),"defaultClass"in v&&e(5,u=v.defaultClass),"show"in v&&e(0,f=v.show),"$$scope"in v&&e(6,s=v.$$scope)},n.$$.update=()=>{if(n.$$.dirty&18){const v=c==null?void 0:c.control;e(4,l=v!=null&&v.disabled?"disabled":l)}e(2,r=Dt(u,d[l],t.class))},t=st(t),[f,c,r,a,l,u,s,o,h]}class ru extends Le{constructor(t){super(),xe(this,t,Cce,Ice,Ae,{color:4,defaultClass:5,show:0})}}const Pce={red:"text-red-600 focus:ring-red-500 dark:focus:ring-red-600",green:"text-green-600 focus:ring-green-500 dark:focus:ring-green-600",purple:"text-purple-600 focus:ring-purple-500 dark:focus:ring-purple-600",teal:"text-teal-600 focus:ring-teal-500 dark:focus:ring-teal-600",yellow:"text-yellow-400 focus:ring-yellow-500 dark:focus:ring-yellow-600",orange:"text-orange-500 focus:ring-orange-500 dark:focus:ring-orange-600",blue:"text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600"},o_=(n,t)=>Dt(n?"inline-flex":"flex","items-center",t),s_=(n,t,e,r,i)=>Dt("w-4 h-4 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2",i===!0&&"mr-2",r?"dark:bg-gray-600 dark:border-gray-500":"dark:bg-gray-700 dark:border-gray-600",n&&"sr-only peer",e&&"rounded",Pce[t],i);function Ace(n){let t,e,r,i,a,o,s=[{type:"checkbox"},{__value:n[5]},n[11],{class:e=s_(n[3],n[2],!0,n[6],n[10].default||n[9].class)}],l={};for(let c=0;c<s.length;c+=1)l=ye(l,s[c]);const u=n[12].default,f=ut(u,n,n[25],null);return{c(){t=z("input"),f&&f.c(),this.h()},l(c){t=j(c,"INPUT",{type:!0,class:!0}),f&&f.l(c),this.h()},h(){vt(t,l)},m(c,d){x(c,t,d),t.autofocus&&t.focus(),t.checked=n[1],f&&f.m(c,d),i=!0,a||(o=[Mu(r=n[7].call(null,t,n[0])),J(t,"change",n[24]),J(t,"keyup",n[13]),J(t,"keydown",n[14]),J(t,"keypress",n[15]),J(t,"focus",n[16]),J(t,"blur",n[17]),J(t,"click",n[18]),J(t,"mouseover",n[19]),J(t,"mouseenter",n[20]),J(t,"mouseleave",n[21]),J(t,"paste",n[22]),J(t,"change",n[8]),J(t,"change",n[23])],a=!0)},p(c,d){vt(t,l=pt(s,[{type:"checkbox"},(!i||d&32)&&{__value:c[5]},d&2048&&c[11],(!i||d&1548&&e!==(e=s_(c[3],c[2],!0,c[6],c[10].default||c[9].class)))&&{class:e}])),r&&ba(r.update)&&d&1&&r.update.call(null,c[0]),d&2&&(t.checked=c[1]),f&&f.p&&(!i||d&33554432)&&ft(f,u,c,c[25],i?dt(u,c[25],d,null):ct(c[25]),null)},i(c){i||(M(f,c),i=!0)},o(c){N(f,c),i=!1},d(c){c&&$(t),f&&f.d(c),a=!1,Lr(o)}}}function Mce(n){let t,e;return t=new ru({props:{class:o_(n[4],n[9].class),show:!!n[10].default,$$slots:{default:[Ace]},$$scope:{ctx:n}}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,[i]){const a={};i&528&&(a.class=o_(r[4],r[9].class)),i&1024&&(a.show=!!r[10].default),i&33558063&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function Dce(n,t,e){const r=["color","custom","inline","group","value","checked"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t;const s=Du(a);let{color:l="blue"}=t,{custom:u=!1}=t,{inline:f=!1}=t,{group:c=[]}=t,{value:d=""}=t,{checked:h=void 0}=t,v=Bi("background");function p(P,A){return h===void 0&&e(1,h=A.includes(d)),y(),{update(K){e(1,h=K.includes(d))}}}function y(){const P=c.indexOf(d);h===void 0&&e(1,h=P>=0),h?P<0&&(c.push(d),e(0,c)):P>=0&&(c.splice(P,1),e(0,c))}function g(P){ke.call(this,n,P)}function m(P){ke.call(this,n,P)}function _(P){ke.call(this,n,P)}function E(P){ke.call(this,n,P)}function b(P){ke.call(this,n,P)}function S(P){ke.call(this,n,P)}function O(P){ke.call(this,n,P)}function I(P){ke.call(this,n,P)}function w(P){ke.call(this,n,P)}function k(P){ke.call(this,n,P)}function R(P){ke.call(this,n,P)}function T(){h=this.checked,e(1,h)}return n.$$set=P=>{e(9,t=ye(ye({},t),st(P))),e(11,i=ot(t,r)),"color"in P&&e(2,l=P.color),"custom"in P&&e(3,u=P.custom),"inline"in P&&e(4,f=P.inline),"group"in P&&e(0,c=P.group),"value"in P&&e(5,d=P.value),"checked"in P&&e(1,h=P.checked),"$$scope"in P&&e(25,o=P.$$scope)},t=st(t),[c,h,l,u,f,d,v,p,y,t,s,i,a,g,m,_,E,b,S,O,I,w,k,R,T,o]}class Rce extends Le{constructor(t){super(),xe(this,t,Dce,Mce,Ae,{color:2,custom:3,inline:4,group:0,value:5,checked:1})}}const Nce=n=>({props:n[0]&36}),l_=n=>({props:{...n[5],class:n[2]}}),Fce=n=>({props:n[0]&36}),u_=n=>({props:{...n[5],class:n[2]}}),Bce=n=>({props:n[0]&36}),f_=n=>({props:{...n[5],class:n[2]}});function c_(n){let t,e;const r=n[10].left,i=ut(r,n,n[25],f_);return{c(){t=z("div"),i&&i.c(),this.h()},l(a){t=j(a,"DIV",{class:!0});var o=F(t);i&&i.l(o),o.forEach($),this.h()},h(){C(t,"class",LE+" left-0 pl-2.5 pointer-events-none")},m(a,o){x(a,t,o),i&&i.m(t,null),e=!0},p(a,o){i&&i.p&&(!e||o[0]&33554468)&&ft(i,r,a,a[25],e?dt(r,a[25],o,Bce):ct(a[25]),f_)},i(a){e||(M(i,a),e=!0)},o(a){N(i,a),e=!1},d(a){a&&$(t),i&&i.d(a)}}}function Lce(n){let t,e,r,i,a=[n[5],{class:n[2]}],o={};for(let s=0;s<a.length;s+=1)o=ye(o,a[s]);return{c(){t=z("input"),this.h()},l(s){t=j(s,"INPUT",{class:!0}),this.h()},h(){vt(t,o)},m(s,l){x(s,t,l),t.autofocus&&t.focus(),Aa(t,n[0]),r||(i=[J(t,"input",n[24]),J(t,"blur",n[11]),J(t,"change",n[12]),J(t,"click",n[13]),J(t,"contextmenu",n[14]),J(t,"focus",n[15]),J(t,"keydown",n[16]),J(t,"keypress",n[17]),J(t,"keyup",n[18]),J(t,"mouseover",n[19]),J(t,"mouseenter",n[20]),J(t,"mouseleave",n[21]),J(t,"paste",n[22]),J(t,"input",n[23]),Mu(e=n[3].call(null,t,n[1]))],r=!0)},p(s,l){vt(t,o=pt(a,[l[0]&32&&s[5],l[0]&4&&{class:s[2]}])),l[0]&1&&t.value!==s[0]&&Aa(t,s[0]),e&&ba(e.update)&&l[0]&2&&e.update.call(null,s[1])},d(s){s&&$(t),r=!1,Lr(i)}}}function d_(n){let t,e;const r=n[10].right,i=ut(r,n,n[25],l_);return{c(){t=z("div"),i&&i.c(),this.h()},l(a){t=j(a,"DIV",{class:!0});var o=F(t);i&&i.l(o),o.forEach($),this.h()},h(){C(t,"class",LE+" right-0 pr-2.5")},m(a,o){x(a,t,o),i&&i.m(t,null),e=!0},p(a,o){i&&i.p&&(!e||o[0]&33554468)&&ft(i,r,a,a[25],e?dt(r,a[25],o,Nce):ct(a[25]),l_)},i(a){e||(M(i,a),e=!0)},o(a){N(i,a),e=!1},d(a){a&&$(t),i&&i.d(a)}}}function xce(n){let t,e,r,i,a=n[4].left&&c_(n);const o=n[10].default,s=ut(o,n,n[25],u_),l=s||Lce(n);let u=n[4].right&&d_(n);return{c(){a&&a.c(),t=te(),l&&l.c(),e=te(),u&&u.c(),r=$e()},l(f){a&&a.l(f),t=re(f),l&&l.l(f),e=re(f),u&&u.l(f),r=$e()},m(f,c){a&&a.m(f,c),x(f,t,c),l&&l.m(f,c),x(f,e,c),u&&u.m(f,c),x(f,r,c),i=!0},p(f,c){f[4].left?a?(a.p(f,c),c[0]&16&&M(a,1)):(a=c_(f),a.c(),M(a,1),a.m(t.parentNode,t)):a&&(Fe(),N(a,1,1,()=>{a=null}),Be()),s?s.p&&(!i||c[0]&33554468)&&ft(s,o,f,f[25],i?dt(o,f[25],c,Fce):ct(f[25]),u_):l&&l.p&&(!i||c[0]&39)&&l.p(f,i?c:[-1,-1]),f[4].right?u?(u.p(f,c),c[0]&16&&M(u,1)):(u=d_(f),u.c(),M(u,1),u.m(r.parentNode,r)):u&&(Fe(),N(u,1,1,()=>{u=null}),Be())},i(f){i||(M(a),M(l,f),M(u),i=!0)},o(f){N(a),N(l,f),N(u),i=!1},d(f){a&&a.d(f),f&&$(t),l&&l.d(f),f&&$(e),u&&u.d(f),f&&$(r)}}}function zce(n){let t,e;return t=new Sce({props:{class:"relative w-full",show:n[4].left||n[4].right,$$slots:{default:[xce]},$$scope:{ctx:n}}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,i){const a={};i[0]&16&&(a.show=r[4].left||r[4].right),i[0]&33554487&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function jce(n){return n&&n==="xs"?"sm":n==="xl"?"lg":n}let LE="flex absolute inset-y-0 items-center text-gray-500 dark:text-gray-400";function Hce(n,t,e){let r;const i=["type","value","size","defaultClass","color"];let a=ot(t,i),{$$slots:o={},$$scope:s}=t;const l=Du(o);let{type:u="text"}=t,{value:f=""}=t,{size:c=void 0}=t,{defaultClass:d="block w-full disabled:cursor-not-allowed disabled:opacity-50"}=t,{color:h="base"}=t;const v={base:"border-gray-300 dark:border-gray-600",tinted:"border-gray-300 dark:border-gray-500",green:"border-green-500 dark:border-green-400",red:"border-red-500 dark:border-red-400"},p={base:"focus:border-blue-500 focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500",green:"focus:ring-green-500 focus:border-green-500 dark:focus:border-green-500 dark:focus:ring-green-500",red:"focus:ring-red-500 focus:border-red-500 dark:focus:ring-red-500 dark:focus:border-red-500"},y={base:"bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",tinted:"bg-gray-50 text-gray-900 dark:bg-gray-600 dark:text-white dark:placeholder-gray-400",green:"bg-green-50 text-green-900 placeholder-green-700 dark:text-green-400 dark:placeholder-green-500 dark:bg-gray-700",red:"bg-red-50 text-red-900 placeholder-red-700 dark:text-red-500 dark:placeholder-red-500 dark:bg-gray-700"};let g=Bi("background"),m=Bi("group");const _=(G,me)=>(G.type=me,{update(ge){G.type=ge}}),E={sm:"sm:text-xs",md:"text-sm",lg:"sm:text-base"},b={sm:"pl-9",md:"pl-10",lg:"pl-11"},S={sm:"pr-9",md:"pr-10",lg:"pr-11"},O={sm:"p-2",md:"p-2.5",lg:"p-4"};let I;function w(G){ke.call(this,n,G)}function k(G){ke.call(this,n,G)}function R(G){ke.call(this,n,G)}function T(G){ke.call(this,n,G)}function P(G){ke.call(this,n,G)}function A(G){ke.call(this,n,G)}function K(G){ke.call(this,n,G)}function U(G){ke.call(this,n,G)}function fe(G){ke.call(this,n,G)}function L(G){ke.call(this,n,G)}function W(G){ke.call(this,n,G)}function Y(G){ke.call(this,n,G)}function B(G){ke.call(this,n,G)}function H(){f=this.value,e(0,f)}return n.$$set=G=>{e(35,t=ye(ye({},t),st(G))),e(5,a=ot(t,i)),"type"in G&&e(1,u=G.type),"value"in G&&e(0,f=G.value),"size"in G&&e(6,c=G.size),"defaultClass"in G&&e(7,d=G.defaultClass),"color"in G&&e(8,h=G.color),"$$scope"in G&&e(25,s=G.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&64&&e(9,r=c||jce(m==null?void 0:m.size)||"md");{const G=h==="base"&&g?"tinted":h;e(2,I=Dt(d,l.left&&b[r],l.right&&S[r],p[h],y[G],v[G],O[r],E[r],m||"rounded-lg",m&&"first:rounded-l-lg last:rounded-r-lg",m&&"border-l-0 first:border-l last:border-r",t.class))}},t=st(t),[f,u,I,_,l,a,c,d,h,r,o,w,k,R,T,P,A,K,U,fe,L,W,Y,B,H,s]}class xd extends Le{constructor(t){super(),xe(this,t,Hce,zce,Ae,{type:1,value:0,size:6,defaultClass:7,color:8},null,[-1,-1])}}function Wce(n){let t,e,r;const i=n[7].default,a=ut(i,n,n[12],null);return{c(){t=z("span"),e=te(),a&&a.c(),this.h()},l(o){t=j(o,"SPAN",{class:!0}),F(t).forEach($),e=re(o),a&&a.l(o),this.h()},h(){C(t,"class",n[3])},m(o,s){x(o,t,s),x(o,e,s),a&&a.m(o,s),r=!0},p(o,s){(!r||s&8)&&C(t,"class",o[3]),a&&a.p&&(!r||s&4096)&&ft(a,i,o,o[12],r?dt(i,o[12],s,null):ct(o[12]),null)},i(o){r||(M(a,o),r=!0)},o(o){N(a,o),r=!1},d(o){o&&$(t),o&&$(e),a&&a.d(o)}}}function Vce(n){let t,e,r,i;const a=[{custom:!0},n[4],{class:n[5].class},{value:n[2]}];function o(u){n[8](u)}function s(u){n[9](u)}let l={$$slots:{default:[Wce]},$$scope:{ctx:n}};for(let u=0;u<a.length;u+=1)l=ye(l,a[u]);return n[1]!==void 0&&(l.checked=n[1]),n[0]!==void 0&&(l.group=n[0]),t=new Rce({props:l}),yt.push(()=>Rr(t,"checked",o,n[1])),yt.push(()=>Rr(t,"group",s,n[0])),t.$on("click",n[10]),t.$on("change",n[11]),{c(){ae(t.$$.fragment)},l(u){le(t.$$.fragment,u)},m(u,f){oe(t,u,f),i=!0},p(u,[f]){const c=f&52?pt(a,[a[0],f&16&&Zo(u[4]),f&32&&{class:u[5].class},f&4&&{value:u[2]}]):{};f&4104&&(c.$$scope={dirty:f,ctx:u}),!e&&f&2&&(e=!0,c.checked=u[1],Nr(()=>e=!1)),!r&&f&1&&(r=!0,c.group=u[0],Nr(()=>r=!1)),t.$set(c)},i(u){i||(M(t.$$.fragment,u),i=!0)},o(u){N(t.$$.fragment,u),i=!1},d(u){se(t,u)}}}const Uce="mr-3 bg-gray-200 rounded-full peer-focus:ring-4 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:bg-white after:border-gray-300 after:border after:rounded-full after:transition-all";function Gce(n,t,e){const r=["size","group","value","checked"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t,{size:s="default"}=t,{group:l=[]}=t,{value:u=""}=t,{checked:f=void 0}=t,c=Bi("background");const d={red:"peer-focus:ring-red-300 dark:peer-focus:ring-red-800 peer-checked:bg-red-600",green:"peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:bg-green-600",purple:"peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 peer-checked:bg-purple-600",yellow:"peer-focus:ring-yellow-300 dark:peer-focus:ring-yellow-800 peer-checked:bg-yellow-400",teal:"peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 peer-checked:bg-teal-600",orange:"peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 peer-checked:bg-orange-500",blue:"peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 peer-checked:bg-blue-600"},h={small:"w-9 h-5 after:top-[2px] after:left-[2px] after:h-4 after:w-4",default:"w-11 h-6 after:top-0.5 after:left-[2px] after:h-5 after:w-5",large:"w-14 h-7 after:top-0.5 after:left-[4px]  after:h-6 after:w-6"};let v;function p(_){f=_,e(1,f)}function y(_){l=_,e(0,l)}function g(_){ke.call(this,n,_)}function m(_){ke.call(this,n,_)}return n.$$set=_=>{e(5,t=ye(ye({},t),st(_))),e(4,i=ot(t,r)),"size"in _&&e(6,s=_.size),"group"in _&&e(0,l=_.group),"value"in _&&e(2,u=_.value),"checked"in _&&e(1,f=_.checked),"$$scope"in _&&e(12,o=_.$$scope)},n.$$.update=()=>{e(3,v=Dt(Uce,c?"dark:bg-gray-600 dark:border-gray-500":"dark:bg-gray-700 dark:border-gray-600",d[i.color??"blue"],h[s],"relative"))},t=st(t),[l,f,u,v,i,t,s,a,p,y,g,m,o]}class Oo extends Le{constructor(t){super(),xe(this,t,Gce,Vce,Ae,{size:6,group:0,value:2,checked:1})}}function qce(n){let t,e,r;const i=n[4].default,a=ut(i,n,n[3],null);let o=[n[1],{class:e=Dt(n[0],n[2].class)},{"aria-label":"Sidebar"}],s={};for(let l=0;l<o.length;l+=1)s=ye(s,o[l]);return{c(){t=z("aside"),a&&a.c(),this.h()},l(l){t=j(l,"ASIDE",{class:!0,"aria-label":!0});var u=F(t);a&&a.l(u),u.forEach($),this.h()},h(){vt(t,s)},m(l,u){x(l,t,u),a&&a.m(t,null),r=!0},p(l,[u]){a&&a.p&&(!r||u&8)&&ft(a,i,l,l[3],r?dt(i,l[3],u,null):ct(l[3]),null),vt(t,s=pt(o,[u&2&&l[1],(!r||u&5&&e!==(e=Dt(l[0],l[2].class)))&&{class:e},{"aria-label":"Sidebar"}]))},i(l){r||(M(a,l),r=!0)},o(l){N(a,l),r=!1},d(l){l&&$(t),a&&a.d(l)}}}function Kce(n,t,e){const r=["asideClass"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t,{asideClass:s="w-64"}=t;return n.$$set=l=>{e(2,t=ye(ye({},t),st(l))),e(1,i=ot(t,r)),"asideClass"in l&&e(0,s=l.asideClass),"$$scope"in l&&e(3,o=l.$$scope)},t=st(t),[s,i,t,o,a]}class Yce extends Le{constructor(t){super(),xe(this,t,Kce,qce,Ae,{asideClass:0})}}const Xce=n=>({}),h_=n=>({}),Qce=n=>({}),v_=n=>({});function p_(n){let t;const e=n[10].subtext,r=ut(e,n,n[9],h_);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,a){r&&r.m(i,a),t=!0},p(i,a){r&&r.p&&(!t||a&512)&&ft(r,e,i,i[9],t?dt(e,i[9],a,Xce):ct(i[9]),h_)},i(i){t||(M(r,i),t=!0)},o(i){N(r,i),t=!1},d(i){r&&r.d(i)}}}function Zce(n){let t,e,r,i,a,o,s,l,u,f;const c=n[10].icon,d=ut(c,n,n[9],v_);let h=n[8].subtext&&p_(n),v=[n[6],{href:n[1]},{class:s=Dt(n[5]?n[4]:n[0],n[7].class)}],p={};for(let y=0;y<v.length;y+=1)p=ye(p,v[y]);return{c(){t=z("li"),e=z("a"),d&&d.c(),r=te(),i=z("span"),a=ve(n[2]),o=te(),h&&h.c(),this.h()},l(y){t=j(y,"LI",{});var g=F(t);e=j(g,"A",{href:!0,class:!0});var m=F(e);d&&d.l(m),r=re(m),i=j(m,"SPAN",{class:!0});var _=F(i);a=pe(_,n[2]),_.forEach($),o=re(m),h&&h.l(m),m.forEach($),g.forEach($),this.h()},h(){C(i,"class",n[3]),vt(e,p)},m(y,g){x(y,t,g),D(t,e),d&&d.m(e,null),D(e,r),D(e,i),D(i,a),D(e,o),h&&h.m(e,null),l=!0,u||(f=[J(e,"blur",n[11]),J(e,"click",n[12]),J(e,"focus",n[13]),J(e,"keydown",n[14]),J(e,"keypress",n[15]),J(e,"keyup",n[16]),J(e,"mouseenter",n[17]),J(e,"mouseleave",n[18]),J(e,"mouseover",n[19])],u=!0)},p(y,[g]){d&&d.p&&(!l||g&512)&&ft(d,c,y,y[9],l?dt(c,y[9],g,Qce):ct(y[9]),v_),(!l||g&4)&&tt(a,y[2]),(!l||g&8)&&C(i,"class",y[3]),y[8].subtext?h?(h.p(y,g),g&256&&M(h,1)):(h=p_(y),h.c(),M(h,1),h.m(e,null)):h&&(Fe(),N(h,1,1,()=>{h=null}),Be()),vt(e,p=pt(v,[g&64&&y[6],(!l||g&2)&&{href:y[1]},(!l||g&177&&s!==(s=Dt(y[5]?y[4]:y[0],y[7].class)))&&{class:s}]))},i(y){l||(M(d,y),M(h),l=!0)},o(y){N(d,y),N(h),l=!1},d(y){y&&$(t),d&&d.d(y),h&&h.d(),u=!1,Lr(f)}}}function Jce(n,t,e){const r=["aClass","href","label","spanClass","activeClass","active"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t;const s=Du(a);let{aClass:l="flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}=t,{href:u=""}=t,{label:f=""}=t,{spanClass:c="ml-3"}=t,{activeClass:d="flex items-center p-2 text-base font-normal text-gray-900 bg-gray-200 dark:bg-gray-700 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}=t,{active:h=!1}=t;function v(O){ke.call(this,n,O)}function p(O){ke.call(this,n,O)}function y(O){ke.call(this,n,O)}function g(O){ke.call(this,n,O)}function m(O){ke.call(this,n,O)}function _(O){ke.call(this,n,O)}function E(O){ke.call(this,n,O)}function b(O){ke.call(this,n,O)}function S(O){ke.call(this,n,O)}return n.$$set=O=>{e(7,t=ye(ye({},t),st(O))),e(6,i=ot(t,r)),"aClass"in O&&e(0,l=O.aClass),"href"in O&&e(1,u=O.href),"label"in O&&e(2,f=O.label),"spanClass"in O&&e(3,c=O.spanClass),"activeClass"in O&&e(4,d=O.activeClass),"active"in O&&e(5,h=O.active),"$$scope"in O&&e(9,o=O.$$scope)},t=st(t),[l,u,f,c,d,h,i,t,s,o,a,v,p,y,g,m,_,E,b,S]}class Pu extends Le{constructor(t){super(),xe(this,t,Jce,Zce,Ae,{aClass:0,href:1,label:2,spanClass:3,activeClass:4,active:5})}}function ede(n){let t,e,r;const i=n[6].default,a=ut(i,n,n[5],null);let o=[n[1],{class:e=Dt(n[0],n[2].class)}],s={};for(let l=0;l<o.length;l+=1)s=ye(s,o[l]);return{c(){t=z("ul"),a&&a.c(),this.h()},l(l){t=j(l,"UL",{class:!0});var u=F(t);a&&a.l(u),u.forEach($),this.h()},h(){vt(t,s)},m(l,u){x(l,t,u),a&&a.m(t,null),r=!0},p(l,[u]){a&&a.p&&(!r||u&32)&&ft(a,i,l,l[5],r?dt(i,l[5],u,null):ct(l[5]),null),vt(t,s=pt(o,[u&2&&l[1],(!r||u&5&&e!==(e=Dt(l[0],l[2].class)))&&{class:e}]))},i(l){r||(M(a,l),r=!0)},o(l){N(a,l),r=!1},d(l){l&&$(t),a&&a.d(l)}}}function tde(n,t,e){const r=["ulClass","borderClass","border"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t,{ulClass:s="space-y-2"}=t,{borderClass:l="pt-4 mt-4 border-t border-gray-200 dark:border-gray-700"}=t,{border:u=!1}=t;return u&&(s+=" "+l),n.$$set=f=>{e(2,t=ye(ye({},t),st(f))),e(1,i=ot(t,r)),"ulClass"in f&&e(0,s=f.ulClass),"borderClass"in f&&e(3,l=f.borderClass),"border"in f&&e(4,u=f.border),"$$scope"in f&&e(5,o=f.$$scope)},t=st(t),[s,i,t,l,u,o,a]}class g_ extends Le{constructor(t){super(),xe(this,t,tde,ede,Ae,{ulClass:0,borderClass:3,border:4})}}function rde(n){let t,e,r;const i=n[4].default,a=ut(i,n,n[3],null);let o=[n[1],{class:e=Dt(n[0],n[2].class)}],s={};for(let l=0;l<o.length;l+=1)s=ye(s,o[l]);return{c(){t=z("div"),a&&a.c(),this.h()},l(l){t=j(l,"DIV",{class:!0});var u=F(t);a&&a.l(u),u.forEach($),this.h()},h(){vt(t,s)},m(l,u){x(l,t,u),a&&a.m(t,null),r=!0},p(l,[u]){a&&a.p&&(!r||u&8)&&ft(a,i,l,l[3],r?dt(i,l[3],u,null):ct(l[3]),null),vt(t,s=pt(o,[u&2&&l[1],(!r||u&5&&e!==(e=Dt(l[0],l[2].class)))&&{class:e}]))},i(l){r||(M(a,l),r=!0)},o(l){N(a,l),r=!1},d(l){l&&$(t),a&&a.d(l)}}}function nde(n,t,e){const r=["divClass"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t,{divClass:s="overflow-y-auto py-4 px-3 bg-gray-50 rounded dark:bg-gray-800"}=t;return n.$$set=l=>{e(2,t=ye(ye({},t),st(l))),e(1,i=ot(t,r)),"divClass"in l&&e(0,s=l.divClass),"$$scope"in l&&e(3,o=l.$$scope)},t=st(t),[s,i,t,o,a]}class ide extends Le{constructor(t){super(),xe(this,t,nde,rde,Ae,{divClass:0})}}function zd(n){let t,e,r;const i=n[7].default,a=ut(i,n,n[6],null);let o=[n[4],{class:e=Dt(n[2]?n[2]:n[3][n[0]],n[1],"w-full",n[5].class)}],s={};for(let l=0;l<o.length;l+=1)s=ye(s,o[l]);return{c(){t=z(n[0]),a&&a.c(),this.h()},l(l){t=j(l,(n[0]||"null").toUpperCase(),{class:!0});var u=F(t);a&&a.l(u),u.forEach($),this.h()},h(){/-/.test(n[0])?Ma(t,s):vt(t,s)},m(l,u){x(l,t,u),a&&a.m(t,null),r=!0},p(l,u){a&&a.p&&(!r||u&64)&&ft(a,i,l,l[6],r?dt(i,l[6],u,null):ct(l[6]),null),s=pt(o,[u&16&&l[4],(!r||u&39&&e!==(e=Dt(l[2]?l[2]:l[3][l[0]],l[1],"w-full",l[5].class)))&&{class:e}]),/-/.test(l[0])?Ma(t,s):vt(t,s)},i(l){r||(M(a,l),r=!0)},o(l){N(a,l),r=!1},d(l){l&&$(t),a&&a.d(l)}}}function ade(n){let t=n[0],e,r,i=n[0]&&zd(n);return{c(){i&&i.c(),e=$e()},l(a){i&&i.l(a),e=$e()},m(a,o){i&&i.m(a,o),x(a,e,o),r=!0},p(a,[o]){a[0]?t?Ae(t,a[0])?(i.d(1),i=zd(a),i.c(),i.m(e.parentNode,e)):i.p(a,o):(i=zd(a),i.c(),i.m(e.parentNode,e)):t&&(i.d(1),i=null),t=a[0]},i(a){r||(M(i),r=!0)},o(a){N(i),r=!1},d(a){a&&$(e),i&&i.d(a)}}}function ode(n,t,e){const r=["tag","color","customSize"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t,{tag:s="h1"}=t,{color:l="text-gray-900 dark:text-white"}=t,{customSize:u=""}=t;const f={h1:"text-5xl font-extrabold",h2:"text-4xl font-bold",h3:"text-3xl font-bold",h4:"text-2xl font-bold",h5:"text-xl font-bold",h6:"text-lg font-bold"};return n.$$set=c=>{e(5,t=ye(ye({},t),st(c))),e(4,i=ot(t,r)),"tag"in c&&e(0,s=c.tag),"color"in c&&e(1,l=c.color),"customSize"in c&&e(2,u=c.customSize),"$$scope"in c&&e(6,o=c.$$scope)},t=st(t),[s,l,u,f,i,t,o,a]}class sde extends Le{constructor(t){super(),xe(this,t,ode,ade,Ae,{tag:0,color:1,customSize:2})}}function lde(n){let t;return{c(){t=z("hr"),this.h()},l(e){t=j(e,"HR",{class:!0}),this.h()},h(){C(t,"class",n[0])},m(e,r){x(e,t,r)},p:_e,i:_e,o:_e,d(e){e&&$(t)}}}function ude(n){let t,e,r,i,a;const o=n[14].default,s=ut(o,n,n[13],null);let l=[n[4],{class:n[1]}],u={};for(let f=0;f<l.length;f+=1)u=ye(u,l[f]);return{c(){t=z("div"),e=z("hr"),r=te(),i=z("div"),s&&s.c(),this.h()},l(f){t=j(f,"DIV",{class:!0});var c=F(t);e=j(c,"HR",{class:!0}),r=re(c),i=j(c,"DIV",{class:!0});var d=F(i);s&&s.l(d),d.forEach($),c.forEach($),this.h()},h(){C(e,"class",n[0]),C(i,"class",n[2]),vt(t,u)},m(f,c){x(f,t,c),D(t,e),D(t,r),D(t,i),s&&s.m(i,null),a=!0},p(f,c){s&&s.p&&(!a||c&8192)&&ft(s,o,f,f[13],a?dt(o,f[13],c,null):ct(f[13]),null),vt(t,u=pt(l,[c&16&&f[4],{class:f[1]}]))},i(f){a||(M(s,f),a=!0)},o(f){N(s,f),a=!1},d(f){f&&$(t),s&&s.d(f)}}}function fde(n){let t,e,r,i;const a=[ude,lde],o=[];function s(l,u){return l[3]?0:1}return t=s(n),e=o[t]=a[t](n),{c(){e.c(),r=$e()},l(l){e.l(l),r=$e()},m(l,u){o[t].m(l,u),x(l,r,u),i=!0},p(l,[u]){let f=t;t=s(l),t===f?o[t].p(l,u):(Fe(),N(o[f],1,1,()=>{o[f]=null}),Be(),e=o[t],e?e.p(l,u):(e=o[t]=a[t](l),e.c()),M(e,1),e.m(r.parentNode,r))},i(l){i||(M(e),i=!0)},o(l){N(e),i=!1},d(l){o[t].d(l),l&&$(r)}}}function cde(n,t,e){const r=["icon","width","height","divClass","hrClass","iconDivClass","textSpanClass","middleBgColor"];let i=ot(t,r),{$$slots:a={},$$scope:o}=t;const s=Du(a);let{icon:l=!1}=t,{width:u="w-full"}=t,{height:f="h-px"}=t,{divClass:c="inline-flex justify-center items-center w-full"}=t,{hrClass:d="bg-gray-200 rounded border-0 dark:bg-gray-700"}=t,{iconDivClass:h="absolute left-1/2 px-4 bg-white -translate-x-1/2 "}=t,{textSpanClass:v="absolute left-1/2 px-3 font-medium text-gray-900 bg-white -translate-x-1/2 dark:text-white "}=t,{middleBgColor:p="dark:bg-gray-900"}=t,y=Dt(d,u,f,t.class),g=Dt(c,s&&"relative",t.classDiv),m=Dt(p,l?h:v);return n.$$set=_=>{e(15,t=ye(ye({},t),st(_))),e(4,i=ot(t,r)),"icon"in _&&e(5,l=_.icon),"width"in _&&e(6,u=_.width),"height"in _&&e(7,f=_.height),"divClass"in _&&e(8,c=_.divClass),"hrClass"in _&&e(9,d=_.hrClass),"iconDivClass"in _&&e(10,h=_.iconDivClass),"textSpanClass"in _&&e(11,v=_.textSpanClass),"middleBgColor"in _&&e(12,p=_.middleBgColor),"$$scope"in _&&e(13,o=_.$$scope)},t=st(t),[y,g,m,s,i,l,u,f,c,d,h,v,p,o,a]}class iv extends Le{constructor(t){super(),xe(this,t,cde,fde,Ae,{icon:5,width:6,height:7,divClass:8,hrClass:9,iconDivClass:10,textSpanClass:11,middleBgColor:12})}}function m_(n,t,e){const r=n.slice();return r[25]=t[e],r}function dde(n){let t;return{c(){t=ve("Fetch")},l(e){t=pe(e,"Fetch")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function y_(n){let t,e,r;return{c(){t=z("p"),e=z("span"),r=ve(n[2]),this.h()},l(i){t=j(i,"P",{class:!0});var a=F(t);e=j(a,"SPAN",{class:!0});var o=F(e);r=pe(o,n[2]),o.forEach($),a.forEach($),this.h()},h(){C(e,"class","font-medium"),C(t,"class","mt-2 text-sm text-error dark:text-error-dark")},m(i,a){x(i,t,a),D(t,e),D(e,r)},p(i,a){a&4&&tt(r,i[2])},d(i){i&&$(t)}}}function b_(n){let t,e,r=n[4],i=[];for(let o=0;o<r.length;o+=1)i[o]=__(m_(n,r,o));const a=o=>N(i[o],1,1,()=>{i[o]=null});return{c(){t=z("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){t=j(o,"DIV",{class:!0});var s=F(t);for(let l=0;l<i.length;l+=1)i[l].l(s);s.forEach($),this.h()},h(){C(t,"class","space-y-1 max-w-md max-h-40 overflow-auto")},m(o,s){x(o,t,s);for(let l=0;l<i.length;l+=1)i[l].m(t,null);e=!0},p(o,s){if(s&4112){r=o[4];let l;for(l=0;l<r.length;l+=1){const u=m_(o,r,l);i[l]?(i[l].p(u,s),M(i[l],1)):(i[l]=__(u),i[l].c(),M(i[l],1),i[l].m(t,null))}for(Fe(),l=r.length;l<i.length;l+=1)a(l);Be()}},i(o){if(!e){for(let s=0;s<r.length;s+=1)M(i[s]);e=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)N(i[s]);e=!1},d(o){o&&$(t),nr(i,o)}}}function __(n){let t,e,r,i,a,o=n[25].label+"",s,l,u,f,c,d,h,v,p;c=new Qt({props:{src:Pp,class:"w-4 h-4"}});function y(){return n[21](n[25])}return{c(){t=z("div"),e=z("div"),r=te(),i=z("div"),a=z("a"),s=ve(o),u=te(),f=z("button"),ae(c.$$.fragment),d=te(),this.h()},l(g){t=j(g,"DIV",{class:!0});var m=F(t);e=j(m,"DIV",{class:!0}),F(e).forEach($),r=re(m),i=j(m,"DIV",{class:!0});var _=F(i);a=j(_,"A",{href:!0,class:!0});var E=F(a);s=pe(E,o),E.forEach($),_.forEach($),u=re(m),f=j(m,"BUTTON",{class:!0});var b=F(f);le(c.$$.fragment,b),b.forEach($),d=re(m),m.forEach($),this.h()},h(){C(e,"class","w-1.5 h-1.5 bg-dark-muted dark:bg-light rounded-full flex-shrink-0 place-self-center mr-2"),C(a,"href",l=n[25].id),C(a,"class","text-sm text-primary leading-6 pb-[2px]"),C(i,"class","truncate flex-grow"),C(f,"class","ml-2 align-middle"),C(t,"class","flex")},m(g,m){x(g,t,m),D(t,e),D(t,r),D(t,i),D(i,a),D(a,s),D(t,u),D(t,f),oe(c,f,null),D(t,d),h=!0,v||(p=J(f,"click",y),v=!0)},p(g,m){n=g,(!h||m&16)&&o!==(o=n[25].label+"")&&tt(s,o),(!h||m&16&&l!==(l=n[25].id))&&C(a,"href",l)},i(g){h||(M(c.$$.fragment,g),h=!0)},o(g){N(c.$$.fragment,g),h=!1},d(g){g&&$(t),se(c),v=!1,p()}}}function hde(n){let t;return{c(){t=ve("Fetch relations")},l(e){t=pe(e,"Fetch relations")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function vde(n){let t;return{c(){t=ve("Add")},l(e){t=pe(e,"Add")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function pde(n){let t,e,r,i,a,o,s,l,u,f,c,d,h,v,p,y,g,m,_,E,b,S,O,I,w,k,R,T,P,A,K,U,fe,L,W,Y,B,H,G,me,ge,Pe,Re,ze,ue,Se,ht,Hn;s=new Qt({props:{src:wle,class:"w-5 h-5 absolute right-0 transition-all duration-200 "+(n[6].advanced_settings?"-rotate-180":"rotate-0")}}),u=new iv({props:{divClass:"mb-2"}}),E=new a_({props:{type:"submit",size:"sm",disabled:n[5].length==0,$$slots:{default:[dde]},$$scope:{ctx:n}}}),E.$on("click",n[8]),K=new Js({});let Ft=n[2]&&n[2].length>0&&y_(n),gt=n[4].length>0&&b_(n);return Y=new iv({props:{divClass:"mb-2"}}),G=new Oo({props:{checked:n[6].fetch_related,$$slots:{default:[hde]},$$scope:{ctx:n}}}),Pe=new a_({props:{disabled:n[3]||n[4].length===0,size:"sm",$$slots:{default:[vde]},$$scope:{ctx:n}}}),Pe.$on("click",n[13]),{c(){t=z("div"),e=z("h1"),r=ve("Add Nodes"),i=te(),a=z("button"),o=ve("Advanced "),ae(s.$$.fragment),l=te(),ae(u.$$.fragment),f=te(),c=z("div"),d=z("div"),h=z("div"),v=z("label"),p=ve("SPARQL Query"),y=te(),g=z("textarea"),m=te(),_=z("div"),ae(E.$$.fragment),b=te(),S=z("div"),O=z("div"),I=z("label"),w=ve("Entity URL"),k=te(),R=z("input"),P=te(),A=z("div"),ae(K.$$.fragment),fe=te(),Ft&&Ft.c(),L=te(),gt&&gt.c(),W=te(),ae(Y.$$.fragment),B=te(),H=z("div"),ae(G.$$.fragment),me=te(),ge=z("div"),ae(Pe.$$.fragment),Re=te(),ze=z("button"),ue=ve("Cancel"),this.h()},l(Ie){t=j(Ie,"DIV",{class:!0});var Ce=F(t);e=j(Ce,"H1",{class:!0});var Wn=F(e);r=pe(Wn,"Add Nodes"),Wn.forEach($),i=re(Ce),a=j(Ce,"BUTTON",{class:!0});var mn=F(a);o=pe(mn,"Advanced "),le(s.$$.fragment,mn),mn.forEach($),l=re(Ce),le(u.$$.fragment,Ce),f=re(Ce),c=j(Ce,"DIV",{class:!0});var jr=F(c);d=j(jr,"DIV",{class:!0});var Hr=F(d);h=j(Hr,"DIV",{class:!0});var yn=F(h);v=j(yn,"LABEL",{for:!0,class:!0});var co=F(v);p=pe(co,"SPARQL Query"),co.forEach($),y=re(yn),g=j(yn,"TEXTAREA",{"data-gramm":!0,id:!0,rows:!0,class:!0,placeholder:!0}),F(g).forEach($),yn.forEach($),m=re(Hr),_=j(Hr,"DIV",{class:!0});var mi=F(_);le(E.$$.fragment,mi),mi.forEach($),Hr.forEach($),jr.forEach($),b=re(Ce),S=j(Ce,"DIV",{class:!0});var yi=F(S);O=j(yi,"DIV",{class:!0});var er=F(O);I=j(er,"LABEL",{for:!0,class:!0});var el=F(I);w=pe(el,"Entity URL"),el.forEach($),k=re(er),R=j(er,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),P=re(er),A=j(er,"DIV",{class:!0});var tl=F(A);le(K.$$.fragment,tl),tl.forEach($),fe=re(er),Ft&&Ft.l(er),er.forEach($),L=re(yi),gt&&gt.l(yi),yi.forEach($),W=re(Ce),le(Y.$$.fragment,Ce),B=re(Ce),H=j(Ce,"DIV",{class:!0});var rl=F(H);le(G.$$.fragment,rl),rl.forEach($),me=re(Ce),ge=j(Ce,"DIV",{class:!0});var oa=F(ge);le(Pe.$$.fragment,oa),Re=re(oa),ze=j(oa,"BUTTON",{});var nl=F(ze);ue=pe(nl,"Cancel"),nl.forEach($),oa.forEach($),Ce.forEach($),this.h()},h(){C(e,"class","text-lg font-bold mb-2"),C(a,"class","flex justify-center items-center text-dark-muted dark:text-light-muted pb-1 relative"),C(v,"for","sparql-query"),C(v,"class","block mb-2 text-sm font-medium"),C(g,"data-gramm","false"),C(g,"id","sparql-query"),C(g,"rows","4"),C(g,"class","w-full px-0 text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-light dark:placeholder-gray-400"),C(g,"placeholder",`SELECT ?cat WHERE
{
	?cat wdt:P31 wd:Q146.
}`),g.required=!0,C(h,"class","px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800"),C(_,"class","flex items-center justify-between px-3 py-2 border-t dark:border-gray-600"),C(d,"class","mt-2 w-full border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"),C(c,"class","h-0 overflow-hidden transition-all duration-200 flex gap-2 flex-col mb-2"),C(I,"for","entity_url"),C(I,"class","block mb-2 text-sm font-medium"),R.disabled=n[3],C(R,"type","url"),C(R,"id","entity_url"),C(R,"class",T=(n[3]?"cursor-not-allowed":"")+" bg-gray-50 border border-gray-300 text-sm rounded-lg focus:ring-primary focus:border-primring-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary dark:focus:border-primring-primary"),C(R,"placeholder","http://www.wikidata.org/entity/Q84263196"),R.required=!0,A.hidden=U=!n[3],C(A,"class","absolute right-2 top-[3.075rem] -translate-y-1/2 w-6 h-6"),C(O,"class","relative"),C(S,"class","flex gap-2 flex-col mb-2"),C(H,"class","mb-2"),C(ge,"class","flex gap-2 items-center"),C(t,"class","flex flex-col w-[450px]")},m(Ie,Ce){x(Ie,t,Ce),D(t,e),D(e,r),D(t,i),D(t,a),D(a,o),oe(s,a,null),D(t,l),oe(u,t,null),D(t,f),D(t,c),D(c,d),D(d,h),D(h,v),D(v,p),D(h,y),D(h,g),n[16](g),Aa(g,n[5]),D(d,m),D(d,_),oe(E,_,null),n[18](c),D(t,b),D(t,S),D(S,O),D(O,I),D(I,w),D(O,k),D(O,R),D(O,P),D(O,A),oe(K,A,null),D(O,fe),Ft&&Ft.m(O,null),D(S,L),gt&&gt.m(S,null),D(t,W),oe(Y,t,null),D(t,B),D(t,H),oe(G,H,null),D(t,me),D(t,ge),oe(Pe,ge,null),D(ge,Re),D(ge,ze),D(ze,ue),Se=!0,ht||(Hn=[J(a,"click",n[9]),J(g,"resize",n[14]),J(g,"input",n[17]),J(R,"paste",n[10]),J(R,"keypress",n[19]),J(R,"change",n[20]),J(ze,"click",n[7])],ht=!0)},p(Ie,[Ce]){const Wn={};Ce&64&&(Wn.class="w-5 h-5 absolute right-0 transition-all duration-200 "+(Ie[6].advanced_settings?"-rotate-180":"rotate-0")),s.$set(Wn),Ce&32&&Aa(g,Ie[5]);const mn={};Ce&32&&(mn.disabled=Ie[5].length==0),Ce&268435456&&(mn.$$scope={dirty:Ce,ctx:Ie}),E.$set(mn),(!Se||Ce&8)&&(R.disabled=Ie[3]),(!Se||Ce&8&&T!==(T=(Ie[3]?"cursor-not-allowed":"")+" bg-gray-50 border border-gray-300 text-sm rounded-lg focus:ring-primary focus:border-primring-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary dark:focus:border-primring-primary"))&&C(R,"class",T),(!Se||Ce&8&&U!==(U=!Ie[3]))&&(A.hidden=U),Ie[2]&&Ie[2].length>0?Ft?Ft.p(Ie,Ce):(Ft=y_(Ie),Ft.c(),Ft.m(O,null)):Ft&&(Ft.d(1),Ft=null),Ie[4].length>0?gt?(gt.p(Ie,Ce),Ce&16&&M(gt,1)):(gt=b_(Ie),gt.c(),M(gt,1),gt.m(S,null)):gt&&(Fe(),N(gt,1,1,()=>{gt=null}),Be());const jr={};Ce&64&&(jr.checked=Ie[6].fetch_related),Ce&268435456&&(jr.$$scope={dirty:Ce,ctx:Ie}),G.$set(jr);const Hr={};Ce&24&&(Hr.disabled=Ie[3]||Ie[4].length===0),Ce&268435456&&(Hr.$$scope={dirty:Ce,ctx:Ie}),Pe.$set(Hr)},i(Ie){Se||(M(s.$$.fragment,Ie),M(u.$$.fragment,Ie),M(E.$$.fragment,Ie),M(K.$$.fragment,Ie),M(gt),M(Y.$$.fragment,Ie),M(G.$$.fragment,Ie),M(Pe.$$.fragment,Ie),Se=!0)},o(Ie){N(s.$$.fragment,Ie),N(u.$$.fragment,Ie),N(E.$$.fragment,Ie),N(K.$$.fragment,Ie),N(gt),N(Y.$$.fragment,Ie),N(G.$$.fragment,Ie),N(Pe.$$.fragment,Ie),Se=!1},d(Ie){Ie&&$(t),se(s),se(u),n[16](null),se(E),n[18](null),se(K),Ft&&Ft.d(),gt&&gt.d(),se(Y),se(G),se(Pe),ht=!1,Lr(Hn)}}}function gde(n,t,e){let r;Jo(n,mt,T=>e(6,r=T));let{graph:i}=t;const a=Bi("close");let o,s=201,l="",u=!1,f=[],c,d="";function h(){u||(e(3,u=!0),Xt.query(d).then(async T=>{e(3,u=!1),e(2,l=""),T.length!==0&&e(4,f=await i.load_nodes(T.flatMap(P=>Object.values(P).map(A=>A.value)),!1))}).catch(T=>{e(3,u=!1),console.log(T.message),e(2,l=T.message)}))}function v(){e(1,o.style.height=s+"px",o),setTimeout(()=>{e(1,o.style.height="fit-content",o),e(1,o.style.overflow="visible",o)},200)}function p(){e(1,o.style.overflow="hidden",o),ol(mt,r.advanced_settings_height=0,r),s=o.clientHeight,e(1,o.style.height=s+"px",o),setTimeout(()=>e(1,o.style.height="0px",o),0)}function y(){r.advanced_settings?(p(),ol(mt,r.advanced_settings=!1,r)):(ol(mt,r.advanced_settings=!0,r),v())}function g(T){setTimeout(()=>{var A;const P=T.target.value??((A=T.clipboardData)==null?void 0:A.getData("text"))??null;P&&m(P)},0)}async function m(T){if(u)return;if(!Xn(T)){e(2,l="Invalid URL");return}if(f.find(A=>A.id===T)){e(2,l="Node already exists");return}e(2,l=""),e(3,u=!0);const P=await i.load_node(T);f.push(P),e(4,f),e(3,u=!1)}function _(T){e(15,i.nodes=i.nodes.filter(P=>P!==T),i),e(4,f=f.filter(P=>P!==T))}async function E(){i.show_nodes(f),Xt.fetch_multiple_relations(f.map(T=>T.id),i.nodes.map(T=>T.id)).then(T=>{for(let P of T)i.create_edge(P.subject.value,P.property.value,P.object.value,P.property_label);i.update_data()}),a()}function b(){c&&ol(mt,r.advanced_settings_height=c.clientHeight,r)}Au(()=>{r.advanced_settings&&(r.advanced_settings_height&&e(0,c.style.height=r.advanced_settings_height+"px",c),e(1,o.style.height="fit-content",o),e(1,o.style.overflow="visible",o))});function S(T){yt[T?"unshift":"push"](()=>{c=T,e(0,c)})}function O(){d=this.value,e(5,d)}function I(T){yt[T?"unshift":"push"](()=>{o=T,e(1,o)})}const w=T=>{if(T.key==="Enter"){const P=T.currentTarget.value;P&&m(P)}},k=T=>{const P=T.currentTarget.value;P&&m(P)},R=T=>_(T);return n.$$set=T=>{"graph"in T&&e(15,i=T.graph)},n.$$.update=()=>{n.$$.dirty&1&&c&&new ResizeObserver(b).observe(c)},[c,o,l,u,f,d,r,a,h,y,g,m,_,E,b,i,S,O,I,w,k,R]}class mde extends Le{constructor(t){super(),xe(this,t,gde,pde,Ae,{graph:15})}}function yde(n){let t,e;return t=new pce({props:{show:n[1],classBg:"z-50 fixed top-0 left-0 w-screen h-screen flex flex-col justify-center bg-black/30 ",classWindowWrap:"relative m-2 max-h-full",classWindow:"relative w-fit max-w-full max-h-full my-2 mx-auto bg-white dark:bg-dark-bg shadow-lg dark:border-dark-muted border rounded-lg ",classContent:"relative p-4 overflow-auto",unstyled:!0,closeButton:!1,transitionBgProps:{duration:150}}}),t.$on("closed",n[2]),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,[i]){const a={};i&2&&(a.show=r[1]),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function bde(n,t,e){let r,{content:i}=t;const a=()=>e(0,i=null);return n.$$set=o=>{"content"in o&&e(0,i=o.content)},n.$$.update=()=>{n.$$.dirty&1&&e(1,r=i)},[i,r,a]}class _de extends Le{constructor(t){super(),xe(this,t,bde,yde,Ae,{content:0})}}function $de(n){let t,e;return{c(){t=It("svg"),e=It("path"),this.h()},l(r){t=Ct(r,"svg",{width:!0,height:!0,viewBox:!0});var i=F(t);e=Ct(i,"path",{d:!0,fill:!0}),F(e).forEach($),i.forEach($),this.h()},h(){C(e,"d","M19.5 17C19.36 17 19.24 17 19.11 17.04L17.5 13.8C17.95 13.35 18.25 12.71 18.25 12C18.25 10.62 17.13 9.5 15.75 9.5C15.61 9.5 15.5 9.5 15.35 9.54L13.74 6.3C14.21 5.84 14.5 5.21 14.5 4.5C14.5 3.12 13.38 2 12 2S9.5 3.12 9.5 4.5C9.5 5.2 9.79 5.84 10.26 6.29L8.65 9.54C8.5 9.5 8.39 9.5 8.25 9.5C6.87 9.5 5.75 10.62 5.75 12C5.75 12.71 6.04 13.34 6.5 13.79L4.89 17.04C4.76 17 4.64 17 4.5 17C3.12 17 2 18.12 2 19.5C2 20.88 3.12 22 4.5 22S7 20.88 7 19.5C7 18.8 6.71 18.16 6.24 17.71L7.86 14.46C8 14.5 8.12 14.5 8.25 14.5C8.38 14.5 8.5 14.5 8.63 14.46L10.26 17.71C9.79 18.16 9.5 18.8 9.5 19.5C9.5 20.88 10.62 22 12 22S14.5 20.88 14.5 19.5C14.5 18.12 13.38 17 12 17C11.87 17 11.74 17 11.61 17.04L10 13.8C10.45 13.35 10.75 12.71 10.75 12C10.75 11.3 10.46 10.67 10 10.21L11.61 6.96C11.74 7 11.87 7 12 7C12.13 7 12.26 7 12.39 6.96L14 10.21C13.54 10.66 13.25 11.3 13.25 12C13.25 13.38 14.37 14.5 15.75 14.5C15.88 14.5 16 14.5 16.13 14.46L17.76 17.71C17.29 18.16 17 18.8 17 19.5C17 20.88 18.12 22 19.5 22S22 20.88 22 19.5C22 18.12 20.88 17 19.5 17M4.5 20.5C3.95 20.5 3.5 20.05 3.5 19.5S3.95 18.5 4.5 18.5 5.5 18.95 5.5 19.5 5.05 20.5 4.5 20.5M13 19.5C13 20.05 12.55 20.5 12 20.5S11 20.05 11 19.5 11.45 18.5 12 18.5 13 18.95 13 19.5M7.25 12C7.25 11.45 7.7 11 8.25 11S9.25 11.45 9.25 12 8.8 13 8.25 13 7.25 12.55 7.25 12M11 4.5C11 3.95 11.45 3.5 12 3.5S13 3.95 13 4.5 12.55 5.5 12 5.5 11 5.05 11 4.5M14.75 12C14.75 11.45 15.2 11 15.75 11S16.75 11.45 16.75 12 16.3 13 15.75 13 14.75 12.55 14.75 12M19.5 20.5C18.95 20.5 18.5 20.05 18.5 19.5S18.95 18.5 19.5 18.5 20.5 18.95 20.5 19.5 20.05 20.5 19.5 20.5Z"),C(e,"fill",n[2]),C(t,"width",n[0]),C(t,"height",n[1]),C(t,"viewBox",n[3])},m(r,i){x(r,t,i),D(t,e)},p(r,[i]){i&4&&C(e,"fill",r[2]),i&1&&C(t,"width",r[0]),i&2&&C(t,"height",r[1]),i&8&&C(t,"viewBox",r[3])},i:_e,o:_e,d(r){r&&$(t)}}}function wde(n,t,e){let{size:r="1em"}=t,{width:i=r}=t,{height:a=r}=t,{color:o="currentColor"}=t,{viewBox:s="0 0 24 24"}=t;return n.$$set=l=>{"size"in l&&e(4,r=l.size),"width"in l&&e(0,i=l.width),"height"in l&&e(1,a=l.height),"color"in l&&e(2,o=l.color),"viewBox"in l&&e(3,s=l.viewBox)},[i,a,o,s,r]}class kde extends Le{constructor(t){super(),xe(this,t,wde,$de,Ae,{size:4,width:0,height:1,color:2,viewBox:3})}}function Ede(n){let t,e;return t=new Qt({props:{src:kle,class:"w-6 h-6"}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p:_e,i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function Sde(n){let t,e,r;return e=new kde({props:{width:"100%",height:"100%"}}),{c(){t=z("div"),ae(e.$$.fragment),this.h()},l(i){t=j(i,"DIV",{class:!0});var a=F(t);le(e.$$.fragment,a),a.forEach($),this.h()},h(){C(t,"class","w-6 h-6")},m(i,a){x(i,t,a),oe(e,t,null),r=!0},p:_e,i(i){r||(M(e.$$.fragment,i),r=!0)},o(i){N(e.$$.fragment,i),r=!1},d(i){i&&$(t),se(e)}}}function Ode(n){let t,e,r,i;return t=new Pu({props:{label:"Endpoint",active:n[2]==="endpoint",$$slots:{icon:[Ede]},$$scope:{ctx:n}}}),t.$on("click",n[4]),r=new Pu({props:{label:"Graph",active:n[2]==="graph",$$slots:{icon:[Sde]},$$scope:{ctx:n}}}),r.$on("click",n[5]),{c(){ae(t.$$.fragment),e=te(),ae(r.$$.fragment)},l(a){le(t.$$.fragment,a),e=re(a),le(r.$$.fragment,a)},m(a,o){oe(t,a,o),x(a,e,o),oe(r,a,o),i=!0},p(a,o){const s={};o&4&&(s.active=a[2]==="endpoint"),o&32768&&(s.$$scope={dirty:o,ctx:a}),t.$set(s);const l={};o&4&&(l.active=a[2]==="graph"),o&32768&&(l.$$scope={dirty:o,ctx:a}),r.$set(l)},i(a){i||(M(t.$$.fragment,a),M(r.$$.fragment,a),i=!0)},o(a){N(t.$$.fragment,a),N(r.$$.fragment,a),i=!1},d(a){se(t,a),a&&$(e),se(r,a)}}}function Tde(n){let t,e;return t=new Qt({props:{src:Tle,class:"w-6 h-6"}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p:_e,i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function Ide(n){let t,e;return t=new Qt({props:{src:$le,class:"w-6 h-6 text-error dark:text-error-dark"}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p:_e,i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function Cde(n){let t,e,r,i;return t=new Pu({props:{label:"Documentation",active:n[2]==="documentation",$$slots:{icon:[Tde]},$$scope:{ctx:n}}}),t.$on("click",n[6]),r=new Pu({props:{label:"Reset Graph",spanClass:"dark:text-error-dark text-error ml-3",$$slots:{icon:[Ide]},$$scope:{ctx:n}}}),r.$on("click",n[7]),{c(){ae(t.$$.fragment),e=te(),ae(r.$$.fragment)},l(a){le(t.$$.fragment,a),e=re(a),le(r.$$.fragment,a)},m(a,o){oe(t,a,o),x(a,e,o),oe(r,a,o),i=!0},p(a,o){const s={};o&4&&(s.active=a[2]==="documentation"),o&32768&&(s.$$scope={dirty:o,ctx:a}),t.$set(s);const l={};o&32768&&(l.$$scope={dirty:o,ctx:a}),r.$set(l)},i(a){i||(M(t.$$.fragment,a),M(r.$$.fragment,a),i=!0)},o(a){N(t.$$.fragment,a),N(r.$$.fragment,a),i=!1},d(a){se(t,a),a&&$(e),se(r,a)}}}function Pde(n){let t,e,r,i;return t=new g_({props:{$$slots:{default:[Ode]},$$scope:{ctx:n}}}),r=new g_({props:{border:!0,$$slots:{default:[Cde]},$$scope:{ctx:n}}}),{c(){ae(t.$$.fragment),e=te(),ae(r.$$.fragment)},l(a){le(t.$$.fragment,a),e=re(a),le(r.$$.fragment,a)},m(a,o){oe(t,a,o),x(a,e,o),oe(r,a,o),i=!0},p(a,o){const s={};o&32772&&(s.$$scope={dirty:o,ctx:a}),t.$set(s);const l={};o&32773&&(l.$$scope={dirty:o,ctx:a}),r.$set(l)},i(a){i||(M(t.$$.fragment,a),M(r.$$.fragment,a),i=!0)},o(a){N(t.$$.fragment,a),N(r.$$.fragment,a),i=!1},d(a){se(t,a),a&&$(e),se(r,a)}}}function Ade(n){let t,e;return t=new ide({props:{divClass:"",$$slots:{default:[Pde]},$$scope:{ctx:n}}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p(r,i){const a={};i&32773&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function Mde(n){return{c:_e,l:_e,m:_e,p:_e,i:_e,o:_e,d:_e}}function Dde(n){let t,e,r,i,a,o,s,l,u,f,c,d;function h(b){n[11](b)}let v={$$slots:{default:[Nde]},$$scope:{ctx:n}};n[1].fetch_image!==void 0&&(v.checked=n[1].fetch_image),t=new Oo({props:v}),yt.push(()=>Rr(t,"checked",h,n[1].fetch_image));function p(b){n[12](b)}let y={$$slots:{default:[Fde]},$$scope:{ctx:n}};n[1].fetch_related!==void 0&&(y.checked=n[1].fetch_related),i=new Oo({props:y}),yt.push(()=>Rr(i,"checked",p,n[1].fetch_related));function g(b){n[13](b)}let m={$$slots:{default:[Bde]},$$scope:{ctx:n}};n[1].animations!==void 0&&(m.checked=n[1].animations),s=new Oo({props:m}),yt.push(()=>Rr(s,"checked",g,n[1].animations));function _(b){n[14](b)}let E={$$slots:{default:[Lde]},$$scope:{ctx:n}};return n[1].hide_edges_on_drag!==void 0&&(E.checked=n[1].hide_edges_on_drag),f=new Oo({props:E}),yt.push(()=>Rr(f,"checked",_,n[1].hide_edges_on_drag)),{c(){ae(t.$$.fragment),r=te(),ae(i.$$.fragment),o=te(),ae(s.$$.fragment),u=te(),ae(f.$$.fragment)},l(b){le(t.$$.fragment,b),r=re(b),le(i.$$.fragment,b),o=re(b),le(s.$$.fragment,b),u=re(b),le(f.$$.fragment,b)},m(b,S){oe(t,b,S),x(b,r,S),oe(i,b,S),x(b,o,S),oe(s,b,S),x(b,u,S),oe(f,b,S),d=!0},p(b,S){const O={};S&32768&&(O.$$scope={dirty:S,ctx:b}),!e&&S&2&&(e=!0,O.checked=b[1].fetch_image,Nr(()=>e=!1)),t.$set(O);const I={};S&32768&&(I.$$scope={dirty:S,ctx:b}),!a&&S&2&&(a=!0,I.checked=b[1].fetch_related,Nr(()=>a=!1)),i.$set(I);const w={};S&32768&&(w.$$scope={dirty:S,ctx:b}),!l&&S&2&&(l=!0,w.checked=b[1].animations,Nr(()=>l=!1)),s.$set(w);const k={};S&32768&&(k.$$scope={dirty:S,ctx:b}),!c&&S&2&&(c=!0,k.checked=b[1].hide_edges_on_drag,Nr(()=>c=!1)),f.$set(k)},i(b){d||(M(t.$$.fragment,b),M(i.$$.fragment,b),M(s.$$.fragment,b),M(f.$$.fragment,b),d=!0)},o(b){N(t.$$.fragment,b),N(i.$$.fragment,b),N(s.$$.fragment,b),N(f.$$.fragment,b),d=!1},d(b){se(t,b),b&&$(r),se(i,b),b&&$(o),se(s,b),b&&$(u),se(f,b)}}}function Rde(n){let t,e,r,i,a,o,s,l,u,f,c,d,h,v,p,y,g,m,_;e=new ru({props:{for:"endpoint",class:"mb-2",$$slots:{default:[xde]},$$scope:{ctx:n}}});function E(k){n[8](k)}let b={type:"text",id:"endpoint",placeholder:"https://skynet.coypu.org/wikidata/",required:!0};n[1].endpoint_url!==void 0&&(b.value=n[1].endpoint_url),i=new xd({props:b}),yt.push(()=>Rr(i,"value",E,n[1].endpoint_url)),u=new ru({props:{for:"rate_limit",class:"mb-2",$$slots:{default:[zde]},$$scope:{ctx:n}}});function S(k){n[9](k)}let O={type:"number",id:"rate_limit",placeholder:"5",required:!0};n[1].rate_limit!==void 0&&(O.value=n[1].rate_limit),c=new xd({props:O}),yt.push(()=>Rr(c,"value",S,n[1].rate_limit)),p=new ru({props:{for:"size_limit",class:"mb-2",$$slots:{default:[jde]},$$scope:{ctx:n}}});function I(k){n[10](k)}let w={type:"number",id:"size_limit",placeholder:"100",required:!0};return n[1].size_limit!==void 0&&(w.value=n[1].size_limit),g=new xd({props:w}),yt.push(()=>Rr(g,"value",I,n[1].size_limit)),{c(){t=z("div"),ae(e.$$.fragment),r=te(),ae(i.$$.fragment),o=te(),s=z("div"),l=z("div"),ae(u.$$.fragment),f=te(),ae(c.$$.fragment),h=te(),v=z("div"),ae(p.$$.fragment),y=te(),ae(g.$$.fragment),this.h()},l(k){t=j(k,"DIV",{});var R=F(t);le(e.$$.fragment,R),r=re(R),le(i.$$.fragment,R),R.forEach($),o=re(k),s=j(k,"DIV",{class:!0});var T=F(s);l=j(T,"DIV",{});var P=F(l);le(u.$$.fragment,P),f=re(P),le(c.$$.fragment,P),P.forEach($),h=re(T),v=j(T,"DIV",{});var A=F(v);le(p.$$.fragment,A),y=re(A),le(g.$$.fragment,A),A.forEach($),T.forEach($),this.h()},h(){C(s,"class","flex gap-2")},m(k,R){x(k,t,R),oe(e,t,null),D(t,r),oe(i,t,null),x(k,o,R),x(k,s,R),D(s,l),oe(u,l,null),D(l,f),oe(c,l,null),D(s,h),D(s,v),oe(p,v,null),D(v,y),oe(g,v,null),_=!0},p(k,R){const T={};R&32768&&(T.$$scope={dirty:R,ctx:k}),e.$set(T);const P={};!a&&R&2&&(a=!0,P.value=k[1].endpoint_url,Nr(()=>a=!1)),i.$set(P);const A={};R&32768&&(A.$$scope={dirty:R,ctx:k}),u.$set(A);const K={};!d&&R&2&&(d=!0,K.value=k[1].rate_limit,Nr(()=>d=!1)),c.$set(K);const U={};R&32768&&(U.$$scope={dirty:R,ctx:k}),p.$set(U);const fe={};!m&&R&2&&(m=!0,fe.value=k[1].size_limit,Nr(()=>m=!1)),g.$set(fe)},i(k){_||(M(e.$$.fragment,k),M(i.$$.fragment,k),M(u.$$.fragment,k),M(c.$$.fragment,k),M(p.$$.fragment,k),M(g.$$.fragment,k),_=!0)},o(k){N(e.$$.fragment,k),N(i.$$.fragment,k),N(u.$$.fragment,k),N(c.$$.fragment,k),N(p.$$.fragment,k),N(g.$$.fragment,k),_=!1},d(k){k&&$(t),se(e),se(i),k&&$(o),k&&$(s),se(u),se(c),se(p),se(g)}}}function Nde(n){let t;return{c(){t=ve("Show images")},l(e){t=pe(e,"Show images")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function Fde(n){let t;return{c(){t=ve("Fetch relations")},l(e){t=pe(e,"Fetch relations")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function Bde(n){let t;return{c(){t=ve("Animations")},l(e){t=pe(e,"Animations")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function Lde(n){let t;return{c(){t=ve("Hide edges on drag")},l(e){t=pe(e,"Hide edges on drag")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function xde(n){let t;return{c(){t=ve("Endpoint URL")},l(e){t=pe(e,"Endpoint URL")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function zde(n){let t;return{c(){t=ve("Rate limit")},l(e){t=pe(e,"Rate limit")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function jde(n){let t;return{c(){t=ve("Size limit")},l(e){t=pe(e,"Size limit")},m(e,r){x(e,t,r)},d(e){e&&$(t)}}}function Hde(n){let t,e,r,i,a,o,s,l,u,f,c;o=new Yce({props:{asideClass:"w-48",$$slots:{default:[Ade]},$$scope:{ctx:n}}});const d=[Rde,Dde,Mde],h=[];function v(p,y){return p[2]==="endpoint"?0:p[2]==="graph"?1:p[2]==="documentation"?2:-1}return~(u=v(n))&&(f=h[u]=d[u](n)),{c(){t=z("h1"),e=ve("Settings"),r=te(),i=z("div"),a=z("div"),ae(o.$$.fragment),s=te(),l=z("div"),f&&f.c(),this.h()},l(p){t=j(p,"H1",{class:!0});var y=F(t);e=pe(y,"Settings"),y.forEach($),r=re(p),i=j(p,"DIV",{class:!0});var g=F(i);a=j(g,"DIV",{});var m=F(a);le(o.$$.fragment,m),m.forEach($),s=re(g),l=j(g,"DIV",{class:!0});var _=F(l);f&&f.l(_),_.forEach($),g.forEach($),this.h()},h(){C(t,"class","text-lg font-bold mb-2"),C(l,"class","flex flex-col gap-2 w-full"),C(i,"class","flex gap-4 w-[450px]")},m(p,y){x(p,t,y),D(t,e),x(p,r,y),x(p,i,y),D(i,a),oe(o,a,null),D(i,s),D(i,l),~u&&h[u].m(l,null),c=!0},p(p,[y]){const g={};y&32773&&(g.$$scope={dirty:y,ctx:p}),o.$set(g);let m=u;u=v(p),u===m?~u&&h[u].p(p,y):(f&&(Fe(),N(h[m],1,1,()=>{h[m]=null}),Be()),~u?(f=h[u],f?f.p(p,y):(f=h[u]=d[u](p),f.c()),M(f,1),f.m(l,null)):f=null)},i(p){c||(M(o.$$.fragment,p),M(f),c=!0)},o(p){N(o.$$.fragment,p),N(f),c=!1},d(p){p&&$(t),p&&$(r),p&&$(i),se(o),~u&&h[u].d()}}}function Wde(n,t,e){let r;Jo(n,mt,m=>e(1,r=m));const i=Bi("close");let{graph:a}=t,o="endpoint";const s=()=>e(2,o="endpoint"),l=()=>e(2,o="graph"),u=()=>e(2,o="documentation"),f=()=>{a.reset(),i()};function c(m){n.$$.not_equal(r.endpoint_url,m)&&(r.endpoint_url=m,mt.set(r))}function d(m){n.$$.not_equal(r.rate_limit,m)&&(r.rate_limit=m,mt.set(r))}function h(m){n.$$.not_equal(r.size_limit,m)&&(r.size_limit=m,mt.set(r))}function v(m){n.$$.not_equal(r.fetch_image,m)&&(r.fetch_image=m,mt.set(r))}function p(m){n.$$.not_equal(r.fetch_related,m)&&(r.fetch_related=m,mt.set(r))}function y(m){n.$$.not_equal(r.animations,m)&&(r.animations=m,mt.set(r))}function g(m){n.$$.not_equal(r.hide_edges_on_drag,m)&&(r.hide_edges_on_drag=m,mt.set(r))}return n.$$set=m=>{"graph"in m&&e(0,a=m.graph)},n.$$.update=()=>{var m;n.$$.dirty&3&&((m=a.network)==null||m.setOptions({interaction:{hideEdgesOnDrag:r.hide_edges_on_drag}}))},[a,r,o,i,s,l,u,f,c,d,h,v,p,y,g]}class Vde extends Le{constructor(t){super(),xe(this,t,Wde,Hde,Ae,{graph:0})}}function Ude(n){let t,e;return{c(){t=It("svg"),e=It("path"),this.h()},l(r){t=Ct(r,"svg",{width:!0,height:!0,viewBox:!0});var i=F(t);e=Ct(i,"path",{d:!0,fill:!0}),F(e).forEach($),i.forEach($),this.h()},h(){C(e,"d","M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"),C(e,"fill",n[2]),C(t,"width",n[0]),C(t,"height",n[1]),C(t,"viewBox",n[3])},m(r,i){x(r,t,i),D(t,e)},p(r,[i]){i&4&&C(e,"fill",r[2]),i&1&&C(t,"width",r[0]),i&2&&C(t,"height",r[1]),i&8&&C(t,"viewBox",r[3])},i:_e,o:_e,d(r){r&&$(t)}}}function Gde(n,t,e){let{size:r="1em"}=t,{width:i=r}=t,{height:a=r}=t,{color:o="currentColor"}=t,{viewBox:s="0 0 24 24"}=t;return n.$$set=l=>{"size"in l&&e(4,r=l.size),"width"in l&&e(0,i=l.width),"height"in l&&e(1,a=l.height),"color"in l&&e(2,o=l.color),"viewBox"in l&&e(3,s=l.viewBox)},[i,a,o,s,r]}class qde extends Le{constructor(t){super(),xe(this,t,Gde,Ude,Ae,{size:4,width:0,height:1,color:2,viewBox:3})}}function Kde(n){let t,e,r,i,a,o,s,l,u=n[1]?"Edit":"Done",f,c,d,h,v,p,y,g,m,_,E;i=new qde({props:{width:"100%",height:"100%"}}),l=new Qt({props:{src:n[1]?Ib:Sb,class:"w-6 h-6"}}),h=new Qt({props:{src:Ele,class:"w-6 h-6"}});function b(O){n[7](O)}let S={};return n[0]!==void 0&&(S.content=n[0]),y=new _de({props:S}),yt.push(()=>Rr(y,"content",b,n[0])),{c(){t=z("div"),e=z("button"),r=z("div"),ae(i.$$.fragment),a=ve(`
		Add`),o=te(),s=z("button"),ae(l.$$.fragment),f=ve(u),c=te(),d=z("button"),ae(h.$$.fragment),v=ve("Settings"),p=te(),ae(y.$$.fragment),this.h()},l(O){t=j(O,"DIV",{class:!0});var I=F(t);e=j(I,"BUTTON",{class:!0});var w=F(e);r=j(w,"DIV",{class:!0});var k=F(r);le(i.$$.fragment,k),k.forEach($),a=pe(w,`
		Add`),w.forEach($),o=re(I),s=j(I,"BUTTON",{class:!0});var R=F(s);le(l.$$.fragment,R),f=pe(R,u),R.forEach($),c=re(I),d=j(I,"BUTTON",{class:!0});var T=F(d);le(h.$$.fragment,T),v=pe(T,"Settings"),T.forEach($),I.forEach($),p=re(O),le(y.$$.fragment,O),this.h()},h(){C(r,"class","w-6 h-6"),C(e,"class","flex items-center gap-2 cursor-pointer"),C(s,"class","flex items-center gap-2 cursor-pointer min-w-[70px] justify-center"),C(d,"class","flex items-center gap-2 cursor-pointer"),C(t,"class","absolute top-4 left-1/2 -translate-x-1/2 shadow-lg rounded-lg flex gap-10 py-4 px-6 border dark:border-dark-muted dark:bg-dark-bg bg-white z-50")},m(O,I){x(O,t,I),D(t,e),D(e,r),oe(i,r,null),D(e,a),D(t,o),D(t,s),oe(l,s,null),D(s,f),D(t,c),D(t,d),oe(h,d,null),D(d,v),x(O,p,I),oe(y,O,I),m=!0,_||(E=[J(e,"click",n[5]),J(s,"click",n[3]),J(d,"click",n[6])],_=!0)},p(O,[I]){const w={};I&2&&(w.src=O[1]?Ib:Sb),l.$set(w),(!m||I&2)&&u!==(u=O[1]?"Edit":"Done")&&tt(f,u);const k={};!g&&I&1&&(g=!0,k.content=O[0],Nr(()=>g=!1)),y.$set(k)},i(O){m||(M(i.$$.fragment,O),M(l.$$.fragment,O),M(h.$$.fragment,O),M(y.$$.fragment,O),m=!0)},o(O){N(i.$$.fragment,O),N(l.$$.fragment,O),N(h.$$.fragment,O),N(y.$$.fragment,O),m=!1},d(O){O&&$(t),se(i),se(l),se(h),O&&$(p),se(y,O),_=!1,Lr(E)}}}function Yde(n,t,e){let{graph:r}=t,i=null;B_("close",a);function a(){e(0,i=null)}function o(d){i===d?e(0,i=null):e(0,i=BE(d,{graph:r}))}let s=!0;function l(){var d;e(1,s=!s),(d=r.network)==null||d.setOptions({physics:s})}const u=()=>o(mde),f=()=>o(Vde);function c(d){i=d,e(0,i)}return n.$$set=d=>{"graph"in d&&e(4,r=d.graph)},[i,s,o,l,r,u,f,c]}class Xde extends Le{constructor(t){super(),xe(this,t,Yde,Kde,Ae,{graph:4})}}function Qde(n){function t(e,r){var i;rv.promise(r,{loading:`Loading ${e}...`,success:`${e} Loaded!`,error:`Error while loading ${e}!`},{position:"top-right",style:`${$i?"background: #1f2937; color: #fff;":"background: #fff; color: #000;"} min-width: 200px;`}),(i=document.querySelector(".toaster .message"))==null||i.setAttribute("title",e)}return Au(()=>{Xt.listenerCount("loading_related")>0||(Xt.on("loading_related",e=>{t("Related",e)}),Xt.on("loading_relations",e=>{t("Relations",e)}),Xt.on("error",e=>{t(e.message,Promise.reject())}))}),[]}class Zde extends Le{constructor(t){super(),xe(this,t,Qde,null,Ae,{})}}function $_({items:n,pageSize:t,currentPage:e}){return n.slice((e-1)*t,(e-1)*t+t)}var $t;(function(n){n.PREVIOUS_PAGE="PREVIOUS_PAGE",n.NEXT_PAGE="NEXT_PAGE",n.ELLIPSIS="ELLIPSIS"})($t||($t={}));function Jde({totalItems:n,pageSize:t,currentPage:e,limit:r,showStepOptions:i=!1}){const a=Math.ceil(n/t),s=r&&a>nhe(r)?the({totalPages:a,limit:r,currentPage:e}):ehe({totalPages:a});return i?rhe({options:s,currentPage:e,totalPages:a}):s}function ehe({totalPages:n}){return new Array(n).fill(null).map((t,e)=>({type:"number",value:e+1}))}function the({totalPages:n,limit:t,currentPage:e}){const r=t*2+2,i=1+r,a=n-r,o=i+2;return e<=i-t?Array(o).fill(null).map((s,l)=>l===o-1?{type:"number",value:n}:l===o-2?{type:"symbol",symbol:$t.ELLIPSIS,value:i+1}:{type:"number",value:l+1}):e>=a+t?Array(o).fill(null).map((s,l)=>l===0?{type:"number",value:1}:l===1?{type:"symbol",symbol:$t.ELLIPSIS,value:a-1}:{type:"number",value:a+l-2}):e>=i-t&&e<=a+t?Array(o).fill(null).map((s,l)=>l===0?{type:"number",value:1}:l===1?{type:"symbol",symbol:$t.ELLIPSIS,value:e-t+(l-2)}:l===o-1?{type:"number",value:n}:l===o-2?{type:"symbol",symbol:$t.ELLIPSIS,value:e+t+1}:{type:"number",value:e-t+(l-2)}):[]}function rhe({options:n,currentPage:t,totalPages:e}){return[{type:"symbol",symbol:$t.PREVIOUS_PAGE,value:t<=1?1:t-1},...n||[],{type:"symbol",symbol:$t.NEXT_PAGE,value:t>=e?e:t+1}]}function nhe(n){return n*2+3+2}function w_(n,t,e){const r=n.slice();return r[12]=t[e],r}const ihe=n=>({}),k_=n=>({}),ahe=n=>({}),E_=n=>({}),ohe=n=>({}),S_=n=>({}),she=n=>({value:n&4}),O_=n=>({value:n[12].value});function lhe(n){let t;const e=n[9].next,r=ut(e,n,n[8],k_),i=r||dhe();return{c(){i&&i.c()},l(a){i&&i.l(a)},m(a,o){i&&i.m(a,o),t=!0},p(a,o){r&&r.p&&(!t||o&256)&&ft(r,e,a,a[8],t?dt(e,a[8],o,ihe):ct(a[8]),k_)},i(a){t||(M(i,a),t=!0)},o(a){N(i,a),t=!1},d(a){i&&i.d(a)}}}function uhe(n){let t;const e=n[9].prev,r=ut(e,n,n[8],E_),i=r||hhe();return{c(){i&&i.c()},l(a){i&&i.l(a)},m(a,o){i&&i.m(a,o),t=!0},p(a,o){r&&r.p&&(!t||o&256)&&ft(r,e,a,a[8],t?dt(e,a[8],o,ahe):ct(a[8]),E_)},i(a){t||(M(i,a),t=!0)},o(a){N(i,a),t=!1},d(a){i&&i.d(a)}}}function fhe(n){let t;const e=n[9].ellipsis,r=ut(e,n,n[8],S_),i=r||vhe();return{c(){i&&i.c()},l(a){i&&i.l(a)},m(a,o){i&&i.m(a,o),t=!0},p(a,o){r&&r.p&&(!t||o&256)&&ft(r,e,a,a[8],t?dt(e,a[8],o,ohe):ct(a[8]),S_)},i(a){t||(M(i,a),t=!0)},o(a){N(i,a),t=!1},d(a){i&&i.d(a)}}}function che(n){let t;const e=n[9].number,r=ut(e,n,n[8],O_),i=r||phe(n);return{c(){i&&i.c()},l(a){i&&i.l(a)},m(a,o){i&&i.m(a,o),t=!0},p(a,o){r?r.p&&(!t||o&260)&&ft(r,e,a,a[8],t?dt(e,a[8],o,she):ct(a[8]),O_):i&&i.p&&(!t||o&4)&&i.p(a,t?o:-1)},i(a){t||(M(i,a),t=!0)},o(a){N(i,a),t=!1},d(a){i&&i.d(a)}}}function dhe(n){let t,e;return{c(){t=It("svg"),e=It("path"),this.h()},l(r){t=Ct(r,"svg",{style:!0,viewBox:!0});var i=F(t);e=Ct(i,"path",{fill:!0,d:!0}),F(e).forEach($),i.forEach($),this.h()},h(){C(e,"fill","#000000"),C(e,"d","M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"),Ue(t,"width","24px"),Ue(t,"height","24px"),C(t,"viewBox","0 0 24 24")},m(r,i){x(r,t,i),D(t,e)},p:_e,d(r){r&&$(t)}}}function hhe(n){let t,e;return{c(){t=It("svg"),e=It("path"),this.h()},l(r){t=Ct(r,"svg",{style:!0,viewBox:!0});var i=F(t);e=Ct(i,"path",{fill:!0,d:!0}),F(e).forEach($),i.forEach($),this.h()},h(){C(e,"fill","#000000"),C(e,"d","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"),Ue(t,"width","24px"),Ue(t,"height","24px"),C(t,"viewBox","0 0 24 24")},m(r,i){x(r,t,i),D(t,e)},p:_e,d(r){r&&$(t)}}}function vhe(n){let t,e;return{c(){t=z("span"),e=ve("...")},l(r){t=j(r,"SPAN",{});var i=F(t);e=pe(i,"..."),i.forEach($)},m(r,i){x(r,t,i),D(t,e)},p:_e,d(r){r&&$(t)}}}function phe(n){let t,e=n[12].value+"",r;return{c(){t=z("span"),r=ve(e)},l(i){t=j(i,"SPAN",{});var a=F(t);r=pe(a,e),a.forEach($)},m(i,a){x(i,t,a),D(t,r)},p(i,a){a&4&&e!==(e=i[12].value+"")&&tt(r,e)},d(i){i&&$(t)}}}function T_(n){let t,e,r,i,a,o,s;const l=[che,fhe,uhe,lhe],u=[];function f(d,h){return d[12].type==="number"?0:d[12].type==="symbol"&&d[12].symbol===$t.ELLIPSIS?1:d[12].type==="symbol"&&d[12].symbol===$t.PREVIOUS_PAGE?2:d[12].type==="symbol"&&d[12].symbol===$t.NEXT_PAGE?3:-1}~(e=f(n))&&(r=u[e]=l[e](n));function c(){return n[10](n[12])}return{c(){t=z("span"),r&&r.c(),i=te(),this.h()},l(d){t=j(d,"SPAN",{class:!0,role:!0});var h=F(t);r&&r.l(h),i=re(h),h.forEach($),this.h()},h(){C(t,"class","option"),C(t,"role","presentation"),Ze(t,"number",n[12].type==="number"),Ze(t,"prev",n[12].type==="symbol"&&n[12].symbol===$t.PREVIOUS_PAGE),Ze(t,"next",n[12].type==="symbol"&&n[12].symbol===$t.NEXT_PAGE),Ze(t,"disabled",n[12].type==="symbol"&&n[12].symbol===$t.NEXT_PAGE&&n[0]>=n[1]||n[12].type==="symbol"&&n[12].symbol===$t.PREVIOUS_PAGE&&n[0]<=1),Ze(t,"ellipsis",n[12].type==="symbol"&&n[12].symbol===$t.ELLIPSIS),Ze(t,"active",n[12].type==="number"&&n[12].value===n[0])},m(d,h){x(d,t,h),~e&&u[e].m(t,null),D(t,i),a=!0,o||(s=J(t,"click",c),o=!0)},p(d,h){n=d;let v=e;e=f(n),e===v?~e&&u[e].p(n,h):(r&&(Fe(),N(u[v],1,1,()=>{u[v]=null}),Be()),~e?(r=u[e],r?r.p(n,h):(r=u[e]=l[e](n),r.c()),M(r,1),r.m(t,i)):r=null),(!a||h&4)&&Ze(t,"number",n[12].type==="number"),(!a||h&4)&&Ze(t,"prev",n[12].type==="symbol"&&n[12].symbol===$t.PREVIOUS_PAGE),(!a||h&4)&&Ze(t,"next",n[12].type==="symbol"&&n[12].symbol===$t.NEXT_PAGE),(!a||h&7)&&Ze(t,"disabled",n[12].type==="symbol"&&n[12].symbol===$t.NEXT_PAGE&&n[0]>=n[1]||n[12].type==="symbol"&&n[12].symbol===$t.PREVIOUS_PAGE&&n[0]<=1),(!a||h&4)&&Ze(t,"ellipsis",n[12].type==="symbol"&&n[12].symbol===$t.ELLIPSIS),(!a||h&5)&&Ze(t,"active",n[12].type==="number"&&n[12].value===n[0])},i(d){a||(M(r),a=!0)},o(d){N(r),a=!1},d(d){d&&$(t),~e&&u[e].d(),o=!1,s()}}}function ghe(n){let t,e,r=n[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=T_(w_(n,r,o));const a=o=>N(i[o],1,1,()=>{i[o]=null});return{c(){t=z("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){t=j(o,"DIV",{class:!0});var s=F(t);for(let l=0;l<i.length;l+=1)i[l].l(s);s.forEach($),this.h()},h(){C(t,"class","pagination-nav")},m(o,s){x(o,t,s);for(let l=0;l<i.length;l+=1)i[l].m(t,null);e=!0},p(o,[s]){if(s&271){r=o[2];let l;for(l=0;l<r.length;l+=1){const u=w_(o,r,l);i[l]?(i[l].p(u,s),M(i[l],1)):(i[l]=T_(u),i[l].c(),M(i[l],1),i[l].m(t,null))}for(Fe(),l=r.length;l<i.length;l+=1)a(l);Be()}},i(o){if(!e){for(let s=0;s<r.length;s+=1)M(i[s]);e=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)N(i[s]);e=!1},d(o){o&&$(t),nr(i,o)}}}function mhe(n,t,e){let r,i,{$$slots:a={},$$scope:o}=t;const s=F_();let{totalItems:l=0}=t,{pageSize:u=1}=t,{currentPage:f=1}=t,{limit:c=void 0}=t,{showStepOptions:d=!1}=t;function h(p){s("setPage",{page:p.value})}const v=p=>h(p);return n.$$set=p=>{"totalItems"in p&&e(4,l=p.totalItems),"pageSize"in p&&e(5,u=p.pageSize),"currentPage"in p&&e(0,f=p.currentPage),"limit"in p&&e(6,c=p.limit),"showStepOptions"in p&&e(7,d=p.showStepOptions),"$$scope"in p&&e(8,o=p.$$scope)},n.$$.update=()=>{n.$$.dirty&241&&e(2,r=Jde({totalItems:l,pageSize:u,currentPage:f,limit:c,showStepOptions:d})),n.$$.dirty&48&&e(1,i=Math.ceil(l/u))},[f,i,r,h,l,u,c,d,o,a,v]}class yhe extends Le{constructor(t){super(),xe(this,t,mhe,ghe,Ae,{totalItems:4,pageSize:5,currentPage:0,limit:6,showStepOptions:7})}}function bhe(n){let t,e,r;const i=[n[0]];let a={};for(let o=0;o<i.length;o+=1)a=ye(a,i[o]);return e=new yhe({props:a}),e.$on("setPage",n[1]),{c(){t=z("div"),ae(e.$$.fragment),this.h()},l(o){t=j(o,"DIV",{class:!0});var s=F(t);le(e.$$.fragment,s),s.forEach($),this.h()},h(){C(t,"class","dark-pagination-nav svelte-1tvwpem")},m(o,s){x(o,t,s),oe(e,t,null),r=!0},p(o,[s]){const l=s&1?pt(i,[Zo(o[0])]):{};e.$set(l)},i(o){r||(M(e.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),r=!1},d(o){o&&$(t),se(e)}}}function _he(n,t,e){function r(i){ke.call(this,n,i)}return n.$$set=i=>{e(0,t=ye(ye({},t),st(i)))},t=st(t),[t,r]}class $he extends Le{constructor(t){super(),xe(this,t,_he,bhe,Ae,{})}}function I_(n,t,e){const r=n.slice();return r[11]=t[e],r}function C_(n,t,e){const r=n.slice();return r[0]=t[e],r}function P_(n){let t,e,r,i=n[0].label+"",a,o,s,l,u,f,c,d,h=(n[0].description.length>0?n[0].description:"No description")+"",v,p,y,g,m,_,E,b,S,O,I,w;l=new Qt({props:{src:Pp,size:"24"}}),f=new iv({props:{divClass:"my-2"}});let k=n[0].properties.length>0&&A_(n);const R=[Ohe,She],T=[];function P(A,K){return A[3]?0:A[1].length===0&&!A[3]&&A[0].is_fetched?1:-1}return~(m=P(n))&&(_=T[m]=R[m](n)),S=new $he({props:{totalItems:n[1].length,pageSize:av,currentPage:n[2],limit:1,showStepOptions:!0}}),S.$on("setPage",n[8]),{c(){t=z("div"),e=z("div"),r=z("h1"),a=ve(i),o=te(),s=z("button"),ae(l.$$.fragment),u=te(),ae(f.$$.fragment),c=te(),d=z("p"),v=ve(h),p=te(),y=z("div"),k&&k.c(),g=te(),_&&_.c(),E=te(),b=z("div"),ae(S.$$.fragment),this.h()},l(A){t=j(A,"DIV",{class:!0});var K=F(t);e=j(K,"DIV",{class:!0});var U=F(e);r=j(U,"H1",{class:!0});var fe=F(r);a=pe(fe,i),fe.forEach($),o=re(U),s=j(U,"BUTTON",{});var L=F(s);le(l.$$.fragment,L),L.forEach($),U.forEach($),u=re(K),le(f.$$.fragment,K),c=re(K),d=j(K,"P",{class:!0});var W=F(d);v=pe(W,h),W.forEach($),p=re(K),y=j(K,"DIV",{class:!0});var Y=F(y);k&&k.l(Y),g=re(Y),_&&_.l(Y),Y.forEach($),E=re(K),b=j(K,"DIV",{class:!0});var B=F(b);le(S.$$.fragment,B),B.forEach($),K.forEach($),this.h()},h(){C(r,"class","text-lg font-bold truncate"),C(e,"class","flex justify-between items-center"),C(d,"class","mb-2"),C(y,"class","w-full max-h-full overflow-y-auto overflow-x-hidden flex-grow flex flex-col gap-2"),C(b,"class","pagination mt-2 svelte-cur5oi"),C(t,"class","p-4 h-4/5 top-1/2 flex flex-col -translate-y-1/2 absolute right-4 w-96 shadow-lg rounded-lg border dark:border-dark-muted dark:bg-dark-bg bg-white z-50")},m(A,K){x(A,t,K),D(t,e),D(e,r),D(r,a),D(e,o),D(e,s),oe(l,s,null),D(t,u),oe(f,t,null),D(t,c),D(t,d),D(d,v),D(t,p),D(t,y),k&&k.m(y,null),D(y,g),~m&&T[m].m(y,null),D(t,E),D(t,b),oe(S,b,null),O=!0,I||(w=J(s,"click",n[7]),I=!0)},p(A,K){(!O||K&1)&&i!==(i=A[0].label+"")&&tt(a,i),(!O||K&1)&&h!==(h=(A[0].description.length>0?A[0].description:"No description")+"")&&tt(v,h),A[0].properties.length>0?k?(k.p(A,K),K&1&&M(k,1)):(k=A_(A),k.c(),M(k,1),k.m(y,g)):k&&(Fe(),N(k,1,1,()=>{k=null}),Be());let U=m;m=P(A),m!==U&&(_&&(Fe(),N(T[U],1,1,()=>{T[U]=null}),Be()),~m?(_=T[m],_||(_=T[m]=R[m](A),_.c()),M(_,1),_.m(y,null)):_=null);const fe={};K&2&&(fe.totalItems=A[1].length),K&4&&(fe.currentPage=A[2]),S.$set(fe)},i(A){O||(M(l.$$.fragment,A),M(f.$$.fragment,A),M(k),M(_),M(S.$$.fragment,A),O=!0)},o(A){N(l.$$.fragment,A),N(f.$$.fragment,A),N(k),N(_),N(S.$$.fragment,A),O=!1},d(A){A&&$(t),se(l),se(f),k&&k.d(),~m&&T[m].d(),se(S),I=!1,w()}}}function A_(n){let t,e,r=n[5],i=[];for(let o=0;o<r.length;o+=1)i[o]=R_(I_(n,r,o));const a=o=>N(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=$e()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);t=$e()},m(o,s){for(let l=0;l<i.length;l+=1)i[l].m(o,s);x(o,t,s),e=!0},p(o,s){if(s&48){r=o[5];let l;for(l=0;l<r.length;l+=1){const u=I_(o,r,l);i[l]?(i[l].p(u,s),M(i[l],1)):(i[l]=R_(u),i[l].c(),M(i[l],1),i[l].m(t.parentNode,t))}for(Fe(),l=r.length;l<i.length;l+=1)a(l);Be()}},i(o){if(!e){for(let s=0;s<r.length;s+=1)M(i[s]);e=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)N(i[s]);e=!1},d(o){nr(i,o),o&&$(t)}}}function whe(n){let t;return{c(){t=ve("No related nodes")},l(e){t=pe(e,"No related nodes")},m(e,r){x(e,t,r)},p:_e,i:_e,o:_e,d(e){e&&$(t)}}}function khe(n){let t,e,r;return e=new Js({}),{c(){t=z("div"),ae(e.$$.fragment),this.h()},l(i){t=j(i,"DIV",{class:!0});var a=F(t);le(e.$$.fragment,a),a.forEach($),this.h()},h(){C(t,"class","h-4 w-4 m-auto")},m(i,a){x(i,t,a),oe(e,t,null),r=!0},p:_e,i(i){r||(M(e.$$.fragment,i),r=!0)},o(i){N(e.$$.fragment,i),r=!1},d(i){i&&$(t),se(e)}}}function Ehe(n){let t,e,r=n[11].related.slice(0,5),i=[];for(let o=0;o<r.length;o+=1)i[o]=M_(C_(n,r,o));let a=n[11].related.length>5&&D_();return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=te(),a&&a.c(),e=$e()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);t=re(o),a&&a.l(o),e=$e()},m(o,s){for(let l=0;l<i.length;l+=1)i[l].m(o,s);x(o,t,s),a&&a.m(o,s),x(o,e,s)},p(o,s){if(s&32){r=o[11].related.slice(0,5);let l;for(l=0;l<r.length;l+=1){const u=C_(o,r,l);i[l]?i[l].p(u,s):(i[l]=M_(u),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}o[11].related.length>5?a||(a=D_(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:_e,o:_e,d(o){nr(i,o),o&&$(t),a&&a.d(o),o&&$(e)}}}function M_(n){let t,e=n[0].label+"",r,i;return{c(){t=z("div"),r=ve(e),this.h()},l(a){t=j(a,"DIV",{class:!0,title:!0});var o=F(t);r=pe(o,e),o.forEach($),this.h()},h(){C(t,"class","truncate"),C(t,"title",i=n[0].label)},m(a,o){x(a,t,o),D(t,r)},p(a,o){o&32&&e!==(e=a[0].label+"")&&tt(r,e),o&32&&i!==(i=a[0].label)&&C(t,"title",i)},d(a){a&&$(t)}}}function D_(n){let t,e;return{c(){t=z("div"),e=ve("... and more"),this.h()},l(r){t=j(r,"DIV",{class:!0,title:!0});var i=F(t);e=pe(i,"... and more"),i.forEach($),this.h()},h(){C(t,"class","truncate"),C(t,"title","... and more")},m(r,i){x(r,t,i),D(t,e)},d(r){r&&$(t)}}}function R_(n){let t,e,r=n[11].label+"",i,a,o,s,l,u,f;const c=[Ehe,khe,whe],d=[];function h(v,p){return v[11].related&&v[11].related.length>0?0:v[4]?1:2}return s=h(n),l=d[s]=c[s](n),{c(){t=z("div"),e=z("p"),i=ve(r),a=te(),o=z("div"),l.c(),u=te(),this.h()},l(v){t=j(v,"DIV",{class:!0});var p=F(t);e=j(p,"P",{class:!0});var y=F(e);i=pe(y,r),y.forEach($),a=re(p),o=j(p,"DIV",{class:!0});var g=F(o);l.l(g),g.forEach($),u=re(p),p.forEach($),this.h()},h(){C(e,"class","text-sm absolute top-0 left-1 px-1 bg-white dark:bg-dark-bg"),C(o,"class","w-full border-light dark:border-dark-muted rounded-lg border p-2"),C(t,"class","flex flex-col relative pt-3")},m(v,p){x(v,t,p),D(t,e),D(e,i),D(t,a),D(t,o),d[s].m(o,null),D(t,u),f=!0},p(v,p){(!f||p&32)&&r!==(r=v[11].label+"")&&tt(i,r);let y=s;s=h(v),s===y?d[s].p(v,p):(Fe(),N(d[y],1,1,()=>{d[y]=null}),Be(),l=d[s],l?l.p(v,p):(l=d[s]=c[s](v),l.c()),M(l,1),l.m(o,null))},i(v){f||(M(l),f=!0)},o(v){N(l),f=!1},d(v){v&&$(t),d[s].d()}}}function She(n){let t,e;return t=new sde({props:{text:"No properties found"}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}function Ohe(n){let t,e,r;return e=new Js({}),{c(){t=z("div"),ae(e.$$.fragment),this.h()},l(i){t=j(i,"DIV",{class:!0});var a=F(t);le(e.$$.fragment,a),a.forEach($),this.h()},h(){C(t,"class","w-8 h-8 m-auto")},m(i,a){x(i,t,a),oe(e,t,null),r=!0},i(i){r||(M(e.$$.fragment,i),r=!0)},o(i){N(e.$$.fragment,i),r=!1},d(i){i&&$(t),se(e)}}}function The(n){let t,e,r=n[0]&&P_(n);return{c(){r&&r.c(),t=$e()},l(i){r&&r.l(i),t=$e()},m(i,a){r&&r.m(i,a),x(i,t,a),e=!0},p(i,[a]){i[0]?r?(r.p(i,a),a&1&&M(r,1)):(r=P_(i),r.c(),M(r,1),r.m(t.parentNode,t)):r&&(Fe(),N(r,1,1,()=>{r=null}),Be())},i(i){e||(M(r),e=!0)},o(i){N(r),e=!1},d(i){r&&r.d(i),i&&$(t)}}}const av=8;function Ihe(n,t,e){let{node:r}=t,{graph:i}=t,a=!1,o=!1,s=[],l=1,u=[];async function f(){if(r){e(5,u=$_({items:s,pageSize:av,currentPage:l})),e(4,o=!0);for(const v of u){if(!r)return;await i.load_related_nodes(r.id,v,!1,void 0,!1),e(5,u)}e(4,o=!1)}}async function c(){r&&(e(2,l=1),e(5,u=$_({items:r.properties,pageSize:av,currentPage:l})),r.is_fetched||(e(3,a=!0),i.load_node(r.id).then(()=>e(0,r)),await i.get_properties(r.id)),e(3,a=!1),e(1,s=r==null?void 0:r.properties))}const d=()=>e(0,r=void 0),h=v=>e(2,l=v.detail.page);return n.$$set=v=>{"node"in v&&e(0,r=v.node),"graph"in v&&e(6,i=v.graph)},n.$$.update=()=>{n.$$.dirty&1&&r&&c(),n.$$.dirty&6&&f()},[r,s,l,a,o,u,i,d,h]}class Che extends Le{constructor(t){super(),xe(this,t,Ihe,The,Ae,{node:0,graph:6})}}function Phe(n){let t,e,r,i,a,o,s,l,u,f,c,d,h,v,p,y;t=new Ife({}),r=new Zde({});function g(b){n[9](b)}let m={graph:n[1]};n[6]!==void 0&&(m.node=n[6]),a=new Che({props:m}),yt.push(()=>Rr(a,"node",g,n[6])),f=new ace({props:{menu_position:n[3],selected_node:n[2],graph:n[1],loading:n[7],information_tab_visible:n[6]!==void 0}});function _(b){n[12](b)}let E={on_information:n[11],menu_position:n[3],selection:n[5],graph:n[1]};return n[4]!==void 0&&(E.hidden=n[4]),d=new Dle({props:E}),yt.push(()=>Rr(d,"hidden",_,n[4])),p=new Xde({props:{graph:n[1]}}),{c(){ae(t.$$.fragment),e=te(),ae(r.$$.fragment),i=te(),ae(a.$$.fragment),s=te(),l=z("div"),u=te(),ae(f.$$.fragment),c=te(),ae(d.$$.fragment),v=te(),ae(p.$$.fragment),this.h()},l(b){le(t.$$.fragment,b),e=re(b),le(r.$$.fragment,b),i=re(b),le(a.$$.fragment,b),s=re(b),l=j(b,"DIV",{class:!0}),F(l).forEach($),u=re(b),le(f.$$.fragment,b),c=re(b),le(d.$$.fragment,b),v=re(b),le(p.$$.fragment,b),this.h()},h(){C(l,"class","w-full h-full")},m(b,S){oe(t,b,S),x(b,e,S),oe(r,b,S),x(b,i,S),oe(a,b,S),x(b,s,S),x(b,l,S),n[10](l),x(b,u,S),oe(f,b,S),x(b,c,S),oe(d,b,S),x(b,v,S),oe(p,b,S),y=!0},p(b,[S]){const O={};S&2&&(O.graph=b[1]),!o&&S&64&&(o=!0,O.node=b[6],Nr(()=>o=!1)),a.$set(O);const I={};S&8&&(I.menu_position=b[3]),S&4&&(I.selected_node=b[2]),S&2&&(I.graph=b[1]),S&128&&(I.loading=b[7]),S&64&&(I.information_tab_visible=b[6]!==void 0),f.$set(I);const w={};S&64&&(w.on_information=b[11]),S&8&&(w.menu_position=b[3]),S&32&&(w.selection=b[5]),S&2&&(w.graph=b[1]),!h&&S&16&&(h=!0,w.hidden=b[4],Nr(()=>h=!1)),d.$set(w);const k={};S&2&&(k.graph=b[1]),p.$set(k)},i(b){y||(M(t.$$.fragment,b),M(r.$$.fragment,b),M(a.$$.fragment,b),M(f.$$.fragment,b),M(d.$$.fragment,b),M(p.$$.fragment,b),y=!0)},o(b){N(t.$$.fragment,b),N(r.$$.fragment,b),N(a.$$.fragment,b),N(f.$$.fragment,b),N(d.$$.fragment,b),N(p.$$.fragment,b),y=!1},d(b){se(t,b),b&&$(e),se(r,b),b&&$(i),se(a,b),b&&$(s),b&&$(l),n[10](null),b&&$(u),se(f,b),b&&$(c),se(d,b),b&&$(v),se(p,b)}}}function Ahe(n,t,e){let r;Jo(n,mt,b=>e(14,r=b));let i,a,o,s,l={x:0,y:0},u=!0,f,c,d=!1,{value:h}=t;async function v(b){e(1,a=new lce),await a.load_node(b),a.update_data();const S={interaction:{hideEdgesOnDrag:r.hide_edges_on_drag??!1},nodes:{color:$i?"#6a7e9d":"#74a0e9",shape:"dot",font:{color:$i?"white":"black"},borderWidth:3,chosen:!1,widthConstraint:{maximum:125}},edges:{arrows:{to:{enabled:!0,type:"arrow"}},widthConstraint:{maximum:125},font:{strokeWidth:0,color:$i?"white":"black",background:$i?"#111827":"white"},color:{color:$i?"#4a5e7d":"#74a0e9",highlight:$i?"#4a5e7d":"#74a0e9"},labelHighlightBold:!1},physics:{solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-75,springLength:100,springConstant:.02},maxVelocity:50,minVelocity:3,timestep:.35}};o=new de(i,a.data,S),a.set_network(o),setTimeout(()=>{o.fit({animation:{duration:0,easingFunction:"easeInOutQuad"}})},4),o.on("click",y),o.on("oncontext",p)}function p(b){b.event.preventDefault(),e(2,s=void 0);const S=o.getNodeAt(b.pointer.DOM),O=a.get_node(S);O?e(5,f=O):e(5,f=void 0),e(4,u=!1),e(3,l=b.pointer.DOM)}function y(b){if(e(4,u=!0),o.getSelectedNodes().length>0){const S=b.nodes[0],O=a.get_node(S);if(!O||O.type==="literal")return;e(2,s=O);const I=o.canvasToDOM(o.getPosition(S));e(3,l=I),e(7,d=!0),a.get_properties(S).then(w=>{u&&s!==void 0&&e(2,s=w),e(7,d=!1)})}else e(2,s=void 0)}function g(b){c=b,e(6,c)}function m(b){yt[b?"unshift":"push"](()=>{i=b,e(0,i)})}const _=b=>e(6,c=b);function E(b){u=b,e(4,u)}return n.$$set=b=>{"value"in b&&e(8,h=b.value)},n.$$.update=()=>{n.$$.dirty&256&&h&&v(h)},[i,a,s,l,u,f,c,d,h,g,m,_,E]}class Mhe extends Le{constructor(t){super(),xe(this,t,Ahe,Phe,Ae,{value:8})}}function Dhe(n){let t,e;return t=new Mhe({props:{value:"http://www.wikidata.org/entity/Q84263196"}}),{c(){ae(t.$$.fragment)},l(r){le(t.$$.fragment,r)},m(r,i){oe(t,r,i),e=!0},p:_e,i(r){e||(M(t.$$.fragment,r),e=!0)},o(r){N(t.$$.fragment,r),e=!1},d(r){se(t,r)}}}class Lhe extends Le{constructor(t){super(),xe(this,t,null,Dhe,Ae,{})}}export{Lhe as default};
